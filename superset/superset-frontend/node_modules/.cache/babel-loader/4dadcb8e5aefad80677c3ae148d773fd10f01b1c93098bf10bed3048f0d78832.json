{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\n\nimport {\n  FETCH_ALL_SLICES_FAILED,\n  FETCH_ALL_SLICES_STARTED,\n  ADD_SLICES,\n  SET_SLICES } from\n'../actions/sliceEntities';\nimport { HYDRATE_DASHBOARD } from '../actions/hydrate';\n\nexport const initSliceEntities = {\n  slices: {},\n  isLoading: true,\n  errorMessage: null,\n  lastUpdated: 0\n};\n\nexport default function sliceEntitiesReducer(\nstate = initSliceEntities,\naction)\n{\n  const actionHandlers = {\n    [HYDRATE_DASHBOARD]() {\n      return {\n        ...action.data.sliceEntities\n      };\n    },\n    [FETCH_ALL_SLICES_STARTED]() {\n      return {\n        ...state,\n        isLoading: true\n      };\n    },\n    [ADD_SLICES]() {\n      return {\n        ...state,\n        isLoading: false,\n        slices: { ...state.slices, ...action.payload.slices },\n        lastUpdated: new Date().getTime()\n      };\n    },\n    [SET_SLICES]() {\n      return {\n        isLoading: false,\n        slices: { ...action.payload.slices },\n        lastUpdated: new Date().getTime()\n      };\n    },\n    [FETCH_ALL_SLICES_FAILED]() {\n      return {\n        ...state,\n        isLoading: false,\n        lastUpdated: new Date().getTime(),\n        errorMessage:\n        action.payload.error || t('Could not fetch all saved charts')\n      };\n    }\n  };\n\n  if (action.type in actionHandlers) {\n    return actionHandlers[action.type]();\n  }\n  return state;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(initSliceEntities, \"initSliceEntities\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/reducers/sliceEntities.js\");reactHotLoader.register(sliceEntitiesReducer, \"sliceEntitiesReducer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/reducers/sliceEntities.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["t","FETCH_ALL_SLICES_FAILED","FETCH_ALL_SLICES_STARTED","ADD_SLICES","SET_SLICES","HYDRATE_DASHBOARD","initSliceEntities","slices","isLoading","errorMessage","lastUpdated","sliceEntitiesReducer","state","action","actionHandlers","data","sliceEntities","payload","Date","getTime","error","type","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/reducers/sliceEntities.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\n\nimport {\n  FETCH_ALL_SLICES_FAILED,\n  FETCH_ALL_SLICES_STARTED,\n  ADD_SLICES,\n  SET_SLICES,\n} from '../actions/sliceEntities';\nimport { HYDRATE_DASHBOARD } from '../actions/hydrate';\n\nexport const initSliceEntities = {\n  slices: {},\n  isLoading: true,\n  errorMessage: null,\n  lastUpdated: 0,\n};\n\nexport default function sliceEntitiesReducer(\n  state = initSliceEntities,\n  action,\n) {\n  const actionHandlers = {\n    [HYDRATE_DASHBOARD]() {\n      return {\n        ...action.data.sliceEntities,\n      };\n    },\n    [FETCH_ALL_SLICES_STARTED]() {\n      return {\n        ...state,\n        isLoading: true,\n      };\n    },\n    [ADD_SLICES]() {\n      return {\n        ...state,\n        isLoading: false,\n        slices: { ...state.slices, ...action.payload.slices },\n        lastUpdated: new Date().getTime(),\n      };\n    },\n    [SET_SLICES]() {\n      return {\n        isLoading: false,\n        slices: { ...action.payload.slices },\n        lastUpdated: new Date().getTime(),\n      };\n    },\n    [FETCH_ALL_SLICES_FAILED]() {\n      return {\n        ...state,\n        isLoading: false,\n        lastUpdated: new Date().getTime(),\n        errorMessage:\n          action.payload.error || t('Could not fetch all saved charts'),\n      };\n    },\n  };\n\n  if (action.type in actionHandlers) {\n    return actionHandlers[action.type]();\n  }\n  return state;\n}\n"],"mappings":"wSAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,CAAC,QAAQ,mBAAmB;;AAErC;EACEC,uBAAuB;EACvBC,wBAAwB;EACxBC,UAAU;EACVC,UAAU;AACL,0BAA0B;AACjC,SAASC,iBAAiB,QAAQ,oBAAoB;;AAEtD,OAAO,MAAMC,iBAAiB,GAAG;EAC/BC,MAAM,EAAE,CAAC,CAAC;EACVC,SAAS,EAAE,IAAI;EACfC,YAAY,EAAE,IAAI;EAClBC,WAAW,EAAE;AACf,CAAC;;AAED,eAAe,SAASC,oBAAoBA;AAC1CC,KAAK,GAAGN,iBAAiB;AACzBO,MAAM;AACN;EACA,MAAMC,cAAc,GAAG;IACrB,CAACT,iBAAiB,IAAI;MACpB,OAAO;QACL,GAAGQ,MAAM,CAACE,IAAI,CAACC;MACjB,CAAC;IACH,CAAC;IACD,CAACd,wBAAwB,IAAI;MAC3B,OAAO;QACL,GAAGU,KAAK;QACRJ,SAAS,EAAE;MACb,CAAC;IACH,CAAC;IACD,CAACL,UAAU,IAAI;MACb,OAAO;QACL,GAAGS,KAAK;QACRJ,SAAS,EAAE,KAAK;QAChBD,MAAM,EAAE,EAAE,GAAGK,KAAK,CAACL,MAAM,EAAE,GAAGM,MAAM,CAACI,OAAO,CAACV,MAAM,CAAC,CAAC;QACrDG,WAAW,EAAE,IAAIQ,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC;MAClC,CAAC;IACH,CAAC;IACD,CAACf,UAAU,IAAI;MACb,OAAO;QACLI,SAAS,EAAE,KAAK;QAChBD,MAAM,EAAE,EAAE,GAAGM,MAAM,CAACI,OAAO,CAACV,MAAM,CAAC,CAAC;QACpCG,WAAW,EAAE,IAAIQ,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC;MAClC,CAAC;IACH,CAAC;IACD,CAAClB,uBAAuB,IAAI;MAC1B,OAAO;QACL,GAAGW,KAAK;QACRJ,SAAS,EAAE,KAAK;QAChBE,WAAW,EAAE,IAAIQ,IAAI,CAAC,CAAC,CAACC,OAAO,CAAC,CAAC;QACjCV,YAAY;QACVI,MAAM,CAACI,OAAO,CAACG,KAAK,IAAIpB,CAAC,CAAC,kCAAkC;MAChE,CAAC;IACH;EACF,CAAC;;EAED,IAAIa,MAAM,CAACQ,IAAI,IAAIP,cAAc,EAAE;IACjC,OAAOA,cAAc,CAACD,MAAM,CAACQ,IAAI,CAAC,CAAC,CAAC;EACtC;EACA,OAAOT,KAAK;AACd,CAAC,mBAAAU,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CArDYpB,iBAAiB,yHAAAgB,cAAA,CAAAI,QAAA,CAONf,oBAAoB,oJAAAgB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}