{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable no-param-reassign */\n/* eslint-disable react/sort-prop-types */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { sankey as d3Sankey } from 'd3-sankey';\nimport {\n  getNumberFormatter,\n  NumberFormats,\n  CategoricalColorNamespace } from\n'@superset-ui/core';\nimport { getOverlappingElements } from './utils';\n\nconst propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      source: PropTypes.string,\n      target: PropTypes.string,\n      value: PropTypes.number\n    })\n  ),\n  width: PropTypes.number,\n  height: PropTypes.number,\n  colorScheme: PropTypes.string\n};\n\nconst formatNumber = getNumberFormatter(NumberFormats.FLOAT);\n\nfunction Sankey(element, props) {\n  const { data, width, height, colorScheme, sliceId } = props;\n  const div = d3.select(element);\n  div.classed(`superset-legacy-chart-sankey`, true);\n  const margin = {\n    top: 5,\n    right: 5,\n    bottom: 5,\n    left: 5\n  };\n  const innerWidth = width - margin.left - margin.right;\n  const innerHeight = height - margin.top - margin.bottom;\n\n  div.selectAll('*').remove();\n  const tooltip = div.\n  append('div').\n  attr('class', 'sankey-tooltip').\n  style('opacity', 0);\n  const svg = div.\n  append('svg').\n  attr('width', innerWidth + margin.left + margin.right).\n  attr('height', innerHeight + margin.top + margin.bottom).\n  append('g').\n  attr('transform', `translate(${margin.left},${margin.top})`);\n\n  const colorFn = CategoricalColorNamespace.getScale(colorScheme);\n\n  const sankey = d3Sankey().\n  nodeWidth(15).\n  nodePadding(10).\n  size([innerWidth, innerHeight]);\n\n  const path = sankey.link();\n\n  let nodes = {};\n  // Compute the distinct nodes from the links.\n  const links = data.map((row) => {\n    const link = { ...row };\n    link.source =\n    nodes[link.source] || (nodes[link.source] = { name: link.source });\n    link.target =\n    nodes[link.target] || (nodes[link.target] = { name: link.target });\n    link.value = Number(link.value);\n\n    return link;\n  });\n  nodes = d3.values(nodes);\n\n  sankey.nodes(nodes).links(links).layout(32);\n\n  function getTooltipHtml(d) {\n    let html;\n\n    if (d.sourceLinks) {\n      // is node\n      html = `${d.name} Value: <span class='emph'>${formatNumber(\n        d.value\n      )}</span>`;\n    } else {\n      const val = formatNumber(d.value);\n      const sourcePercent = d3.round(d.value / d.source.value * 100, 1);\n      const targetPercent = d3.round(d.value / d.target.value * 100, 1);\n\n      html = [\n      \"<div class=''>Path Value: <span class='emph'>\",\n      val,\n      '</span></div>',\n      \"<div class='percents'>\",\n      \"<span class='emph'>\",\n      Number.isFinite(sourcePercent) ? sourcePercent : '100',\n      '%</span> of ',\n      d.source.name,\n      '<br/>',\n      `<span class='emph'>${\n      Number.isFinite(targetPercent) ? targetPercent : '--'\n      }%</span> of `,\n      d.target.name,\n      '</div>'].\n      join('');\n    }\n\n    return html;\n  }\n\n  function onmouseover(d) {\n    tooltip.\n    html(() => getTooltipHtml(d)).\n    transition().\n    duration(200);\n    const { height: tooltipHeight, width: tooltipWidth } = tooltip.\n    node().\n    getBoundingClientRect();\n    tooltip.\n    style(\n      'left',\n      `${Math.min(d3.event.offsetX + 10, width - tooltipWidth)}px`\n    ).\n    style(\n      'top',\n      `${Math.min(d3.event.offsetY + 10, height - tooltipHeight)}px`\n    ).\n    style('position', 'absolute').\n    style('opacity', 0.95);\n  }\n\n  function onmouseout() {\n    tooltip.transition().duration(100).style('opacity', 0);\n  }\n\n  const link = svg.\n  append('g').\n  selectAll('.link').\n  data(links).\n  enter().\n  append('path').\n  attr('class', 'link').\n  attr('d', path).\n  style('stroke-width', (d) => Math.max(1, d.dy)).\n  sort((a, b) => b.dy - a.dy).\n  on('mouseover', onmouseover).\n  on('mouseout', onmouseout);\n\n  function dragmove(d) {\n    d3.select(this).attr(\n      'transform',\n      `translate(${d.x},${d.y = Math.max(\n        0,\n        Math.min(height - d.dy, d3.event.y)\n      )})`\n    );\n    sankey.relayout();\n    link.attr('d', path);\n  }\n\n  function checkVisibility() {var _div$selectAll$;\n    const elements = (_div$selectAll$ = div.selectAll('.node')[0]) != null ? _div$selectAll$ : [];\n    const overlappingElements = getOverlappingElements(elements);\n\n    elements.forEach((el) => {\n      const text = el.getElementsByTagName('text')[0];\n\n      if (text) {\n        if (overlappingElements.includes(el)) {\n          text.classList.add('opacity-0');\n        } else {\n          text.classList.remove('opacity-0');\n        }\n      }\n    });\n  }\n\n  const node = svg.\n  append('g').\n  selectAll('.node').\n  data(nodes).\n  enter().\n  append('g').\n  attr('class', 'node').\n  attr('transform', (d) => `translate(${d.x},${d.y})`).\n  call(\n    d3.behavior.\n    drag().\n    origin((d) => d).\n    on('dragstart', function dragStart() {\n      this.parentNode.append(this);\n    }).\n    on('drag', dragmove).\n    on('dragend', checkVisibility)\n  );\n  const minRectHeight = 5;\n  node.\n  append('rect').\n  attr('height', (d) => d.dy > minRectHeight ? d.dy : minRectHeight).\n  attr('width', sankey.nodeWidth()).\n  style('fill', (d) => {\n    const name = d.name || 'N/A';\n    d.color = colorFn(name, sliceId);\n\n    return d.color;\n  }).\n  style('stroke', (d) => d3.rgb(d.color).darker(2)).\n  on('mouseover', onmouseover).\n  on('mouseout', onmouseout);\n\n  node.\n  append('text').\n  attr('x', -6).\n  attr('y', (d) => d.dy / 2).\n  attr('dy', '.35em').\n  attr('text-anchor', 'end').\n  attr('transform', null).\n  text((d) => d.name).\n  attr('class', 'opacity-0').\n  filter((d) => d.x < innerWidth / 2).\n  attr('x', 6 + sankey.nodeWidth()).\n  attr('text-anchor', 'start');\n\n  checkVisibility();\n}\n\nSankey.displayName = 'Sankey';\nSankey.propTypes = propTypes;const _default =\n\nSankey;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/Sankey.js\");reactHotLoader.register(formatNumber, \"formatNumber\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/Sankey.js\");reactHotLoader.register(Sankey, \"Sankey\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/Sankey.js\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/Sankey.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["d3","PropTypes","sankey","d3Sankey","getNumberFormatter","NumberFormats","CategoricalColorNamespace","getOverlappingElements","propTypes","data","arrayOf","shape","source","string","target","value","number","width","height","colorScheme","formatNumber","FLOAT","Sankey","element","props","sliceId","div","select","classed","margin","top","right","bottom","left","innerWidth","innerHeight","selectAll","remove","tooltip","append","attr","style","svg","colorFn","getScale","nodeWidth","nodePadding","size","path","link","nodes","links","map","row","name","Number","values","layout","getTooltipHtml","d","html","sourceLinks","val","sourcePercent","round","targetPercent","isFinite","join","onmouseover","transition","duration","tooltipHeight","tooltipWidth","node","getBoundingClientRect","Math","min","event","offsetX","offsetY","onmouseout","enter","max","dy","sort","a","b","on","dragmove","x","y","relayout","checkVisibility","_div$selectAll$","elements","overlappingElements","forEach","el","text","getElementsByTagName","includes","classList","add","call","behavior","drag","origin","dragStart","parentNode","minRectHeight","color","rgb","darker","filter","displayName","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/Sankey.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable no-param-reassign */\n/* eslint-disable react/sort-prop-types */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { sankey as d3Sankey } from 'd3-sankey';\nimport {\n  getNumberFormatter,\n  NumberFormats,\n  CategoricalColorNamespace,\n} from '@superset-ui/core';\nimport { getOverlappingElements } from './utils';\n\nconst propTypes = {\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      source: PropTypes.string,\n      target: PropTypes.string,\n      value: PropTypes.number,\n    }),\n  ),\n  width: PropTypes.number,\n  height: PropTypes.number,\n  colorScheme: PropTypes.string,\n};\n\nconst formatNumber = getNumberFormatter(NumberFormats.FLOAT);\n\nfunction Sankey(element, props) {\n  const { data, width, height, colorScheme, sliceId } = props;\n  const div = d3.select(element);\n  div.classed(`superset-legacy-chart-sankey`, true);\n  const margin = {\n    top: 5,\n    right: 5,\n    bottom: 5,\n    left: 5,\n  };\n  const innerWidth = width - margin.left - margin.right;\n  const innerHeight = height - margin.top - margin.bottom;\n\n  div.selectAll('*').remove();\n  const tooltip = div\n    .append('div')\n    .attr('class', 'sankey-tooltip')\n    .style('opacity', 0);\n  const svg = div\n    .append('svg')\n    .attr('width', innerWidth + margin.left + margin.right)\n    .attr('height', innerHeight + margin.top + margin.bottom)\n    .append('g')\n    .attr('transform', `translate(${margin.left},${margin.top})`);\n\n  const colorFn = CategoricalColorNamespace.getScale(colorScheme);\n\n  const sankey = d3Sankey()\n    .nodeWidth(15)\n    .nodePadding(10)\n    .size([innerWidth, innerHeight]);\n\n  const path = sankey.link();\n\n  let nodes = {};\n  // Compute the distinct nodes from the links.\n  const links = data.map(row => {\n    const link = { ...row };\n    link.source =\n      nodes[link.source] || (nodes[link.source] = { name: link.source });\n    link.target =\n      nodes[link.target] || (nodes[link.target] = { name: link.target });\n    link.value = Number(link.value);\n\n    return link;\n  });\n  nodes = d3.values(nodes);\n\n  sankey.nodes(nodes).links(links).layout(32);\n\n  function getTooltipHtml(d) {\n    let html;\n\n    if (d.sourceLinks) {\n      // is node\n      html = `${d.name} Value: <span class='emph'>${formatNumber(\n        d.value,\n      )}</span>`;\n    } else {\n      const val = formatNumber(d.value);\n      const sourcePercent = d3.round((d.value / d.source.value) * 100, 1);\n      const targetPercent = d3.round((d.value / d.target.value) * 100, 1);\n\n      html = [\n        \"<div class=''>Path Value: <span class='emph'>\",\n        val,\n        '</span></div>',\n        \"<div class='percents'>\",\n        \"<span class='emph'>\",\n        Number.isFinite(sourcePercent) ? sourcePercent : '100',\n        '%</span> of ',\n        d.source.name,\n        '<br/>',\n        `<span class='emph'>${\n          Number.isFinite(targetPercent) ? targetPercent : '--'\n        }%</span> of `,\n        d.target.name,\n        '</div>',\n      ].join('');\n    }\n\n    return html;\n  }\n\n  function onmouseover(d) {\n    tooltip\n      .html(() => getTooltipHtml(d))\n      .transition()\n      .duration(200);\n    const { height: tooltipHeight, width: tooltipWidth } = tooltip\n      .node()\n      .getBoundingClientRect();\n    tooltip\n      .style(\n        'left',\n        `${Math.min(d3.event.offsetX + 10, width - tooltipWidth)}px`,\n      )\n      .style(\n        'top',\n        `${Math.min(d3.event.offsetY + 10, height - tooltipHeight)}px`,\n      )\n      .style('position', 'absolute')\n      .style('opacity', 0.95);\n  }\n\n  function onmouseout() {\n    tooltip.transition().duration(100).style('opacity', 0);\n  }\n\n  const link = svg\n    .append('g')\n    .selectAll('.link')\n    .data(links)\n    .enter()\n    .append('path')\n    .attr('class', 'link')\n    .attr('d', path)\n    .style('stroke-width', d => Math.max(1, d.dy))\n    .sort((a, b) => b.dy - a.dy)\n    .on('mouseover', onmouseover)\n    .on('mouseout', onmouseout);\n\n  function dragmove(d) {\n    d3.select(this).attr(\n      'transform',\n      `translate(${d.x},${(d.y = Math.max(\n        0,\n        Math.min(height - d.dy, d3.event.y),\n      ))})`,\n    );\n    sankey.relayout();\n    link.attr('d', path);\n  }\n\n  function checkVisibility() {\n    const elements = div.selectAll('.node')[0] ?? [];\n    const overlappingElements = getOverlappingElements(elements);\n\n    elements.forEach(el => {\n      const text = el.getElementsByTagName('text')[0];\n\n      if (text) {\n        if (overlappingElements.includes(el)) {\n          text.classList.add('opacity-0');\n        } else {\n          text.classList.remove('opacity-0');\n        }\n      }\n    });\n  }\n\n  const node = svg\n    .append('g')\n    .selectAll('.node')\n    .data(nodes)\n    .enter()\n    .append('g')\n    .attr('class', 'node')\n    .attr('transform', d => `translate(${d.x},${d.y})`)\n    .call(\n      d3.behavior\n        .drag()\n        .origin(d => d)\n        .on('dragstart', function dragStart() {\n          this.parentNode.append(this);\n        })\n        .on('drag', dragmove)\n        .on('dragend', checkVisibility),\n    );\n  const minRectHeight = 5;\n  node\n    .append('rect')\n    .attr('height', d => (d.dy > minRectHeight ? d.dy : minRectHeight))\n    .attr('width', sankey.nodeWidth())\n    .style('fill', d => {\n      const name = d.name || 'N/A';\n      d.color = colorFn(name, sliceId);\n\n      return d.color;\n    })\n    .style('stroke', d => d3.rgb(d.color).darker(2))\n    .on('mouseover', onmouseover)\n    .on('mouseout', onmouseout);\n\n  node\n    .append('text')\n    .attr('x', -6)\n    .attr('y', d => d.dy / 2)\n    .attr('dy', '.35em')\n    .attr('text-anchor', 'end')\n    .attr('transform', null)\n    .text(d => d.name)\n    .attr('class', 'opacity-0')\n    .filter(d => d.x < innerWidth / 2)\n    .attr('x', 6 + sankey.nodeWidth())\n    .attr('text-anchor', 'start');\n\n  checkVisibility();\n}\n\nSankey.displayName = 'Sankey';\nSankey.propTypes = propTypes;\n\nexport default Sankey;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}