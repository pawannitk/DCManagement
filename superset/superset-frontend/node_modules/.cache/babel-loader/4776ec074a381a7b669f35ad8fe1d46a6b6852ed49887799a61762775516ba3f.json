{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable react/no-array-index-key, react/jsx-no-bind */\nimport dist from 'distributions';\nimport React from 'react';\nimport { Table, Tr, Td, Thead, Th } from 'reactable';\nimport PropTypes from 'prop-types';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nexport const dataPropType = PropTypes.arrayOf(\n  PropTypes.shape({\n    group: PropTypes.arrayOf(PropTypes.string),\n    values: PropTypes.arrayOf(\n      PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number\n      })\n    )\n  })\n);\n\nconst propTypes = {\n  alpha: PropTypes.number,\n  data: dataPropType.isRequired,\n  groups: PropTypes.arrayOf(PropTypes.string).isRequired,\n  liftValPrec: PropTypes.number,\n  metric: PropTypes.string.isRequired,\n  pValPrec: PropTypes.number\n};\n\nconst defaultProps = {\n  alpha: 0.05,\n  liftValPrec: 4,\n  pValPrec: 6\n};\n\nclass TTestTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      control: 0,\n      liftValues: [],\n      pValues: []\n    };\n  }\n\n  componentDidMount() {\n    const { control } = this.state;\n    this.computeTTest(control); // initially populate table\n  }\n\n  getLiftStatus(row) {\n    const { control, liftValues } = this.state;\n    // Get a css class name for coloring\n    if (row === control) {\n      return 'control';\n    }\n    const liftVal = liftValues[row];\n    if (Number.isNaN(liftVal) || !Number.isFinite(liftVal)) {\n      return 'invalid'; // infinite or NaN values\n    }\n\n    return liftVal >= 0 ? 'true' : 'false'; // green on true, red on false\n  }\n\n  getPValueStatus(row) {\n    const { control, pValues } = this.state;\n    if (row === control) {\n      return 'control';\n    }\n    const pVal = pValues[row];\n    if (Number.isNaN(pVal) || !Number.isFinite(pVal)) {\n      return 'invalid';\n    }\n\n    return ''; // p-values won't normally be colored\n  }\n\n  getSignificance(row) {\n    const { control, pValues } = this.state;\n    const { alpha } = this.props;\n    // Color significant as green, else red\n    if (row === control) {\n      return 'control';\n    }\n\n    // p-values significant below set threshold\n    return pValues[row] <= alpha;\n  }\n\n  computeLift(values, control) {\n    const { liftValPrec } = this.props;\n    // Compute the lift value between two time series\n    let sumValues = 0;\n    let sumControl = 0;\n    values.forEach((value, i) => {\n      sumValues += value.y;\n      sumControl += control[i].y;\n    });\n\n    return ((sumValues - sumControl) / sumControl * 100).toFixed(liftValPrec);\n  }\n\n  computePValue(values, control) {\n    const { pValPrec } = this.props;\n    // Compute the p-value from Student's t-test\n    // between two time series\n    let diffSum = 0;\n    let diffSqSum = 0;\n    let finiteCount = 0;\n    values.forEach((value, i) => {\n      const diff = control[i].y - value.y;\n      /* eslint-disable-next-line */\n      if (isFinite(diff)) {\n        finiteCount += 1;\n        diffSum += diff;\n        diffSqSum += diff * diff;\n      }\n    });\n    const tvalue = -Math.abs(\n      diffSum *\n      Math.sqrt(\n        (finiteCount - 1) / (finiteCount * diffSqSum - diffSum * diffSum)\n      )\n    );\n    try {\n      return (2 * new dist.Studentt(finiteCount - 1).cdf(tvalue)).toFixed(\n        pValPrec\n      ); // two-sided test\n    } catch (error) {\n      return NaN;\n    }\n  }\n\n  computeTTest(control) {\n    // Compute lift and p-values for each row\n    // against the selected control\n    const { data } = this.props;\n    const pValues = [];\n    const liftValues = [];\n    if (!data) {\n      return;\n    }\n    for (let i = 0; i < data.length; i += 1) {\n      if (i === control) {\n        pValues.push('control');\n        liftValues.push('control');\n      } else {\n        pValues.push(this.computePValue(data[i].values, data[control].values));\n        liftValues.push(this.computeLift(data[i].values, data[control].values));\n      }\n    }\n    this.setState({ control, liftValues, pValues });\n  }\n\n  render() {\n    const { data, metric, groups } = this.props;\n    const { control, liftValues, pValues } = this.state;\n\n    if (!Array.isArray(groups) || groups.length === 0) {\n      throw Error('Group by param is required');\n    }\n\n    // Render column header for each group\n    const columns = groups.map((group, i) =>\n    ___EmotionJSX(Th, { key: i, column: group },\n    group\n    )\n    );\n    const numGroups = groups.length;\n    // Columns for p-value, lift-value, and significance (true/false)\n    columns.push(\n      ___EmotionJSX(Th, { key: numGroups + 1, column: \"pValue\" }, \"p-value\"\n\n      )\n    );\n    columns.push(\n      ___EmotionJSX(Th, { key: numGroups + 2, column: \"liftValue\" }, \"Lift %\"\n\n      )\n    );\n    columns.push(\n      ___EmotionJSX(Th, { key: numGroups + 3, column: \"significant\" }, \"Significant\"\n\n      )\n    );\n    const rows = data.map((entry, i) => {\n      const values = groups.map(\n        (\n        group,\n        j // group names\n        ) => ___EmotionJSX(Td, { key: j, column: group, data: entry.group[j] })\n      );\n      values.push(\n        ___EmotionJSX(Td, {\n          key: numGroups + 1,\n          className: this.getPValueStatus(i),\n          column: \"pValue\",\n          data: pValues[i] }\n        )\n      );\n      values.push(\n        ___EmotionJSX(Td, {\n          key: numGroups + 2,\n          className: this.getLiftStatus(i),\n          column: \"liftValue\",\n          data: liftValues[i] }\n        )\n      );\n      values.push(\n        ___EmotionJSX(Td, {\n          key: numGroups + 3,\n          className: this.getSignificance(i).toString(),\n          column: \"significant\",\n          data: this.getSignificance(i) }\n        )\n      );\n\n      return (\n        ___EmotionJSX(Tr, {\n          key: i,\n          className: i === control ? 'control' : '',\n          onClick: this.computeTTest.bind(this, i) },\n\n        values\n        ));\n\n    });\n    // When sorted ascending, 'control' will always be at top\n    const sortConfig = groups.concat([\n    {\n      column: 'pValue',\n      sortFunction: (a, b) => {\n        if (a === 'control') {\n          return -1;\n        }\n        if (b === 'control') {\n          return 1;\n        }\n\n        return a > b ? 1 : -1; // p-values ascending\n      }\n    },\n    {\n      column: 'liftValue',\n      sortFunction: (a, b) => {\n        if (a === 'control') {\n          return -1;\n        }\n        if (b === 'control') {\n          return 1;\n        }\n\n        return parseFloat(a) > parseFloat(b) ? -1 : 1; // lift values descending\n      }\n    },\n    {\n      column: 'significant',\n      sortFunction: (a, b) => {\n        if (a === 'control') {\n          return -1;\n        }\n        if (b === 'control') {\n          return 1;\n        }\n\n        return a > b ? -1 : 1; // significant values first\n      }\n    }]\n    );\n\n    return (\n      ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(\"h3\", null, metric),\n      ___EmotionJSX(Table, { className: \"table\", id: `table_${metric}`, sortable: sortConfig },\n      ___EmotionJSX(Thead, null, columns),\n      rows\n      )\n      ));\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nTTestTable.propTypes = propTypes;\nTTestTable.defaultProps = defaultProps;const _default =\n\nTTestTable;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(dataPropType, \"dataPropType\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-paired-t-test/src/TTestTable.jsx\");reactHotLoader.register(propTypes, \"propTypes\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-paired-t-test/src/TTestTable.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-paired-t-test/src/TTestTable.jsx\");reactHotLoader.register(TTestTable, \"TTestTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-paired-t-test/src/TTestTable.jsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-paired-t-test/src/TTestTable.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["dist","React","Table","Tr","Td","Thead","Th","PropTypes","jsx","___EmotionJSX","dataPropType","arrayOf","shape","group","string","values","x","number","y","propTypes","alpha","data","isRequired","groups","liftValPrec","metric","pValPrec","defaultProps","TTestTable","Component","constructor","props","state","control","liftValues","pValues","componentDidMount","computeTTest","getLiftStatus","row","liftVal","Number","isNaN","isFinite","getPValueStatus","pVal","getSignificance","computeLift","sumValues","sumControl","forEach","value","i","toFixed","computePValue","diffSum","diffSqSum","finiteCount","diff","tvalue","Math","abs","sqrt","Studentt","cdf","error","NaN","length","push","setState","render","Array","isArray","Error","columns","map","key","column","numGroups","rows","entry","j","className","toString","onClick","bind","sortConfig","concat","sortFunction","a","b","parseFloat","id","sortable","__reactstandin__regenerateByEval","code","eval","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-paired-t-test/src/TTestTable.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable react/no-array-index-key, react/jsx-no-bind */\nimport dist from 'distributions';\nimport React from 'react';\nimport { Table, Tr, Td, Thead, Th } from 'reactable';\nimport PropTypes from 'prop-types';\n\nexport const dataPropType = PropTypes.arrayOf(\n  PropTypes.shape({\n    group: PropTypes.arrayOf(PropTypes.string),\n    values: PropTypes.arrayOf(\n      PropTypes.shape({\n        x: PropTypes.number,\n        y: PropTypes.number,\n      }),\n    ),\n  }),\n);\n\nconst propTypes = {\n  alpha: PropTypes.number,\n  data: dataPropType.isRequired,\n  groups: PropTypes.arrayOf(PropTypes.string).isRequired,\n  liftValPrec: PropTypes.number,\n  metric: PropTypes.string.isRequired,\n  pValPrec: PropTypes.number,\n};\n\nconst defaultProps = {\n  alpha: 0.05,\n  liftValPrec: 4,\n  pValPrec: 6,\n};\n\nclass TTestTable extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      control: 0,\n      liftValues: [],\n      pValues: [],\n    };\n  }\n\n  componentDidMount() {\n    const { control } = this.state;\n    this.computeTTest(control); // initially populate table\n  }\n\n  getLiftStatus(row) {\n    const { control, liftValues } = this.state;\n    // Get a css class name for coloring\n    if (row === control) {\n      return 'control';\n    }\n    const liftVal = liftValues[row];\n    if (Number.isNaN(liftVal) || !Number.isFinite(liftVal)) {\n      return 'invalid'; // infinite or NaN values\n    }\n\n    return liftVal >= 0 ? 'true' : 'false'; // green on true, red on false\n  }\n\n  getPValueStatus(row) {\n    const { control, pValues } = this.state;\n    if (row === control) {\n      return 'control';\n    }\n    const pVal = pValues[row];\n    if (Number.isNaN(pVal) || !Number.isFinite(pVal)) {\n      return 'invalid';\n    }\n\n    return ''; // p-values won't normally be colored\n  }\n\n  getSignificance(row) {\n    const { control, pValues } = this.state;\n    const { alpha } = this.props;\n    // Color significant as green, else red\n    if (row === control) {\n      return 'control';\n    }\n\n    // p-values significant below set threshold\n    return pValues[row] <= alpha;\n  }\n\n  computeLift(values, control) {\n    const { liftValPrec } = this.props;\n    // Compute the lift value between two time series\n    let sumValues = 0;\n    let sumControl = 0;\n    values.forEach((value, i) => {\n      sumValues += value.y;\n      sumControl += control[i].y;\n    });\n\n    return (((sumValues - sumControl) / sumControl) * 100).toFixed(liftValPrec);\n  }\n\n  computePValue(values, control) {\n    const { pValPrec } = this.props;\n    // Compute the p-value from Student's t-test\n    // between two time series\n    let diffSum = 0;\n    let diffSqSum = 0;\n    let finiteCount = 0;\n    values.forEach((value, i) => {\n      const diff = control[i].y - value.y;\n      /* eslint-disable-next-line */\n      if (isFinite(diff)) {\n        finiteCount += 1;\n        diffSum += diff;\n        diffSqSum += diff * diff;\n      }\n    });\n    const tvalue = -Math.abs(\n      diffSum *\n        Math.sqrt(\n          (finiteCount - 1) / (finiteCount * diffSqSum - diffSum * diffSum),\n        ),\n    );\n    try {\n      return (2 * new dist.Studentt(finiteCount - 1).cdf(tvalue)).toFixed(\n        pValPrec,\n      ); // two-sided test\n    } catch (error) {\n      return NaN;\n    }\n  }\n\n  computeTTest(control) {\n    // Compute lift and p-values for each row\n    // against the selected control\n    const { data } = this.props;\n    const pValues = [];\n    const liftValues = [];\n    if (!data) {\n      return;\n    }\n    for (let i = 0; i < data.length; i += 1) {\n      if (i === control) {\n        pValues.push('control');\n        liftValues.push('control');\n      } else {\n        pValues.push(this.computePValue(data[i].values, data[control].values));\n        liftValues.push(this.computeLift(data[i].values, data[control].values));\n      }\n    }\n    this.setState({ control, liftValues, pValues });\n  }\n\n  render() {\n    const { data, metric, groups } = this.props;\n    const { control, liftValues, pValues } = this.state;\n\n    if (!Array.isArray(groups) || groups.length === 0) {\n      throw Error('Group by param is required');\n    }\n\n    // Render column header for each group\n    const columns = groups.map((group, i) => (\n      <Th key={i} column={group}>\n        {group}\n      </Th>\n    ));\n    const numGroups = groups.length;\n    // Columns for p-value, lift-value, and significance (true/false)\n    columns.push(\n      <Th key={numGroups + 1} column=\"pValue\">\n        p-value\n      </Th>,\n    );\n    columns.push(\n      <Th key={numGroups + 2} column=\"liftValue\">\n        Lift %\n      </Th>,\n    );\n    columns.push(\n      <Th key={numGroups + 3} column=\"significant\">\n        Significant\n      </Th>,\n    );\n    const rows = data.map((entry, i) => {\n      const values = groups.map(\n        (\n          group,\n          j, // group names\n        ) => <Td key={j} column={group} data={entry.group[j]} />,\n      );\n      values.push(\n        <Td\n          key={numGroups + 1}\n          className={this.getPValueStatus(i)}\n          column=\"pValue\"\n          data={pValues[i]}\n        />,\n      );\n      values.push(\n        <Td\n          key={numGroups + 2}\n          className={this.getLiftStatus(i)}\n          column=\"liftValue\"\n          data={liftValues[i]}\n        />,\n      );\n      values.push(\n        <Td\n          key={numGroups + 3}\n          className={this.getSignificance(i).toString()}\n          column=\"significant\"\n          data={this.getSignificance(i)}\n        />,\n      );\n\n      return (\n        <Tr\n          key={i}\n          className={i === control ? 'control' : ''}\n          onClick={this.computeTTest.bind(this, i)}\n        >\n          {values}\n        </Tr>\n      );\n    });\n    // When sorted ascending, 'control' will always be at top\n    const sortConfig = groups.concat([\n      {\n        column: 'pValue',\n        sortFunction: (a, b) => {\n          if (a === 'control') {\n            return -1;\n          }\n          if (b === 'control') {\n            return 1;\n          }\n\n          return a > b ? 1 : -1; // p-values ascending\n        },\n      },\n      {\n        column: 'liftValue',\n        sortFunction: (a, b) => {\n          if (a === 'control') {\n            return -1;\n          }\n          if (b === 'control') {\n            return 1;\n          }\n\n          return parseFloat(a) > parseFloat(b) ? -1 : 1; // lift values descending\n        },\n      },\n      {\n        column: 'significant',\n        sortFunction: (a, b) => {\n          if (a === 'control') {\n            return -1;\n          }\n          if (b === 'control') {\n            return 1;\n          }\n\n          return a > b ? -1 : 1; // significant values first\n        },\n      },\n    ]);\n\n    return (\n      <div>\n        <h3>{metric}</h3>\n        <Table className=\"table\" id={`table_${metric}`} sortable={sortConfig}>\n          <Thead>{columns}</Thead>\n          {rows}\n        </Table>\n      </div>\n    );\n  }\n}\n\nTTestTable.propTypes = propTypes;\nTTestTable.defaultProps = defaultProps;\n\nexport default TTestTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}