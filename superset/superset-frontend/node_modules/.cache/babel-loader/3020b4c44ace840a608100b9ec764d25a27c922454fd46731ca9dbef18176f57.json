{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useTheme } from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\nimport { getChartIdsInFilterScope } from 'src/dashboard/util/activeDashboardFilters';\nconst selectFocusedFilterScope = (dashboardState, dashboardFilters) => {\n  if (!dashboardState.focusedFilterField)\n  return null;\n  const { chartId, column } = dashboardState.focusedFilterField;\n  return {\n    chartId,\n    scope: dashboardFilters[chartId].scopes[column]\n  };\n};\nconst useFilterFocusHighlightStyles = (chartId) => {\n  const theme = useTheme();\n  const nativeFilters = useSelector((state) => state.nativeFilters);\n  const dashboardState = useSelector((state) => state.dashboardState);\n  const dashboardFilters = useSelector((state) => state.dashboardFilters);\n  const focusedFilterScope = selectFocusedFilterScope(dashboardState, dashboardFilters);\n  const highlightedFilterId = (nativeFilters == null ? void 0 : nativeFilters.focusedFilterId) || (nativeFilters == null ? void 0 : nativeFilters.hoveredFilterId);\n  if (!(focusedFilterScope || highlightedFilterId)) {\n    return {};\n  }\n  // we use local styles here instead of a conditionally-applied class,\n  // because adding any conditional class to this container\n  // causes performance issues in Chrome.\n  // default to the \"de-emphasized\" state\n  const unfocusedChartStyles = { opacity: 0.3, pointerEvents: 'none' };\n  const focusedChartStyles = {\n    borderColor: theme.colors.primary.light2,\n    opacity: 1,\n    boxShadow: `0px 0px ${theme.gridUnit * 2}px ${theme.colors.primary.base}`,\n    pointerEvents: 'auto'\n  };\n  if (highlightedFilterId) {var _nativeFilters$filter, _nativeFilters$filter2;\n    if ((_nativeFilters$filter = nativeFilters.filters[highlightedFilterId]) != null && (_nativeFilters$filter2 = _nativeFilters$filter.chartsInScope) != null && _nativeFilters$filter2.includes(chartId)) {\n      return focusedChartStyles;\n    }\n  } else\n  if (chartId === (focusedFilterScope == null ? void 0 : focusedFilterScope.chartId) ||\n  getChartIdsInFilterScope({\n    filterScope: focusedFilterScope == null ? void 0 : focusedFilterScope.scope\n  }).includes(chartId)) {\n    return focusedChartStyles;\n  }\n  // inline styles are used here due to a performance issue when adding/changing a class, which causes a reflow\n  return unfocusedChartStyles;\n};__signature__(useFilterFocusHighlightStyles, \"useTheme{theme}\\nuseSelector{nativeFilters}\\nuseSelector{dashboardState}\\nuseSelector{dashboardFilters}\", () => [useTheme, useSelector, useSelector, useSelector]);const _default =\nuseFilterFocusHighlightStyles;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(selectFocusedFilterScope, \"selectFocusedFilterScope\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts\");reactHotLoader.register(useFilterFocusHighlightStyles, \"useFilterFocusHighlightStyles\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useTheme","useSelector","getChartIdsInFilterScope","selectFocusedFilterScope","dashboardState","dashboardFilters","focusedFilterField","chartId","column","scope","scopes","useFilterFocusHighlightStyles","theme","nativeFilters","state","focusedFilterScope","highlightedFilterId","focusedFilterId","hoveredFilterId","unfocusedChartStyles","opacity","pointerEvents","focusedChartStyles","borderColor","colors","primary","light2","boxShadow","gridUnit","base","_nativeFilters$filter","_nativeFilters$filter2","filters","chartsInScope","includes","filterScope","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/useFilterFocusHighlightStyles.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useTheme } from '@superset-ui/core';\nimport { useSelector } from 'react-redux';\n\nimport { getChartIdsInFilterScope } from 'src/dashboard/util/activeDashboardFilters';\nimport { DashboardState, RootState } from 'src/dashboard/types';\n\nconst selectFocusedFilterScope = (\n  dashboardState: DashboardState,\n  dashboardFilters: any,\n) => {\n  if (!dashboardState.focusedFilterField) return null;\n  const { chartId, column } = dashboardState.focusedFilterField;\n  return {\n    chartId,\n    scope: dashboardFilters[chartId].scopes[column],\n  };\n};\n\nconst useFilterFocusHighlightStyles = (chartId: number) => {\n  const theme = useTheme();\n\n  const nativeFilters = useSelector((state: RootState) => state.nativeFilters);\n  const dashboardState = useSelector(\n    (state: RootState) => state.dashboardState,\n  );\n  const dashboardFilters = useSelector(\n    (state: RootState) => state.dashboardFilters,\n  );\n  const focusedFilterScope = selectFocusedFilterScope(\n    dashboardState,\n    dashboardFilters,\n  );\n\n  const highlightedFilterId =\n    nativeFilters?.focusedFilterId || nativeFilters?.hoveredFilterId;\n  if (!(focusedFilterScope || highlightedFilterId)) {\n    return {};\n  }\n\n  // we use local styles here instead of a conditionally-applied class,\n  // because adding any conditional class to this container\n  // causes performance issues in Chrome.\n\n  // default to the \"de-emphasized\" state\n  const unfocusedChartStyles = { opacity: 0.3, pointerEvents: 'none' };\n  const focusedChartStyles = {\n    borderColor: theme.colors.primary.light2,\n    opacity: 1,\n    boxShadow: `0px 0px ${theme.gridUnit * 2}px ${theme.colors.primary.base}`,\n    pointerEvents: 'auto',\n  };\n\n  if (highlightedFilterId) {\n    if (\n      nativeFilters.filters[highlightedFilterId]?.chartsInScope?.includes(\n        chartId,\n      )\n    ) {\n      return focusedChartStyles;\n    }\n  } else if (\n    chartId === focusedFilterScope?.chartId ||\n    getChartIdsInFilterScope({\n      filterScope: focusedFilterScope?.scope,\n    }).includes(chartId)\n  ) {\n    return focusedChartStyles;\n  }\n\n  // inline styles are used here due to a performance issue when adding/changing a class, which causes a reflow\n  return unfocusedChartStyles;\n};\n\nexport default useFilterFocusHighlightStyles;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}