{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { DirectionalLight } from './directional-light';\nimport { getSunDirection } from '@math.gl/sun';\nexport default class SunLight extends DirectionalLight {\n  constructor(opts) {\n    super(opts);\n\n    _defineProperty(this, \"timestamp\", void 0);\n\n    this.timestamp = opts.timestamp;\n  }\n\n  getProjectedLight({\n    layer\n  }) {\n    const {\n      viewport\n    } = layer.context;\n    const isGlobe = viewport.resolution && viewport.resolution > 0;\n\n    if (isGlobe) {\n      const [x, y, z] = getSunDirection(this.timestamp, 0, 0);\n      this.direction = [x, -z, y];\n    } else {\n      const {\n        latitude,\n        longitude\n      } = viewport;\n      this.direction = getSunDirection(this.timestamp, latitude, longitude);\n    }\n\n    return this;\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SunLight, \"SunLight\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/core/dist/esm/effects/lighting/sun-light.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["DirectionalLight","getSunDirection","SunLight","constructor","opts","_defineProperty","timestamp","getProjectedLight","layer","viewport","context","isGlobe","resolution","x","y","z","direction","latitude","longitude","__reactstandin__regenerateByEval","key","code","eval","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["../../../../src/effects/lighting/sun-light.ts"],"sourcesContent":["import {DirectionalLight} from './directional-light';\nimport {getSunDirection} from '@math.gl/sun';\n\nimport type Layer from '../../lib/layer';\n\nexport type SunLightOptions = {\n  id?: string;\n  /** Light color, [r, g, b] in the 0-255 range\n   * @default [255, 255, 255]\n   */\n  color?: number[];\n  /** Light intensity, higher number is brighter\n   * @default 1.0\n   */\n  intensity?: number;\n  /**\n   * The time at which to position the sun. Either a Date object or a timestamp (milliseconds elapsed since unix time 0)\n   */\n  timestamp: number | Date;\n  /** (Experimental) render shadows casted by this light\n   * @default false\n   */\n  _shadow?: boolean;\n};\n\nexport default class SunLight extends DirectionalLight {\n  timestamp: number | Date;\n\n  constructor(opts: SunLightOptions) {\n    super(opts);\n\n    this.timestamp = opts.timestamp;\n  }\n\n  getProjectedLight({layer}: {layer: Layer}): DirectionalLight {\n    const {viewport} = layer.context;\n    const isGlobe = viewport.resolution && viewport.resolution > 0;\n\n    if (isGlobe) {\n      // Rotate vector to align with the direction of the globe projection (up at lon:0,lat:0 is [0, -1, 0])\n      const [x, y, z] = getSunDirection(this.timestamp, 0, 0);\n      this.direction = [x, -z, y];\n    } else {\n      // @ts-expect-error longitude and latitude are not defined on all viewports\n      const {latitude, longitude} = viewport;\n      this.direction = getSunDirection(this.timestamp, latitude, longitude);\n    }\n\n    return this;\n  }\n}\n"],"mappings":";AAAA,SAAQA,gBAAR,QAA+B,qBAA/B;AACA,SAAQC,eAAR,QAA8B,cAA9B;AAwBA,eAAe,MAAMC,QAAN,SAAuBF,gBAAvB,CAAwC;EAGrDG,WAAWA,CAACC,IAAD,EAAwB;IACjC,MAAMA,IAAN;;IADiCC,eAAA;;IAGjC,KAAKC,SAAL,GAAiBF,IAAI,CAACE,SAAtB;EACD;;EAEDC,iBAAiBA,CAAC;IAACC;EAAD,CAAD,EAA4C;IAC3D,MAAM;MAACC;IAAD,IAAaD,KAAK,CAACE,OAAzB;IACA,MAAMC,OAAO,GAAGF,QAAQ,CAACG,UAAT,IAAuBH,QAAQ,CAACG,UAAT,GAAsB,CAA7D;;IAEA,IAAID,OAAJ,EAAa;MAEX,MAAM,CAACE,CAAD,EAAIC,CAAJ,EAAOC,CAAP,IAAYd,eAAe,CAAC,KAAKK,SAAN,EAAiB,CAAjB,EAAoB,CAApB,CAAjC;MACA,KAAKU,SAAL,GAAiB,CAACH,CAAD,EAAI,CAACE,CAAL,EAAQD,CAAR,CAAjB;IACD,CAJD,MAIO;MAEL,MAAM;QAACG,QAAD;QAAWC;MAAX,IAAwBT,QAA9B;MACA,KAAKO,SAAL,GAAiBf,eAAe,CAAC,KAAKK,SAAN,EAAiBW,QAAjB,EAA2BC,SAA3B,CAAhC;IACD;;IAED,OAAO,IAAP;EACD;EAAAC,iCAAAC,GAAA,EAAAC,IAAA;IAAA,KAAAD,GAAA,IAAAE,IAAA,CAAAD,IAAA,GAxBoD,oBAAAE,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAAlCzB,QAAN,qMAAA0B,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}