{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint max-len: 0 */\n/**\n * When determining if a component is a valid child of another component we must consider both\n *   - parent + child component types\n *   - component depth, or depth of nesting of container components\n *\n * We consider types because some components aren't containers (e.g. a heading) and we consider\n * depth to prevent infinite nesting of container components.\n *\n * The following example container nestings should be valid, which means that some containers\n * don't increase the (depth) of their children, namely tabs and tab:\n *   (a) root (0) > grid (1) >                         row (2) > column (3) > row (4) > non-container (5)\n *   (b) root (0) > grid (1) >    tabs (2) > tab (2) > row (2) > column (3) > row (4) > non-container (5)\n *   (c) root (0) > top-tab (1) >                      row (2) > column (3) > row (4) > non-container (5)\n *   (d) root (0) > top-tab (1) > tabs (2) > tab (2) > row (2) > column (3) > row (4) > non-container (5)\n */\nimport { CHART_TYPE, COLUMN_TYPE, DASHBOARD_GRID_TYPE, DASHBOARD_ROOT_TYPE, DIVIDER_TYPE, HEADER_TYPE, MARKDOWN_TYPE, ROW_TYPE, TABS_TYPE, TAB_TYPE, DYNAMIC_TYPE } from './componentTypes';\nimport { DASHBOARD_ROOT_DEPTH as rootDepth } from './constants';\nconst depthOne = rootDepth + 1;\n// const depthTwo = rootDepth + 2; // Meantime no need\nconst depthThree = rootDepth + 3;\nconst depthFour = rootDepth + 4;\nconst depthFive = rootDepth + 5;\n// when moving components around the depth of child is irrelevant, note these are parent depths\nconst parentMaxDepthLookup = {\n  [DASHBOARD_ROOT_TYPE]: {\n    [TABS_TYPE]: rootDepth,\n    [DASHBOARD_GRID_TYPE]: rootDepth\n  },\n  [DASHBOARD_GRID_TYPE]: {\n    [CHART_TYPE]: depthOne,\n    [DYNAMIC_TYPE]: depthOne,\n    [MARKDOWN_TYPE]: depthOne,\n    [COLUMN_TYPE]: depthOne,\n    [DIVIDER_TYPE]: depthOne,\n    [HEADER_TYPE]: depthOne,\n    [ROW_TYPE]: depthOne,\n    [TABS_TYPE]: depthOne\n  },\n  [ROW_TYPE]: {\n    [CHART_TYPE]: depthFour,\n    [DYNAMIC_TYPE]: depthFour,\n    [MARKDOWN_TYPE]: depthFour,\n    [COLUMN_TYPE]: depthFour\n  },\n  [TABS_TYPE]: {\n    [TAB_TYPE]: depthThree\n  },\n  [TAB_TYPE]: {\n    [CHART_TYPE]: depthFive,\n    [DYNAMIC_TYPE]: depthFive,\n    [MARKDOWN_TYPE]: depthFive,\n    [COLUMN_TYPE]: depthThree,\n    [DIVIDER_TYPE]: depthFive,\n    [HEADER_TYPE]: depthFive,\n    [ROW_TYPE]: depthThree,\n    [TABS_TYPE]: depthThree\n  },\n  [COLUMN_TYPE]: {\n    [CHART_TYPE]: depthFive,\n    [HEADER_TYPE]: depthFive,\n    [MARKDOWN_TYPE]: depthFive,\n    [ROW_TYPE]: depthThree,\n    [DIVIDER_TYPE]: depthThree,\n    [TABS_TYPE]: depthThree\n  },\n  // these have no valid children\n  [CHART_TYPE]: {},\n  [DYNAMIC_TYPE]: {},\n  [DIVIDER_TYPE]: {},\n  [HEADER_TYPE]: {},\n  [MARKDOWN_TYPE]: {}\n};\nexport default function isValidChild(child) {var _parentMaxDepthLookup;\n  const { parentType, childType, parentDepth } = child;\n  if (!parentType || !childType || typeof parentDepth !== 'number') {\n    return false;\n  }\n  const maxParentDepth = (_parentMaxDepthLookup = parentMaxDepthLookup[parentType]) == null ? void 0 : _parentMaxDepthLookup[childType];\n  return typeof maxParentDepth === 'number' && parentDepth <= maxParentDepth;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(depthOne, \"depthOne\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/isValidChild.ts\");reactHotLoader.register(depthThree, \"depthThree\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/isValidChild.ts\");reactHotLoader.register(depthFour, \"depthFour\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/isValidChild.ts\");reactHotLoader.register(depthFive, \"depthFive\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/isValidChild.ts\");reactHotLoader.register(parentMaxDepthLookup, \"parentMaxDepthLookup\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/isValidChild.ts\");reactHotLoader.register(isValidChild, \"isValidChild\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/isValidChild.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["CHART_TYPE","COLUMN_TYPE","DASHBOARD_GRID_TYPE","DASHBOARD_ROOT_TYPE","DIVIDER_TYPE","HEADER_TYPE","MARKDOWN_TYPE","ROW_TYPE","TABS_TYPE","TAB_TYPE","DYNAMIC_TYPE","DASHBOARD_ROOT_DEPTH","rootDepth","depthOne","depthThree","depthFour","depthFive","parentMaxDepthLookup","isValidChild","child","_parentMaxDepthLookup","parentType","childType","parentDepth","maxParentDepth","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/util/isValidChild.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint max-len: 0 */\n/**\n * When determining if a component is a valid child of another component we must consider both\n *   - parent + child component types\n *   - component depth, or depth of nesting of container components\n *\n * We consider types because some components aren't containers (e.g. a heading) and we consider\n * depth to prevent infinite nesting of container components.\n *\n * The following example container nestings should be valid, which means that some containers\n * don't increase the (depth) of their children, namely tabs and tab:\n *   (a) root (0) > grid (1) >                         row (2) > column (3) > row (4) > non-container (5)\n *   (b) root (0) > grid (1) >    tabs (2) > tab (2) > row (2) > column (3) > row (4) > non-container (5)\n *   (c) root (0) > top-tab (1) >                      row (2) > column (3) > row (4) > non-container (5)\n *   (d) root (0) > top-tab (1) > tabs (2) > tab (2) > row (2) > column (3) > row (4) > non-container (5)\n */\nimport {\n  CHART_TYPE,\n  COLUMN_TYPE,\n  DASHBOARD_GRID_TYPE,\n  DASHBOARD_ROOT_TYPE,\n  DIVIDER_TYPE,\n  HEADER_TYPE,\n  MARKDOWN_TYPE,\n  ROW_TYPE,\n  TABS_TYPE,\n  TAB_TYPE,\n  DYNAMIC_TYPE,\n} from './componentTypes';\n\nimport { DASHBOARD_ROOT_DEPTH as rootDepth } from './constants';\n\nconst depthOne = rootDepth + 1;\n// const depthTwo = rootDepth + 2; // Meantime no need\nconst depthThree = rootDepth + 3;\nconst depthFour = rootDepth + 4;\nconst depthFive = rootDepth + 5;\n\n// when moving components around the depth of child is irrelevant, note these are parent depths\nconst parentMaxDepthLookup = {\n  [DASHBOARD_ROOT_TYPE]: {\n    [TABS_TYPE]: rootDepth,\n    [DASHBOARD_GRID_TYPE]: rootDepth,\n  },\n\n  [DASHBOARD_GRID_TYPE]: {\n    [CHART_TYPE]: depthOne,\n    [DYNAMIC_TYPE]: depthOne,\n    [MARKDOWN_TYPE]: depthOne,\n    [COLUMN_TYPE]: depthOne,\n    [DIVIDER_TYPE]: depthOne,\n    [HEADER_TYPE]: depthOne,\n    [ROW_TYPE]: depthOne,\n    [TABS_TYPE]: depthOne,\n  },\n\n  [ROW_TYPE]: {\n    [CHART_TYPE]: depthFour,\n    [DYNAMIC_TYPE]: depthFour,\n    [MARKDOWN_TYPE]: depthFour,\n    [COLUMN_TYPE]: depthFour,\n  },\n\n  [TABS_TYPE]: {\n    [TAB_TYPE]: depthThree,\n  },\n\n  [TAB_TYPE]: {\n    [CHART_TYPE]: depthFive,\n    [DYNAMIC_TYPE]: depthFive,\n    [MARKDOWN_TYPE]: depthFive,\n    [COLUMN_TYPE]: depthThree,\n    [DIVIDER_TYPE]: depthFive,\n    [HEADER_TYPE]: depthFive,\n    [ROW_TYPE]: depthThree,\n    [TABS_TYPE]: depthThree,\n  },\n\n  [COLUMN_TYPE]: {\n    [CHART_TYPE]: depthFive,\n    [HEADER_TYPE]: depthFive,\n    [MARKDOWN_TYPE]: depthFive,\n    [ROW_TYPE]: depthThree,\n    [DIVIDER_TYPE]: depthThree,\n    [TABS_TYPE]: depthThree,\n  },\n\n  // these have no valid children\n  [CHART_TYPE]: {},\n  [DYNAMIC_TYPE]: {},\n  [DIVIDER_TYPE]: {},\n  [HEADER_TYPE]: {},\n  [MARKDOWN_TYPE]: {},\n};\n\ninterface IsValidChildProps {\n  parentType?: string;\n  childType?: string;\n  parentDepth?: unknown;\n}\n\nexport default function isValidChild(child: IsValidChildProps): boolean {\n  const { parentType, childType, parentDepth } = child;\n  if (!parentType || !childType || typeof parentDepth !== 'number') {\n    return false;\n  }\n\n  const maxParentDepth: number | undefined =\n    parentMaxDepthLookup[parentType]?.[childType];\n\n  return typeof maxParentDepth === 'number' && parentDepth <= maxParentDepth;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}