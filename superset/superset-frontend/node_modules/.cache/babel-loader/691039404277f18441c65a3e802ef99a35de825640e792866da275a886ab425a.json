{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { t, getNumberFormatter, smartDateVerboseFormatter, computeMaxFontSize, BRAND_COLOR, styled } from '@superset-ui/core';\nimport Echart from '../components/Echart';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst defaultNumberFormatter = getNumberFormatter();\nconst PROPORTION = {\n  // text size: proportion of the chart container sans trendline\n  KICKER: 0.1,\n  HEADER: 0.3,\n  SUBHEADER: 0.125,\n  // trendline size: proportion of the whole chart container\n  TRENDLINE: 0.3\n};\nclass BigNumberVis extends React.PureComponent {\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n  getClassName() {\n    const { className, showTrendLine, bigNumberFallback } = this.props;\n    const names = `superset-legacy-chart-big-number ${className} ${bigNumberFallback ? 'is-fallback-value' : ''}`;\n    if (showTrendLine)\n    return names;\n    return `${names} no-trendline`;\n  }\n  createTemporaryContainer() {\n    const container = document.createElement('div');\n    container.className = this.getClassName();\n    container.style.position = 'absolute'; // so it won't disrupt page layout\n    container.style.opacity = '0'; // and not visible\n    return container;\n  }\n  renderFallbackWarning() {\n    const { bigNumberFallback, formatTime, showTimestamp } = this.props;\n    if (!formatTime || !bigNumberFallback || showTimestamp)\n    return null;\n    return ___EmotionJSX(\"span\", { className: \"alert alert-warning\", role: \"alert\", title: t(`Last available value seen on %s`, formatTime(bigNumberFallback[0])) },\n    t('Not up to date')\n    );\n  }\n  renderKicker(maxHeight) {\n    const { timestamp, showTimestamp, formatTime, width } = this.props;\n    if (!formatTime ||\n    !showTimestamp ||\n    typeof timestamp === 'string' ||\n    typeof timestamp === 'boolean')\n    return null;\n    const text = timestamp === null ? '' : formatTime(timestamp);\n    const container = this.createTemporaryContainer();\n    document.body.append(container);\n    const fontSize = computeMaxFontSize({\n      text,\n      maxWidth: width,\n      maxHeight,\n      className: 'kicker',\n      container\n    });\n    container.remove();\n    return ___EmotionJSX(\"div\", { className: \"kicker\", style: {\n        fontSize,\n        height: maxHeight\n      } },\n    text\n    );\n  }\n  renderHeader(maxHeight) {\n    const { bigNumber, headerFormatter, width, colorThresholdFormatters } = this.props;\n    // @ts-ignore\n    const text = bigNumber === null ? t('No data') : headerFormatter(bigNumber);\n    const hasThresholdColorFormatter = Array.isArray(colorThresholdFormatters) &&\n    colorThresholdFormatters.length > 0;\n    let numberColor;\n    if (hasThresholdColorFormatter) {\n      colorThresholdFormatters.forEach((formatter) => {\n        const formatterResult = bigNumber ?\n        formatter.getColorFromValue(bigNumber) :\n        false;\n        if (formatterResult) {\n          numberColor = formatterResult;\n        }\n      });\n    } else\n    {\n      numberColor = 'black';\n    }\n    const container = this.createTemporaryContainer();\n    document.body.append(container);\n    const fontSize = computeMaxFontSize({\n      text,\n      maxWidth: width - 8,\n      maxHeight,\n      className: 'header-line',\n      container\n    });\n    container.remove();\n    const onContextMenu = (e) => {\n      if (this.props.onContextMenu) {\n        e.preventDefault();\n        this.props.onContextMenu(e.nativeEvent.clientX, e.nativeEvent.clientY);\n      }\n    };\n    return ___EmotionJSX(\"div\", { className: \"header-line\", style: {\n        fontSize,\n        height: maxHeight,\n        color: numberColor\n      }, onContextMenu: onContextMenu },\n    text\n    );\n  }\n  renderSubheader(maxHeight) {\n    const { bigNumber, subheader, width, bigNumberFallback } = this.props;\n    let fontSize = 0;\n    const NO_DATA_OR_HASNT_LANDED = t('No data after filtering or data is NULL for the latest time record');\n    const NO_DATA = t('Try applying different filters or ensuring your datasource has data');\n    let text = subheader;\n    if (bigNumber === null) {\n      text = bigNumberFallback ? NO_DATA : NO_DATA_OR_HASNT_LANDED;\n    }\n    if (text) {\n      const container = this.createTemporaryContainer();\n      document.body.append(container);\n      fontSize = computeMaxFontSize({\n        text,\n        maxWidth: width,\n        maxHeight,\n        className: 'subheader-line',\n        container\n      });\n      container.remove();\n      return ___EmotionJSX(\"div\", { className: \"subheader-line\", style: {\n          fontSize,\n          height: maxHeight\n        } },\n      text\n      );\n    }\n    return null;\n  }\n  renderTrendline(maxHeight) {\n    const { width, trendLineData, echartOptions, refs } = this.props;\n    // if can't find any non-null values, no point rendering the trendline\n    if (!(trendLineData != null && trendLineData.some((d) => d[1] !== null))) {\n      return null;\n    }\n    const eventHandlers = {\n      contextmenu: (eventParams) => {\n        if (this.props.onContextMenu) {\n          eventParams.event.stop();\n          const { data } = eventParams;\n          if (data) {var _this$props$formData, _this$props$formData2, _this$props$xValueFor, _this$props;\n            const pointerEvent = eventParams.event.event;\n            const drillToDetailFilters = [];\n            drillToDetailFilters.push({\n              col: (_this$props$formData = this.props.formData) == null ? void 0 : _this$props$formData.granularitySqla,\n              grain: (_this$props$formData2 = this.props.formData) == null ? void 0 : _this$props$formData2.timeGrainSqla,\n              op: '==',\n              val: data[0],\n              formattedVal: (_this$props$xValueFor = (_this$props = this.props).xValueFormatter) == null ? void 0 : _this$props$xValueFor.call(_this$props, data[0])\n            });\n            this.props.onContextMenu(pointerEvent.clientX, pointerEvent.clientY, { drillToDetail: drillToDetailFilters });\n          }\n        }\n      }\n    };\n    return echartOptions && ___EmotionJSX(Echart, { refs: refs, width: Math.floor(width), height: maxHeight, echartOptions: echartOptions, eventHandlers: eventHandlers });\n  }\n  render() {\n    const { showTrendLine, height, kickerFontSize, headerFontSize, subheaderFontSize } = this.props;\n    const className = this.getClassName();\n    if (showTrendLine) {\n      const chartHeight = Math.floor(PROPORTION.TRENDLINE * height);\n      const allTextHeight = height - chartHeight;\n      return ___EmotionJSX(\"div\", { className: className },\n      ___EmotionJSX(\"div\", { className: \"text-container\", style: { height: allTextHeight } },\n      this.renderFallbackWarning(),\n      this.renderKicker(Math.ceil((kickerFontSize || 0) * (1 - PROPORTION.TRENDLINE) * height)),\n      this.renderHeader(Math.ceil(headerFontSize * (1 - PROPORTION.TRENDLINE) * height)),\n      this.renderSubheader(Math.ceil(subheaderFontSize * (1 - PROPORTION.TRENDLINE) * height))\n      ),\n      this.renderTrendline(chartHeight)\n      );\n    }\n    return ___EmotionJSX(\"div\", { className: className, style: { height } },\n    this.renderFallbackWarning(),\n    this.renderKicker((kickerFontSize || 0) * height),\n    this.renderHeader(Math.ceil(headerFontSize * height)),\n    this.renderSubheader(Math.ceil(subheaderFontSize * height))\n    );\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}BigNumberVis.defaultProps = { className: '', headerFormatter: defaultNumberFormatter, formatTime: smartDateVerboseFormatter, headerFontSize: PROPORTION.HEADER, kickerFontSize: PROPORTION.KICKER, mainColor: BRAND_COLOR, showTimestamp: false, showTrendLine: false, startYAxisAtZero: true, subheader: '', subheaderFontSize: PROPORTION.SUBHEADER, timeRangeFixed: false };const _default = styled(BigNumberVis)`\n  ${({ theme }) => `\n    font-family: ${theme.typography.families.sansSerif};\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    &.no-trendline .subheader-line {\n      padding-bottom: 0.3em;\n    }\n\n    .text-container {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      .alert {\n        font-size: ${theme.typography.sizes.s};\n        margin: -0.5em 0 0.4em;\n        line-height: 1;\n        padding: ${theme.gridUnit}px;\n        border-radius: ${theme.gridUnit}px;\n      }\n    }\n\n    .kicker {\n      line-height: 1em;\n      padding-bottom: 2em;\n    }\n\n    .header-line {\n      position: relative;\n      line-height: 1em;\n      white-space: nowrap;\n      span {\n        position: absolute;\n        bottom: 0;\n      }\n    }\n\n    .subheader-line {\n      line-height: 1em;\n      padding-bottom: 0;\n    }\n\n    &.is-fallback-value {\n      .kicker,\n      .header-line,\n      .subheader-line {\n        opacity: ${theme.opacity.mediumHeavy};\n      }\n    }\n  `}\n`;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(defaultNumberFormatter, \"defaultNumberFormatter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberViz.tsx\");reactHotLoader.register(PROPORTION, \"PROPORTION\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberViz.tsx\");reactHotLoader.register(BigNumberVis, \"BigNumberVis\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberViz.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberViz.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","t","getNumberFormatter","smartDateVerboseFormatter","computeMaxFontSize","BRAND_COLOR","styled","Echart","jsx","___EmotionJSX","defaultNumberFormatter","PROPORTION","KICKER","HEADER","SUBHEADER","TRENDLINE","BigNumberVis","PureComponent","getClassName","className","showTrendLine","bigNumberFallback","props","names","createTemporaryContainer","container","document","createElement","style","position","opacity","renderFallbackWarning","formatTime","showTimestamp","role","title","renderKicker","maxHeight","timestamp","width","text","body","append","fontSize","maxWidth","remove","height","renderHeader","bigNumber","headerFormatter","colorThresholdFormatters","hasThresholdColorFormatter","Array","isArray","length","numberColor","forEach","formatter","formatterResult","getColorFromValue","onContextMenu","e","preventDefault","nativeEvent","clientX","clientY","color","renderSubheader","subheader","NO_DATA_OR_HASNT_LANDED","NO_DATA","renderTrendline","trendLineData","echartOptions","refs","some","d","eventHandlers","contextmenu","eventParams","event","stop","data","_this$props$formData","_this$props$formData2","_this$props$xValueFor","_this$props","pointerEvent","drillToDetailFilters","push","col","formData","granularitySqla","grain","timeGrainSqla","op","val","formattedVal","xValueFormatter","call","drillToDetail","Math","floor","render","kickerFontSize","headerFontSize","subheaderFontSize","chartHeight","allTextHeight","ceil","__reactstandin__regenerateByEval","key","code","eval","defaultProps","mainColor","startYAxisAtZero","timeRangeFixed","_default","theme","typography","families","sansSerif","sizes","s","gridUnit","mediumHeavy","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BigNumber/BigNumberViz.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { MouseEvent } from 'react';\nimport {\n  t,\n  getNumberFormatter,\n  smartDateVerboseFormatter,\n  computeMaxFontSize,\n  BRAND_COLOR,\n  styled,\n  BinaryQueryObjectFilterClause,\n} from '@superset-ui/core';\nimport Echart from '../components/Echart';\nimport { BigNumberVizProps } from './types';\nimport { EventHandlers } from '../types';\n\nconst defaultNumberFormatter = getNumberFormatter();\n\nconst PROPORTION = {\n  // text size: proportion of the chart container sans trendline\n  KICKER: 0.1,\n  HEADER: 0.3,\n  SUBHEADER: 0.125,\n  // trendline size: proportion of the whole chart container\n  TRENDLINE: 0.3,\n};\n\nclass BigNumberVis extends React.PureComponent<BigNumberVizProps> {\n  static defaultProps = {\n    className: '',\n    headerFormatter: defaultNumberFormatter,\n    formatTime: smartDateVerboseFormatter,\n    headerFontSize: PROPORTION.HEADER,\n    kickerFontSize: PROPORTION.KICKER,\n    mainColor: BRAND_COLOR,\n    showTimestamp: false,\n    showTrendLine: false,\n    startYAxisAtZero: true,\n    subheader: '',\n    subheaderFontSize: PROPORTION.SUBHEADER,\n    timeRangeFixed: false,\n  };\n\n  getClassName() {\n    const { className, showTrendLine, bigNumberFallback } = this.props;\n    const names = `superset-legacy-chart-big-number ${className} ${\n      bigNumberFallback ? 'is-fallback-value' : ''\n    }`;\n    if (showTrendLine) return names;\n    return `${names} no-trendline`;\n  }\n\n  createTemporaryContainer() {\n    const container = document.createElement('div');\n    container.className = this.getClassName();\n    container.style.position = 'absolute'; // so it won't disrupt page layout\n    container.style.opacity = '0'; // and not visible\n    return container;\n  }\n\n  renderFallbackWarning() {\n    const { bigNumberFallback, formatTime, showTimestamp } = this.props;\n    if (!formatTime || !bigNumberFallback || showTimestamp) return null;\n    return (\n      <span\n        className=\"alert alert-warning\"\n        role=\"alert\"\n        title={t(\n          `Last available value seen on %s`,\n          formatTime(bigNumberFallback[0]),\n        )}\n      >\n        {t('Not up to date')}\n      </span>\n    );\n  }\n\n  renderKicker(maxHeight: number) {\n    const { timestamp, showTimestamp, formatTime, width } = this.props;\n    if (\n      !formatTime ||\n      !showTimestamp ||\n      typeof timestamp === 'string' ||\n      typeof timestamp === 'boolean'\n    )\n      return null;\n\n    const text = timestamp === null ? '' : formatTime(timestamp);\n\n    const container = this.createTemporaryContainer();\n    document.body.append(container);\n    const fontSize = computeMaxFontSize({\n      text,\n      maxWidth: width,\n      maxHeight,\n      className: 'kicker',\n      container,\n    });\n    container.remove();\n\n    return (\n      <div\n        className=\"kicker\"\n        style={{\n          fontSize,\n          height: maxHeight,\n        }}\n      >\n        {text}\n      </div>\n    );\n  }\n\n  renderHeader(maxHeight: number) {\n    const { bigNumber, headerFormatter, width, colorThresholdFormatters } =\n      this.props;\n    // @ts-ignore\n    const text = bigNumber === null ? t('No data') : headerFormatter(bigNumber);\n\n    const hasThresholdColorFormatter =\n      Array.isArray(colorThresholdFormatters) &&\n      colorThresholdFormatters.length > 0;\n\n    let numberColor;\n    if (hasThresholdColorFormatter) {\n      colorThresholdFormatters!.forEach(formatter => {\n        const formatterResult = bigNumber\n          ? formatter.getColorFromValue(bigNumber as number)\n          : false;\n        if (formatterResult) {\n          numberColor = formatterResult;\n        }\n      });\n    } else {\n      numberColor = 'black';\n    }\n\n    const container = this.createTemporaryContainer();\n    document.body.append(container);\n    const fontSize = computeMaxFontSize({\n      text,\n      maxWidth: width - 8, // Decrease 8px for more precise font size\n      maxHeight,\n      className: 'header-line',\n      container,\n    });\n    container.remove();\n\n    const onContextMenu = (e: MouseEvent<HTMLDivElement>) => {\n      if (this.props.onContextMenu) {\n        e.preventDefault();\n        this.props.onContextMenu(e.nativeEvent.clientX, e.nativeEvent.clientY);\n      }\n    };\n\n    return (\n      <div\n        className=\"header-line\"\n        style={{\n          fontSize,\n          height: maxHeight,\n          color: numberColor,\n        }}\n        onContextMenu={onContextMenu}\n      >\n        {text}\n      </div>\n    );\n  }\n\n  renderSubheader(maxHeight: number) {\n    const { bigNumber, subheader, width, bigNumberFallback } = this.props;\n    let fontSize = 0;\n\n    const NO_DATA_OR_HASNT_LANDED = t(\n      'No data after filtering or data is NULL for the latest time record',\n    );\n    const NO_DATA = t(\n      'Try applying different filters or ensuring your datasource has data',\n    );\n    let text = subheader;\n    if (bigNumber === null) {\n      text = bigNumberFallback ? NO_DATA : NO_DATA_OR_HASNT_LANDED;\n    }\n    if (text) {\n      const container = this.createTemporaryContainer();\n      document.body.append(container);\n      fontSize = computeMaxFontSize({\n        text,\n        maxWidth: width,\n        maxHeight,\n        className: 'subheader-line',\n        container,\n      });\n      container.remove();\n\n      return (\n        <div\n          className=\"subheader-line\"\n          style={{\n            fontSize,\n            height: maxHeight,\n          }}\n        >\n          {text}\n        </div>\n      );\n    }\n    return null;\n  }\n\n  renderTrendline(maxHeight: number) {\n    const { width, trendLineData, echartOptions, refs } = this.props;\n\n    // if can't find any non-null values, no point rendering the trendline\n    if (!trendLineData?.some(d => d[1] !== null)) {\n      return null;\n    }\n\n    const eventHandlers: EventHandlers = {\n      contextmenu: eventParams => {\n        if (this.props.onContextMenu) {\n          eventParams.event.stop();\n          const { data } = eventParams;\n          if (data) {\n            const pointerEvent = eventParams.event.event;\n            const drillToDetailFilters: BinaryQueryObjectFilterClause[] = [];\n            drillToDetailFilters.push({\n              col: this.props.formData?.granularitySqla,\n              grain: this.props.formData?.timeGrainSqla,\n              op: '==',\n              val: data[0],\n              formattedVal: this.props.xValueFormatter?.(data[0]),\n            });\n            this.props.onContextMenu(\n              pointerEvent.clientX,\n              pointerEvent.clientY,\n              { drillToDetail: drillToDetailFilters },\n            );\n          }\n        }\n      },\n    };\n\n    return (\n      echartOptions && (\n        <Echart\n          refs={refs}\n          width={Math.floor(width)}\n          height={maxHeight}\n          echartOptions={echartOptions}\n          eventHandlers={eventHandlers}\n        />\n      )\n    );\n  }\n\n  render() {\n    const {\n      showTrendLine,\n      height,\n      kickerFontSize,\n      headerFontSize,\n      subheaderFontSize,\n    } = this.props;\n    const className = this.getClassName();\n\n    if (showTrendLine) {\n      const chartHeight = Math.floor(PROPORTION.TRENDLINE * height);\n      const allTextHeight = height - chartHeight;\n\n      return (\n        <div className={className}>\n          <div className=\"text-container\" style={{ height: allTextHeight }}>\n            {this.renderFallbackWarning()}\n            {this.renderKicker(\n              Math.ceil(\n                (kickerFontSize || 0) * (1 - PROPORTION.TRENDLINE) * height,\n              ),\n            )}\n            {this.renderHeader(\n              Math.ceil(headerFontSize * (1 - PROPORTION.TRENDLINE) * height),\n            )}\n            {this.renderSubheader(\n              Math.ceil(\n                subheaderFontSize * (1 - PROPORTION.TRENDLINE) * height,\n              ),\n            )}\n          </div>\n          {this.renderTrendline(chartHeight)}\n        </div>\n      );\n    }\n\n    return (\n      <div className={className} style={{ height }}>\n        {this.renderFallbackWarning()}\n        {this.renderKicker((kickerFontSize || 0) * height)}\n        {this.renderHeader(Math.ceil(headerFontSize * height))}\n        {this.renderSubheader(Math.ceil(subheaderFontSize * height))}\n      </div>\n    );\n  }\n}\n\nexport default styled(BigNumberVis)`\n  ${({ theme }) => `\n    font-family: ${theme.typography.families.sansSerif};\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: flex-start;\n\n    &.no-trendline .subheader-line {\n      padding-bottom: 0.3em;\n    }\n\n    .text-container {\n      display: flex;\n      flex-direction: column;\n      justify-content: center;\n      align-items: flex-start;\n      .alert {\n        font-size: ${theme.typography.sizes.s};\n        margin: -0.5em 0 0.4em;\n        line-height: 1;\n        padding: ${theme.gridUnit}px;\n        border-radius: ${theme.gridUnit}px;\n      }\n    }\n\n    .kicker {\n      line-height: 1em;\n      padding-bottom: 2em;\n    }\n\n    .header-line {\n      position: relative;\n      line-height: 1em;\n      white-space: nowrap;\n      span {\n        position: absolute;\n        bottom: 0;\n      }\n    }\n\n    .subheader-line {\n      line-height: 1em;\n      padding-bottom: 0;\n    }\n\n    &.is-fallback-value {\n      .kicker,\n      .header-line,\n      .subheader-line {\n        opacity: ${theme.opacity.mediumHeavy};\n      }\n    }\n  `}\n`;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}