{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Superset API error types.\n * Ref: https://github.com/apache/incubator-superset/blob/318e5347bc6f88119725775baa4ab9a398a6f0b0/superset/errors.py#L24\n *\n * TODO: migrate superset-frontend/src/components/ErrorMessage/types.ts over\n */\nexport var SupersetApiErrorType;\n(function (SupersetApiErrorType) {\n  // Generic unknown error\n  SupersetApiErrorType[\"UnknownError\"] = \"UNKNOWN_ERROR\";\n  // Frontend errors\n  SupersetApiErrorType[\"FrontendCsrfError\"] = \"FRONTEND_CSRF_ERROR\";\n  SupersetApiErrorType[\"FrontendNetworkError\"] = \"FRONTEND_NETWORK_ERROR\";\n  SupersetApiErrorType[\"FrontendTimeoutError\"] = \"FRONTEND_TIMEOUT_ERROR\";\n  // DB Engine errors,\n  SupersetApiErrorType[\"GenericDbEngineError\"] = \"GENERIC_DB_ENGINE_ERROR\";\n  // Viz errors,\n  SupersetApiErrorType[\"VizGetDfError\"] = \"VIZ_GET_DF_ERROR\";\n  SupersetApiErrorType[\"UnknownDatasourceTypeError\"] = \"UNKNOWN_DATASOURCE_TYPE_ERROR\";\n  SupersetApiErrorType[\"FailedFetchingDatasourceInfoError\"] = \"FAILED_FETCHING_DATASOURCE_INFO_ERROR\";\n  // Security access errors,\n  SupersetApiErrorType[\"TableSecurityAccessError\"] = \"TABLE_SECURITY_ACCESS_ERROR\";\n  SupersetApiErrorType[\"DatasourceSecurityAccessError\"] = \"DATASOURCE_SECURITY_ACCESS_ERROR\";\n  SupersetApiErrorType[\"MissingOwnershipError\"] = \"MISSING_OWNERSHIP_ERROR\";\n})(SupersetApiErrorType || (SupersetApiErrorType = {}));\nexport class SupersetApiError extends Error {\n\n\n\n\n\n  constructor({ status, statusText, message, link, extra, stack, error_type: errorType, originalError }) {\n    super(message);this.status = void 0;this.statusText = void 0;this.errorType = void 0;this.extra = void 0;this.originalError = void 0;\n    const originalErrorStack = stack || (\n    originalError instanceof Error ? originalError.stack : undefined);\n    this.stack =\n    originalErrorStack && this.stack ?\n    [\n    this.stack.split('\\n')[0],\n    ...originalErrorStack.split('\\n').slice(1)].\n    join('\\n') :\n    this.stack;\n    this.name = 'SupersetApiError';\n    this.errorType = errorType || SupersetApiErrorType.UnknownError;\n    this.extra = extra || {};\n    if (link) {\n      this.extra.link = link;\n    }\n    this.status = status;\n    this.statusText = statusText;\n    this.originalError = originalError;\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SupersetApiErrorType, \"SupersetApiErrorType\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/api/v1/types.ts\");reactHotLoader.register(SupersetApiError, \"SupersetApiError\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/api/v1/types.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["SupersetApiErrorType","SupersetApiError","Error","constructor","status","statusText","message","link","extra","stack","error_type","errorType","originalError","originalErrorStack","undefined","split","slice","join","name","UnknownError","__reactstandin__regenerateByEval","key","code","eval","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/api/v1/types.ts"],"sourcesContent":["/* eslint-disable camelcase */\n/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  SupersetClientClass,\n  SupersetClientInterface,\n  StrictJsonObject,\n  JsonValue,\n  JsonObject,\n} from '../../../connection';\n\nexport type ParsedResponseType<T> = T extends 'text'\n  ? string\n  : T extends 'raw' | null\n    ? Response\n    : JsonValue;\n\n/**\n * Runtime options when calling a Superset API. Currently only allow overriding\n * SupersetClient instance.\n */\nexport interface SupersetApiRequestOptions {\n  client?: SupersetClientInterface | SupersetClientClass;\n}\n\n/**\n * Superset API error types.\n * Ref: https://github.com/apache/incubator-superset/blob/318e5347bc6f88119725775baa4ab9a398a6f0b0/superset/errors.py#L24\n *\n * TODO: migrate superset-frontend/src/components/ErrorMessage/types.ts over\n */\nexport enum SupersetApiErrorType {\n  // Generic unknown error\n  UnknownError = 'UNKNOWN_ERROR',\n\n  // Frontend errors\n  FrontendCsrfError = 'FRONTEND_CSRF_ERROR',\n  FrontendNetworkError = 'FRONTEND_NETWORK_ERROR',\n  FrontendTimeoutError = 'FRONTEND_TIMEOUT_ERROR',\n\n  // DB Engine errors,\n  GenericDbEngineError = 'GENERIC_DB_ENGINE_ERROR',\n\n  // Viz errors,\n  VizGetDfError = 'VIZ_GET_DF_ERROR',\n  UnknownDatasourceTypeError = 'UNKNOWN_DATASOURCE_TYPE_ERROR',\n  FailedFetchingDatasourceInfoError = 'FAILED_FETCHING_DATASOURCE_INFO_ERROR',\n\n  // Security access errors,\n  TableSecurityAccessError = 'TABLE_SECURITY_ACCESS_ERROR',\n  DatasourceSecurityAccessError = 'DATASOURCE_SECURITY_ACCESS_ERROR',\n  MissingOwnershipError = 'MISSING_OWNERSHIP_ERROR',\n}\n\n/**\n * API Error json response from the backend (or fetch API in the frontend).\n * See SIP-40 and SIP-41: https://github.com/apache/incubator-superset/issues/9298\n */\nexport interface SupersetApiErrorPayload {\n  message?: string; // error message via FlaskAppBuilder, e.g. `response_404(message=...)`\n  error_type?: SupersetApiErrorType;\n  level?: 'error' | 'warn' | 'info';\n  extra?: StrictJsonObject;\n  /**\n   * Error message returned via `json_error_response`.\n   * Ref https://github.com/apache/incubator-superset/blob/8e23d4f369f35724b34b14def8a5a8bafb1d2ecb/superset/views/base.py#L94\n   */\n  error?: string | SupersetApiErrorPayload;\n  link?: string;\n}\n\nexport interface SupersetApiMultiErrorsPayload {\n  errors: SupersetApiErrorPayload[];\n}\n\nexport class SupersetApiError extends Error {\n  status?: number;\n\n  statusText?: string;\n\n  errorType: SupersetApiErrorType;\n\n  extra: JsonObject;\n\n  originalError?: Error | Response | JsonValue;\n\n  constructor({\n    status,\n    statusText,\n    message,\n    link,\n    extra,\n    stack,\n    error_type: errorType,\n    originalError,\n  }: Omit<SupersetApiErrorPayload, 'error'> & {\n    status?: number;\n    statusText?: string;\n    message: string;\n    stack?: Error['stack'];\n    // original JavaScript error or backend JSON response captured\n    originalError?: SupersetApiError['originalError'];\n  }) {\n    super(message);\n    const originalErrorStack =\n      stack ||\n      (originalError instanceof Error ? originalError.stack : undefined);\n    this.stack =\n      originalErrorStack && this.stack\n        ? [\n            this.stack.split('\\n')[0],\n            ...originalErrorStack.split('\\n').slice(1),\n          ].join('\\n')\n        : this.stack;\n    this.name = 'SupersetApiError';\n    this.errorType = errorType || SupersetApiErrorType.UnknownError;\n    this.extra = extra || {};\n    if (link) {\n      this.extra.link = link;\n    }\n    this.status = status;\n    this.statusText = statusText;\n    this.originalError = originalError;\n  }\n}\n"],"mappings":"wSAyCA;;;;;;AAMA,WAAYA,oBAqBX;AArBD,WAAYA,oBAAoB;EAC9B;EACAA,oBAAA,kCAA8B;EAE9B;EACAA,oBAAA,6CAAyC;EACzCA,oBAAA,mDAA+C;EAC/CA,oBAAA,mDAA+C;EAE/C;EACAA,oBAAA,oDAAgD;EAEhD;EACAA,oBAAA,sCAAkC;EAClCA,oBAAA,gEAA4D;EAC5DA,oBAAA,+EAA2E;EAE3E;EACAA,oBAAA,4DAAwD;EACxDA,oBAAA,sEAAkE;EAClEA,oBAAA,qDAAiD;AACnD,CAAC,EArBWA,oBAAoB,KAApBA,oBAAoB;AA4ChC,OAAM,MAAOC,gBAAiB,SAAQC,KAAK;;;;;;EAWzCC,YAAY,EACVC,MAAM,EACNC,UAAU,EACVC,OAAO,EACPC,IAAI,EACJC,KAAK,EACLC,KAAK,EACLC,UAAU,EAAEC,SAAS,EACrBC,aAAa,EAQd;IACC,KAAK,CAACN,OAAO,CAAC,CAAC,KA3BjBF,MAAM,eAENC,UAAU,eAEVM,SAAS,eAETH,KAAK,eAELI,aAAa;IAoBX,MAAMC,kBAAkB,GACtBJ,KAAK;IACJG,aAAa,YAAYV,KAAK,GAAGU,aAAa,CAACH,KAAK,GAAGK,SAAS,CAAC;IACpE,IAAI,CAACL,KAAK;IACRI,kBAAkB,IAAI,IAAI,CAACJ,KAAK;IAC5B;IACE,IAAI,CAACA,KAAK,CAACM,KAAK,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;IACzB,GAAGF,kBAAkB,CAACE,KAAK,CAAC,IAAI,CAAC,CAACC,KAAK,CAAC,CAAC,CAAC,CAC3C;IAACC,IAAI,CAAC,IAAI,CAAC;IACZ,IAAI,CAACR,KAAK;IAChB,IAAI,CAACS,IAAI,GAAG,kBAAkB;IAC9B,IAAI,CAACP,SAAS,GAAGA,SAAS,IAAIX,oBAAoB,CAACmB,YAAY;IAC/D,IAAI,CAACX,KAAK,GAAGA,KAAK,IAAI,EAAE;IACxB,IAAID,IAAI,EAAE;MACR,IAAI,CAACC,KAAK,CAACD,IAAI,GAAGA,IAAI;;IAExB,IAAI,CAACH,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACC,UAAU,GAAGA,UAAU;IAC5B,IAAI,CAACO,aAAa,GAAGA,aAAa;EACpC,CAAC;EAAAQ,iCAAAC,GAAA,EAAAC,IAAA;IAAA,KAAAD,GAAA,IAAAE,IAAA,CAAAD,IAAA,G,CACF,mBAAAE,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAZ,SAAA,MAAAU,cAAA,WAAAA,cAAA,CAAAG,QAAA,CA7FW3B,oBAqBX,wIAAAwB,cAAA,CAAAG,QAAA,CAuBY1B,gBAAiB,4JAAA2B,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAd,SAAA,CAAAc,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}