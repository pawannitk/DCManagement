{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport { css, ensureIsArray, getCurrencySymbol, styled, t } from '@superset-ui/core';\nimport { Select } from 'src/components';\nimport ControlHeader from '../../ControlHeader';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst CurrencyControlContainer = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    align-items: center;\n\n    & > :first-child {\n      margin-right: ${theme.gridUnit * 4}px;\n      min-width: 0;\n      flex: 1;\n    }\n\n    & > :nth-child(2) {\n      min-width: 0;\n      flex: 1;\n    }\n  `}\n`;\nexport const CURRENCY_SYMBOL_POSITION_OPTIONS = [\n{ value: 'prefix', label: t('Prefix') },\n{ value: 'suffix', label: t('Suffix') }];\n\nexport const CurrencyControl = ({ onChange, value: currency = {}, symbolSelectOverrideProps = {}, currencySelectOverrideProps = {}, symbolSelectAdditionalStyles, currencySelectAdditionalStyles, ...props }) => {\n  const currencies = useSelector((state) => {var _state$common;return (_state$common = state.common) == null ? void 0 : _state$common.currencies;});\n  const currenciesOptions = useMemo(() => ensureIsArray(currencies).map((currencyCode) => ({\n    value: currencyCode,\n    label: `${getCurrencySymbol({\n      symbol: currencyCode\n    })} (${currencyCode})`\n  })), [currencies]);\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(ControlHeader, props),\n  ___EmotionJSX(CurrencyControlContainer, { css: css`\n          & > :first-child {\n            ${symbolSelectAdditionalStyles};\n          }\n          & > :nth-child(2) {\n            ${currencySelectAdditionalStyles};\n          }\n        `, className: \"currency-control-container\" },\n  ___EmotionJSX(Select, _extends({ ariaLabel: t('Currency prefix or suffix'), options: CURRENCY_SYMBOL_POSITION_OPTIONS, placeholder: t('Prefix or suffix'), onChange: (symbolPosition) => {\n      onChange({ ...currency, symbolPosition });\n    }, onClear: () => onChange({ ...currency, symbolPosition: undefined }), value: currency == null ? void 0 : currency.symbolPosition, allowClear: true }, symbolSelectOverrideProps)),\n  ___EmotionJSX(Select, _extends({ ariaLabel: t('Currency symbol'), options: currenciesOptions, placeholder: t('Currency'), onChange: (symbol) => {\n      onChange({ ...currency, symbol });\n    }, onClear: () => onChange({ ...currency, symbol: undefined }), value: currency == null ? void 0 : currency.symbol, allowClear: true, allowNewOptions: true }, currencySelectOverrideProps))\n  )\n  );\n};__signature__(CurrencyControl, \"useSelector{currencies}\\nuseMemo{currenciesOptions}\", () => [useSelector]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CurrencyControlContainer, \"CurrencyControlContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/CurrencyControl/CurrencyControl.tsx\");reactHotLoader.register(CURRENCY_SYMBOL_POSITION_OPTIONS, \"CURRENCY_SYMBOL_POSITION_OPTIONS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/CurrencyControl/CurrencyControl.tsx\");reactHotLoader.register(CurrencyControl, \"CurrencyControl\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/CurrencyControl/CurrencyControl.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useMemo","useSelector","css","ensureIsArray","getCurrencySymbol","styled","t","Select","ControlHeader","jsx","___EmotionJSX","CurrencyControlContainer","div","theme","gridUnit","CURRENCY_SYMBOL_POSITION_OPTIONS","value","label","CurrencyControl","onChange","currency","symbolSelectOverrideProps","currencySelectOverrideProps","symbolSelectAdditionalStyles","currencySelectAdditionalStyles","props","currencies","state","_state$common","common","currenciesOptions","map","currencyCode","symbol","Fragment","className","_extends","ariaLabel","options","placeholder","symbolPosition","onClear","undefined","allowClear","allowNewOptions","__signature__","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/CurrencyControl/CurrencyControl.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport { useSelector } from 'react-redux';\nimport {\n  css,\n  Currency,\n  ensureIsArray,\n  getCurrencySymbol,\n  styled,\n  t,\n} from '@superset-ui/core';\nimport { CSSObject } from '@emotion/react';\nimport { Select } from 'src/components';\nimport { ViewState } from 'src/views/types';\nimport { SelectProps } from 'src/components/Select/types';\nimport ControlHeader from '../../ControlHeader';\n\nexport interface CurrencyControlProps {\n  onChange: (currency: Partial<Currency>) => void;\n  value?: Partial<Currency>;\n  symbolSelectOverrideProps?: Partial<SelectProps>;\n  currencySelectOverrideProps?: Partial<SelectProps>;\n  symbolSelectAdditionalStyles?: CSSObject;\n  currencySelectAdditionalStyles?: CSSObject;\n}\n\nconst CurrencyControlContainer = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    align-items: center;\n\n    & > :first-child {\n      margin-right: ${theme.gridUnit * 4}px;\n      min-width: 0;\n      flex: 1;\n    }\n\n    & > :nth-child(2) {\n      min-width: 0;\n      flex: 1;\n    }\n  `}\n`;\n\nexport const CURRENCY_SYMBOL_POSITION_OPTIONS = [\n  { value: 'prefix', label: t('Prefix') },\n  { value: 'suffix', label: t('Suffix') },\n];\n\nexport const CurrencyControl = ({\n  onChange,\n  value: currency = {},\n  symbolSelectOverrideProps = {},\n  currencySelectOverrideProps = {},\n  symbolSelectAdditionalStyles,\n  currencySelectAdditionalStyles,\n  ...props\n}: CurrencyControlProps) => {\n  const currencies = useSelector<ViewState, string[]>(\n    state => state.common?.currencies,\n  );\n  const currenciesOptions = useMemo(\n    () =>\n      ensureIsArray(currencies).map(currencyCode => ({\n        value: currencyCode,\n        label: `${getCurrencySymbol({\n          symbol: currencyCode,\n        })} (${currencyCode})`,\n      })),\n    [currencies],\n  );\n  return (\n    <>\n      <ControlHeader {...props} />\n      <CurrencyControlContainer\n        css={css`\n          & > :first-child {\n            ${symbolSelectAdditionalStyles};\n          }\n          & > :nth-child(2) {\n            ${currencySelectAdditionalStyles};\n          }\n        `}\n        className=\"currency-control-container\"\n      >\n        <Select\n          ariaLabel={t('Currency prefix or suffix')}\n          options={CURRENCY_SYMBOL_POSITION_OPTIONS}\n          placeholder={t('Prefix or suffix')}\n          onChange={(symbolPosition: string) => {\n            onChange({ ...currency, symbolPosition });\n          }}\n          onClear={() => onChange({ ...currency, symbolPosition: undefined })}\n          value={currency?.symbolPosition}\n          allowClear\n          {...symbolSelectOverrideProps}\n        />\n        <Select\n          ariaLabel={t('Currency symbol')}\n          options={currenciesOptions}\n          placeholder={t('Currency')}\n          onChange={(symbol: string) => {\n            onChange({ ...currency, symbol });\n          }}\n          onClear={() => onChange({ ...currency, symbol: undefined })}\n          value={currency?.symbol}\n          allowClear\n          allowNewOptions\n          {...currencySelectOverrideProps}\n        />\n      </CurrencyControlContainer>\n    </>\n  );\n};\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}