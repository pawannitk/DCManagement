{"ast":null,"code":"import _mapKeys from \"lodash/mapKeys\";import _invert from \"lodash/invert\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport shortid from 'shortid';\nimport rison from 'rison';\nimport {\n  FeatureFlag,\n  SupersetClient,\n  t,\n  isFeatureEnabled,\n  COMMON_ERR_MESSAGES,\n  getClientErrorObject } from\n'@superset-ui/core';\n\n\nimport { now } from 'src/utils/dates';\nimport {\n  addDangerToast as addDangerToastAction,\n  addInfoToast as addInfoToastAction,\n  addSuccessToast as addSuccessToastAction,\n  addWarningToast as addWarningToastAction } from\n'src/components/MessageToasts/actions';\nimport { LOG_ACTIONS_SQLLAB_FETCH_FAILED_QUERY } from 'src/logger/LogUtils';\nimport getBootstrapData from 'src/utils/getBootstrapData';\nimport { logEvent } from 'src/logger/actions';\nimport { newQueryTabName } from '../utils/newQueryTabName';\nimport getInitialState from '../reducers/getInitialState';\nimport { rehydratePersistedState } from '../utils/reduxStateToLocalStorageHelper';\n\nexport const RESET_STATE = 'RESET_STATE';\nexport const ADD_QUERY_EDITOR = 'ADD_QUERY_EDITOR';\nexport const UPDATE_QUERY_EDITOR = 'UPDATE_QUERY_EDITOR';\nexport const QUERY_EDITOR_SAVED = 'QUERY_EDITOR_SAVED';\nexport const CLONE_QUERY_TO_NEW_TAB = 'CLONE_QUERY_TO_NEW_TAB';\nexport const REMOVE_QUERY_EDITOR = 'REMOVE_QUERY_EDITOR';\nexport const MERGE_TABLE = 'MERGE_TABLE';\nexport const REMOVE_TABLES = 'REMOVE_TABLES';\nexport const END_QUERY = 'END_QUERY';\nexport const REMOVE_QUERY = 'REMOVE_QUERY';\nexport const EXPAND_TABLE = 'EXPAND_TABLE';\nexport const COLLAPSE_TABLE = 'COLLAPSE_TABLE';\nexport const QUERY_EDITOR_SETDB = 'QUERY_EDITOR_SETDB';\nexport const QUERY_EDITOR_SET_CATALOG = 'QUERY_EDITOR_SET_CATALOG';\nexport const QUERY_EDITOR_SET_SCHEMA = 'QUERY_EDITOR_SET_SCHEMA';\nexport const QUERY_EDITOR_SET_TITLE = 'QUERY_EDITOR_SET_TITLE';\nexport const QUERY_EDITOR_SET_AUTORUN = 'QUERY_EDITOR_SET_AUTORUN';\nexport const QUERY_EDITOR_SET_SQL = 'QUERY_EDITOR_SET_SQL';\nexport const QUERY_EDITOR_SET_CURSOR_POSITION =\n'QUERY_EDITOR_SET_CURSOR_POSITION';\nexport const QUERY_EDITOR_SET_QUERY_LIMIT = 'QUERY_EDITOR_SET_QUERY_LIMIT';\nexport const QUERY_EDITOR_SET_TEMPLATE_PARAMS =\n'QUERY_EDITOR_SET_TEMPLATE_PARAMS';\nexport const QUERY_EDITOR_SET_SELECTED_TEXT = 'QUERY_EDITOR_SET_SELECTED_TEXT';\nexport const QUERY_EDITOR_SET_FUNCTION_NAMES =\n'QUERY_EDITOR_SET_FUNCTION_NAMES';\nexport const QUERY_EDITOR_PERSIST_HEIGHT = 'QUERY_EDITOR_PERSIST_HEIGHT';\nexport const QUERY_EDITOR_TOGGLE_LEFT_BAR = 'QUERY_EDITOR_TOGGLE_LEFT_BAR';\nexport const MIGRATE_QUERY_EDITOR = 'MIGRATE_QUERY_EDITOR';\nexport const MIGRATE_TAB_HISTORY = 'MIGRATE_TAB_HISTORY';\nexport const MIGRATE_TABLE = 'MIGRATE_TABLE';\nexport const MIGRATE_QUERY = 'MIGRATE_QUERY';\n\nexport const SET_DATABASES = 'SET_DATABASES';\nexport const SET_ACTIVE_QUERY_EDITOR = 'SET_ACTIVE_QUERY_EDITOR';\nexport const LOAD_QUERY_EDITOR = 'LOAD_QUERY_EDITOR';\nexport const SET_TABLES = 'SET_TABLES';\nexport const SET_ACTIVE_SOUTHPANE_TAB = 'SET_ACTIVE_SOUTHPANE_TAB';\nexport const REFRESH_QUERIES = 'REFRESH_QUERIES';\nexport const SET_USER_OFFLINE = 'SET_USER_OFFLINE';\nexport const RUN_QUERY = 'RUN_QUERY';\nexport const START_QUERY = 'START_QUERY';\nexport const STOP_QUERY = 'STOP_QUERY';\nexport const REQUEST_QUERY_RESULTS = 'REQUEST_QUERY_RESULTS';\nexport const QUERY_SUCCESS = 'QUERY_SUCCESS';\nexport const QUERY_FAILED = 'QUERY_FAILED';\nexport const CLEAR_INACTIVE_QUERIES = 'CLEAR_INACTIVE_QUERIES';\nexport const CLEAR_QUERY_RESULTS = 'CLEAR_QUERY_RESULTS';\nexport const REMOVE_DATA_PREVIEW = 'REMOVE_DATA_PREVIEW';\nexport const CHANGE_DATA_PREVIEW_ID = 'CHANGE_DATA_PREVIEW_ID';\n\nexport const COST_ESTIMATE_STARTED = 'COST_ESTIMATE_STARTED';\nexport const COST_ESTIMATE_RETURNED = 'COST_ESTIMATE_RETURNED';\nexport const COST_ESTIMATE_FAILED = 'COST_ESTIMATE_FAILED';\n\nexport const CREATE_DATASOURCE_STARTED = 'CREATE_DATASOURCE_STARTED';\nexport const CREATE_DATASOURCE_SUCCESS = 'CREATE_DATASOURCE_SUCCESS';\nexport const CREATE_DATASOURCE_FAILED = 'CREATE_DATASOURCE_FAILED';\n\nexport const SET_EDITOR_TAB_LAST_UPDATE = 'SET_EDITOR_TAB_LAST_UPDATE';\n\nexport const addInfoToast = addInfoToastAction;\nexport const addSuccessToast = addSuccessToastAction;\nexport const addDangerToast = addDangerToastAction;\nexport const addWarningToast = addWarningToastAction;\n\nexport const CtasEnum = {\n  Table: 'TABLE',\n  View: 'VIEW'\n};\nconst ERR_MSG_CANT_LOAD_QUERY = t(\"The query couldn't be loaded\");\n\n// a map of SavedQuery field names to the different names used client-side,\n// because for now making the names consistent is too complicated\n// so it might as well only happen in one place\nconst queryClientMapping = {\n  id: 'remoteId',\n  db_id: 'dbId',\n  label: 'name',\n  template_parameters: 'templateParams'\n};\nconst queryServerMapping = _invert(queryClientMapping);\n\n// uses a mapping like those above to convert object key names to another style\nconst fieldConverter = (mapping) => (obj) =>\n_mapKeys(obj, (value, key) => key in mapping ? mapping[key] : key);\n\nexport const convertQueryToServer = fieldConverter(queryServerMapping);\nexport const convertQueryToClient = fieldConverter(queryClientMapping);\n\nexport function getUpToDateQuery(rootState, queryEditor, key) {\n  const {\n    sqlLab: { unsavedQueryEditor }\n  } = rootState;\n  const id = key != null ? key : queryEditor.id;\n  return {\n    ...queryEditor,\n    ...(id === unsavedQueryEditor.id && unsavedQueryEditor)\n  };\n}\n\nexport function resetState(data) {\n  return (dispatch, getState) => {\n    const { common } = getState();\n    const initialState = getInitialState({\n      ...getBootstrapData(),\n      common,\n      ...data\n    });\n\n    dispatch({\n      type: RESET_STATE,\n      sqlLabInitialState: initialState.sqlLab\n    });\n    rehydratePersistedState(dispatch, initialState);\n  };\n}\n\nexport function updateQueryEditor(alterations) {\n  return { type: UPDATE_QUERY_EDITOR, alterations };\n}\n\nexport function setEditorTabLastUpdate(timestamp) {\n  return { type: SET_EDITOR_TAB_LAST_UPDATE, timestamp };\n}\n\nexport function scheduleQuery(query) {\n  return (dispatch) =>\n  SupersetClient.post({\n    endpoint: '/api/v1/saved_query/',\n    jsonPayload: query,\n    stringify: false\n  }).\n  then(() =>\n  dispatch(\n    addSuccessToast(\n      t(\n        'Your query has been scheduled. To see details of your query, navigate to Saved queries'\n      )\n    )\n  )\n  ).\n  catch(() =>\n  dispatch(addDangerToast(t('Your query could not be scheduled')))\n  );\n}\n\nexport function estimateQueryCost(queryEditor) {\n  return (dispatch, getState) => {\n    const { dbId, catalog, schema, sql, selectedText, templateParams } =\n    getUpToDateQuery(getState(), queryEditor);\n    const requestSql = selectedText || sql;\n\n    const postPayload = {\n      database_id: dbId,\n      catalog,\n      schema,\n      sql: requestSql,\n      template_params: JSON.parse(templateParams || '{}')\n    };\n\n    return Promise.all([\n    dispatch({ type: COST_ESTIMATE_STARTED, query: queryEditor }),\n    SupersetClient.post({\n      endpoint: '/api/v1/sqllab/estimate/',\n      body: JSON.stringify(postPayload),\n      headers: { 'Content-Type': 'application/json' }\n    }).\n    then(({ json }) =>\n    dispatch({ type: COST_ESTIMATE_RETURNED, query: queryEditor, json })\n    ).\n    catch((response) =>\n    getClientErrorObject(response).then((error) => {\n      const message =\n      error.error ||\n      error.statusText ||\n      t('Failed at retrieving results');\n      return dispatch({\n        type: COST_ESTIMATE_FAILED,\n        query: queryEditor,\n        error: message\n      });\n    })\n    )]\n    );\n  };\n}\n\nexport function clearInactiveQueries(interval) {\n  return { type: CLEAR_INACTIVE_QUERIES, interval };\n}\n\nexport function startQuery(query) {\n  Object.assign(query, {\n    id: query.id ? query.id : shortid.generate(),\n    progress: 0,\n    startDttm: now(),\n    state: query.runAsync ? 'pending' : 'running',\n    cached: false\n  });\n  return { type: START_QUERY, query };\n}\n\nexport function querySuccess(query, results) {\n  return { type: QUERY_SUCCESS, query, results };\n}\n\nexport function queryFailed(query, msg, link, errors) {\n  return function (dispatch) {\n    const eventData = {\n      has_err: true,\n      start_offset: query.startDttm,\n      ts: new Date().getTime()\n    };\n    errors == null ? void 0 : errors.forEach(({ error_type: errorType, extra }) => {var _extra$issue_codes;\n      const messages = (extra == null ? void 0 : (_extra$issue_codes = extra.issue_codes) == null ? void 0 : _extra$issue_codes.map(({ message }) => message)) || [\n      errorType];\n\n      messages.forEach((message) => {\n        dispatch(\n          logEvent(LOG_ACTIONS_SQLLAB_FETCH_FAILED_QUERY, {\n            ...eventData,\n            error_type: errorType,\n            error_details: message\n          })\n        );\n      });\n    });\n\n    dispatch({ type: QUERY_FAILED, query, msg, link, errors });\n  };\n}\n\nexport function stopQuery(query) {\n  return { type: STOP_QUERY, query };\n}\n\nexport function clearQueryResults(query) {\n  return { type: CLEAR_QUERY_RESULTS, query };\n}\n\nexport function removeDataPreview(table) {\n  return { type: REMOVE_DATA_PREVIEW, table };\n}\n\nexport function requestQueryResults(query) {\n  return { type: REQUEST_QUERY_RESULTS, query };\n}\n\nexport function fetchQueryResults(query, displayLimit) {\n  return function (dispatch) {\n    dispatch(requestQueryResults(query));\n\n    const queryParams = rison.encode({\n      key: query.resultsKey,\n      rows: displayLimit || null\n    });\n\n    return SupersetClient.get({\n      endpoint: `/api/v1/sqllab/results/?q=${queryParams}`,\n      parseMethod: 'json-bigint'\n    }).\n    then(({ json }) => dispatch(querySuccess(query, json))).\n    catch((response) =>\n    getClientErrorObject(response).then((error) => {\n      const message =\n      error.error ||\n      error.statusText ||\n      t('Failed at retrieving results');\n\n      return dispatch(\n        queryFailed(query, message, error.link, error.errors)\n      );\n    })\n    );\n  };\n}\n\nexport function runQuery(query) {\n  return function (dispatch) {\n    dispatch(startQuery(query));\n    const postPayload = {\n      client_id: query.id,\n      database_id: query.dbId,\n      json: true,\n      runAsync: query.runAsync,\n      catalog: query.catalog,\n      schema: query.schema,\n      sql: query.sql,\n      sql_editor_id: query.sqlEditorId,\n      tab: query.tab,\n      tmp_table_name: query.tempTable,\n      select_as_cta: query.ctas,\n      ctas_method: query.ctas_method,\n      templateParams: query.templateParams,\n      queryLimit: query.queryLimit,\n      expand_data: true\n    };\n\n    const search = window.location.search || '';\n    return SupersetClient.post({\n      endpoint: `/api/v1/sqllab/execute/${search}`,\n      body: JSON.stringify(postPayload),\n      headers: { 'Content-Type': 'application/json' },\n      parseMethod: 'json-bigint'\n    }).\n    then(({ json }) => {\n      if (!query.runAsync) {\n        dispatch(querySuccess(query, json));\n      }\n    }).\n    catch((response) =>\n    getClientErrorObject(response).then((error) => {\n      let message =\n      error.error ||\n      error.message ||\n      error.statusText ||\n      t('Unknown error');\n      if (message.includes('CSRF token')) {\n        message = t(COMMON_ERR_MESSAGES.SESSION_TIMED_OUT);\n      }\n      dispatch(queryFailed(query, message, error.link, error.errors));\n    })\n    );\n  };\n}\n\nexport function runQueryFromSqlEditor(\ndatabase,\nqueryEditor,\ndefaultQueryLimit,\ntempTable,\nctas,\nctasMethod)\n{\n  return function (dispatch, getState) {\n    const qe = getUpToDateQuery(getState(), queryEditor, queryEditor.id);\n    const query = {\n      dbId: qe.dbId,\n      sql: qe.selectedText || qe.sql,\n      sqlEditorId: qe.id,\n      tab: qe.name,\n      catalog: qe.catalog,\n      schema: qe.schema,\n      tempTable,\n      templateParams: qe.templateParams,\n      queryLimit: qe.queryLimit || defaultQueryLimit,\n      runAsync: database ? database.allow_run_async : false,\n      ctas,\n      ctas_method: ctasMethod,\n      updateTabState: !qe.selectedText\n    };\n    dispatch(runQuery(query));\n  };\n}\n\nexport function reRunQuery(query) {\n  // run Query with a new id\n  return function (dispatch) {\n    dispatch(runQuery({ ...query, id: shortid.generate() }));\n  };\n}\n\nexport function postStopQuery(query) {\n  return function (dispatch) {\n    return SupersetClient.post({\n      endpoint: '/api/v1/query/stop',\n      body: JSON.stringify({ client_id: query.id }),\n      headers: { 'Content-Type': 'application/json' }\n    }).\n    then(() => dispatch(stopQuery(query))).\n    then(() => dispatch(addSuccessToast(t('Query was stopped.')))).\n    catch(() =>\n    dispatch(addDangerToast(t('Failed at stopping query. %s', query.id)))\n    );\n  };\n}\n\nexport function setDatabases(databases) {\n  return { type: SET_DATABASES, databases };\n}\n\nfunction migrateTable(table, queryEditorId, dispatch) {\n  return SupersetClient.post({\n    endpoint: encodeURI('/tableschemaview/'),\n    postPayload: { table: { ...table, queryEditorId } }\n  }).\n  then(({ json }) => {\n    const newTable = {\n      ...table,\n      id: json.id,\n      queryEditorId\n    };\n    return dispatch({ type: MIGRATE_TABLE, oldTable: table, newTable });\n  }).\n  catch(() =>\n  dispatch(\n    addWarningToast(\n      t(\n        'Unable to migrate table schema state to backend. Superset will retry ' +\n        'later. Please contact your administrator if this problem persists.'\n      )\n    )\n  )\n  );\n}\n\nfunction migrateQuery(queryId, queryEditorId, dispatch) {\n  return SupersetClient.post({\n    endpoint: encodeURI(`/tabstateview/${queryEditorId}/migrate_query`),\n    postPayload: { queryId }\n  }).\n  then(() => dispatch({ type: MIGRATE_QUERY, queryId, queryEditorId })).\n  catch(() =>\n  dispatch(\n    addWarningToast(\n      t(\n        'Unable to migrate query state to backend. Superset will retry later. ' +\n        'Please contact your administrator if this problem persists.'\n      )\n    )\n  )\n  );\n}\n\nexport function migrateQueryEditorFromLocalStorage(\nqueryEditor,\ntables,\nqueries)\n{\n  return function (dispatch) {\n    return SupersetClient.post({\n      endpoint: '/tabstateview/',\n      postPayload: { queryEditor }\n    }).\n    then(({ json }) => {\n      const newQueryEditor = {\n        ...queryEditor,\n        id: json.id.toString(),\n        inLocalStorage: false\n      };\n      dispatch({\n        type: MIGRATE_QUERY_EDITOR,\n        oldQueryEditor: queryEditor,\n        newQueryEditor\n      });\n      dispatch({\n        type: MIGRATE_TAB_HISTORY,\n        oldId: queryEditor.id,\n        newId: newQueryEditor.id\n      });\n      return Promise.all([\n      ...tables.map((table) =>\n      migrateTable(table, newQueryEditor.id, dispatch)\n      ),\n      ...queries.map((query) =>\n      migrateQuery(query.id, newQueryEditor.id, dispatch)\n      )]\n      );\n    }).\n    catch(() =>\n    dispatch(\n      addWarningToast(\n        t(\n          'Unable to migrate query editor state to backend. Superset will retry ' +\n          'later. Please contact your administrator if this problem persists.'\n        )\n      )\n    )\n    );\n  };\n}\n\nexport function addQueryEditor(queryEditor) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    SupersetClient.post({\n      endpoint: '/tabstateview/',\n      postPayload: { queryEditor }\n    }).then(({ json }) => ({ ...json, loaded: true })) :\n    Promise.resolve({ id: shortid.generate() });\n\n    return sync.\n    then(({ id, loaded }) => {\n      const newQueryEditor = {\n        ...queryEditor,\n        id: id.toString(),\n        loaded\n      };\n      return dispatch({\n        type: ADD_QUERY_EDITOR,\n        queryEditor: newQueryEditor\n      });\n    }).\n    catch(() =>\n    dispatch(\n      addDangerToast(\n        t(\n          'Unable to add a new tab to the backend. Please contact your administrator.'\n        )\n      )\n    )\n    );\n  };\n}\n\nexport function addNewQueryEditor() {\n  return function (dispatch, getState) {\n    const {\n      sqlLab: { queryEditors, tabHistory, unsavedQueryEditor, databases },\n      common\n    } = getState();\n    const defaultDbId = common.conf.SQLLAB_DEFAULT_DBID;\n    const activeQueryEditor = queryEditors.find(\n      (qe) => qe.id === tabHistory[tabHistory.length - 1]\n    );\n    const dbIds = Object.values(databases).map((database) => database.id);\n    const firstDbId = dbIds.length > 0 ? Math.min(...dbIds) : undefined;\n    const { dbId, catalog, schema, queryLimit, autorun } = {\n      ...queryEditors[0],\n      ...activeQueryEditor,\n      ...(unsavedQueryEditor.id === (activeQueryEditor == null ? void 0 : activeQueryEditor.id) &&\n      unsavedQueryEditor)\n    };\n    const warning = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    '' :\n    t(\n      '-- Note: Unless you save your query, these tabs will NOT persist if you clear your cookies or change browsers.\\n\\n'\n    );\n\n    const name = newQueryTabName(\n      (queryEditors == null ? void 0 : queryEditors.map((qe) => ({\n        ...qe,\n        ...(qe.id === unsavedQueryEditor.id && unsavedQueryEditor)\n      }))) || []\n    );\n\n    return dispatch(\n      addQueryEditor({\n        dbId: dbId || defaultDbId || firstDbId,\n        catalog: catalog != null ? catalog : null,\n        schema: schema != null ? schema : null,\n        autorun: autorun != null ? autorun : false,\n        sql: `${warning}SELECT ...`,\n        queryLimit: queryLimit || common.conf.DEFAULT_SQLLAB_LIMIT,\n        name\n      })\n    );\n  };\n}\n\nexport function cloneQueryToNewTab(query, autorun) {\n  return function (dispatch, getState) {\n    const state = getState();\n    const { queryEditors, unsavedQueryEditor, tabHistory } = state.sqlLab;\n    const sourceQueryEditor = {\n      ...queryEditors.find((qe) => qe.id === tabHistory[tabHistory.length - 1]),\n      ...(tabHistory[tabHistory.length - 1] === unsavedQueryEditor.id &&\n      unsavedQueryEditor)\n    };\n    const queryEditor = {\n      name: t('Copy of %s', sourceQueryEditor.name),\n      dbId: query.dbId ? query.dbId : null,\n      catalog: query.catalog ? query.catalog : null,\n      schema: query.schema ? query.schema : null,\n      autorun,\n      sql: query.sql,\n      queryLimit: sourceQueryEditor.queryLimit,\n      maxRow: sourceQueryEditor.maxRow,\n      templateParams: sourceQueryEditor.templateParams\n    };\n    return dispatch(addQueryEditor(queryEditor));\n  };\n}\n\nexport function setActiveQueryEditor(queryEditor) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    SupersetClient.post({\n      endpoint: encodeURI(`/tabstateview/${queryEditor.id}/activate`)\n    }) :\n    Promise.resolve();\n\n    return sync.\n    then(() => dispatch({ type: SET_ACTIVE_QUERY_EDITOR, queryEditor })).\n    catch((response) => {\n      if (response.status !== 404) {\n        return dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while setting the active tab. Please contact ' +\n              'your administrator.'\n            )\n          )\n        );\n      }\n      return dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor });\n    });\n  };\n}\n\nexport function loadQueryEditor(queryEditor) {\n  return { type: LOAD_QUERY_EDITOR, queryEditor };\n}\n\nexport function setTables(tableSchemas) {\n  const tables = tableSchemas.\n  filter((tableSchema) => tableSchema.description !== null).\n  map((tableSchema) => {\n    const {\n      columns,\n      selectStar,\n      primaryKey,\n      foreignKeys,\n      indexes,\n      dataPreviewQueryId\n    } = tableSchema.description;\n    return {\n      dbId: tableSchema.database_id,\n      queryEditorId: tableSchema.tab_state_id.toString(),\n      catalog: tableSchema.catalog,\n      schema: tableSchema.schema,\n      name: tableSchema.table,\n      expanded: tableSchema.expanded,\n      id: tableSchema.id,\n      dataPreviewQueryId,\n      columns,\n      selectStar,\n      primaryKey,\n      foreignKeys,\n      indexes,\n      isMetadataLoading: false,\n      isExtraMetadataLoading: false\n    };\n  });\n  return { type: SET_TABLES, tables };\n}\n\nexport function switchQueryEditor(queryEditor, displayLimit) {\n  return function (dispatch) {\n    if (\n    isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) &&\n    queryEditor &&\n    !queryEditor.loaded)\n    {\n      SupersetClient.get({\n        endpoint: encodeURI(`/tabstateview/${queryEditor.id}`)\n      }).\n      then(({ json }) => {var _json$latest_query, _json$saved_query;\n        const loadedQueryEditor = {\n          id: json.id.toString(),\n          loaded: true,\n          name: json.label,\n          sql: json.sql,\n          selectedText: null,\n          latestQueryId: (_json$latest_query = json.latest_query) == null ? void 0 : _json$latest_query.id,\n          autorun: json.autorun,\n          dbId: json.database_id,\n          templateParams: json.template_params,\n          catalog: json.catalog,\n          schema: json.schema,\n          queryLimit: json.query_limit,\n          remoteId: (_json$saved_query = json.saved_query) == null ? void 0 : _json$saved_query.id,\n          hideLeftBar: json.hide_left_bar\n        };\n        dispatch(loadQueryEditor(loadedQueryEditor));\n        dispatch(setTables(json.table_schemas || []));\n        dispatch(setActiveQueryEditor(loadedQueryEditor));\n        if (json.latest_query && json.latest_query.resultsKey) {\n          dispatch(fetchQueryResults(json.latest_query, displayLimit));\n        }\n      }).\n      catch((response) => {\n        if (response.status !== 404) {\n          return dispatch(\n            addDangerToast(t('An error occurred while fetching tab state'))\n          );\n        }\n        return dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor });\n      });\n    } else {\n      dispatch(setActiveQueryEditor(queryEditor));\n    }\n  };\n}\n\nexport function setActiveSouthPaneTab(tabId) {\n  return { type: SET_ACTIVE_SOUTHPANE_TAB, tabId };\n}\n\nexport function toggleLeftBar(queryEditor) {\n  const hideLeftBar = !queryEditor.hideLeftBar;\n  return {\n    type: QUERY_EDITOR_TOGGLE_LEFT_BAR,\n    queryEditor,\n    hideLeftBar\n  };\n}\n\nexport function removeQueryEditor(queryEditor) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    SupersetClient.delete({\n      endpoint: encodeURI(`/tabstateview/${queryEditor.id}`)\n    }) :\n    Promise.resolve();\n\n    return sync.\n    then(() => dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor })).\n    catch(({ status }) => {\n      if (status !== 404) {\n        return dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while removing tab. Please contact your administrator.'\n            )\n          )\n        );\n      }\n      return dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor });\n    });\n  };\n}\n\nexport function removeAllOtherQueryEditors(queryEditor) {\n  return function (dispatch, getState) {var _sqlLab$queryEditors;\n    const { sqlLab } = getState();\n    (_sqlLab$queryEditors = sqlLab.queryEditors) == null ? void 0 : _sqlLab$queryEditors.forEach((otherQueryEditor) => {\n      if (otherQueryEditor.id !== queryEditor.id) {\n        dispatch(removeQueryEditor(otherQueryEditor));\n      }\n    });\n  };\n}\n\nexport function removeQuery(query) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    SupersetClient.delete({\n      endpoint: encodeURI(\n        `/tabstateview/${query.sqlEditorId}/query/${query.id}`\n      )\n    }) :\n    Promise.resolve();\n\n    return sync.\n    then(() => dispatch({ type: REMOVE_QUERY, query })).\n    catch(() =>\n    dispatch(\n      addDangerToast(\n        t(\n          'An error occurred while removing query. Please contact your administrator.'\n        )\n      )\n    )\n    );\n  };\n}\n\nexport function queryEditorSetDb(queryEditor, dbId) {\n  return { type: QUERY_EDITOR_SETDB, queryEditor, dbId };\n}\n\nexport function queryEditorSetCatalog(queryEditor, catalog) {\n  return {\n    type: QUERY_EDITOR_SET_CATALOG,\n    queryEditor: queryEditor || {},\n    catalog\n  };\n}\n\nexport function queryEditorSetSchema(queryEditor, schema) {\n  return {\n    type: QUERY_EDITOR_SET_SCHEMA,\n    queryEditor: queryEditor || {},\n    schema\n  };\n}\n\nexport function queryEditorSetAutorun(queryEditor, autorun) {\n  return { type: QUERY_EDITOR_SET_AUTORUN, queryEditor, autorun };\n}\n\nexport function queryEditorSetTitle(queryEditor, name, id) {\n  return {\n    type: QUERY_EDITOR_SET_TITLE,\n    queryEditor: { ...queryEditor, id },\n    name\n  };\n}\n\nexport function saveQuery(query, clientId) {\n  const { id, ...payload } = convertQueryToServer(query);\n\n  return (dispatch) =>\n  SupersetClient.post({\n    endpoint: '/api/v1/saved_query/',\n    jsonPayload: convertQueryToServer(payload)\n  }).\n  then((result) => {\n    const savedQuery = convertQueryToClient({\n      id: result.json.id,\n      ...result.json.result\n    });\n    dispatch({\n      type: QUERY_EDITOR_SAVED,\n      query,\n      clientId,\n      result: savedQuery\n    });\n    dispatch(queryEditorSetTitle(query, query.name, clientId));\n    return savedQuery;\n  }).\n  catch(() =>\n  dispatch(addDangerToast(t('Your query could not be saved')))\n  );\n}\n\nexport const addSavedQueryToTabState =\n(queryEditor, savedQuery) => (dispatch) => {\n  const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n  SupersetClient.put({\n    endpoint: `/tabstateview/${queryEditor.id}`,\n    postPayload: { saved_query_id: savedQuery.remoteId }\n  }) :\n  Promise.resolve();\n\n  return sync.\n  catch(() => {\n    dispatch(addDangerToast(t('Your query was not properly saved')));\n  }).\n  then(() => {\n    dispatch(addSuccessToast(t('Your query was saved')));\n  });\n};\n\nexport function updateSavedQuery(query, clientId) {\n  const { id, ...payload } = convertQueryToServer(query);\n\n  return (dispatch) =>\n  SupersetClient.put({\n    endpoint: `/api/v1/saved_query/${query.remoteId}`,\n    jsonPayload: convertQueryToServer(payload)\n  }).\n  then(() => {\n    dispatch(addSuccessToast(t('Your query was updated')));\n    dispatch(queryEditorSetTitle(query, query.name, clientId));\n  }).\n  catch((e) => {\n    const message = t('Your query could not be updated');\n    // eslint-disable-next-line no-console\n    console.error(message, e);\n    dispatch(addDangerToast(message));\n  }).\n  then(() => dispatch(updateQueryEditor(query)));\n}\n\nexport function queryEditorSetSql(queryEditor, sql, queryId) {\n  return { type: QUERY_EDITOR_SET_SQL, queryEditor, sql, queryId };\n}\n\nexport function queryEditorSetCursorPosition(queryEditor, position) {\n  return { type: QUERY_EDITOR_SET_CURSOR_POSITION, queryEditor, position };\n}\n\nexport function queryEditorSetAndSaveSql(targetQueryEditor, sql, queryId) {\n  return function (dispatch, getState) {\n    const queryEditor = getUpToDateQuery(getState(), targetQueryEditor);\n    // saved query and set tab state use this action\n    dispatch(queryEditorSetSql(queryEditor, sql, queryId));\n    if (isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)) {\n      return SupersetClient.put({\n        endpoint: encodeURI(`/tabstateview/${queryEditor.id}`),\n        postPayload: { sql, latest_query_id: queryId }\n      }).catch(() =>\n      dispatch(\n        addDangerToast(\n          t(\n            'An error occurred while storing your query in the backend. To ' +\n            'avoid losing your changes, please save your query using the ' +\n            '\"Save Query\" button.'\n          )\n        )\n      )\n      );\n    }\n    return Promise.resolve();\n  };\n}\n\nexport function formatQuery(queryEditor) {\n  return function (dispatch, getState) {\n    const { sql } = getUpToDateQuery(getState(), queryEditor);\n    return SupersetClient.post({\n      endpoint: `/api/v1/sqllab/format_sql/`,\n      // TODO (betodealmeida): pass engine as a parameter for better formatting\n      body: JSON.stringify({ sql }),\n      headers: { 'Content-Type': 'application/json' }\n    }).then(({ json }) => {\n      dispatch(queryEditorSetSql(queryEditor, json.result));\n    });\n  };\n}\n\nexport function queryEditorSetQueryLimit(queryEditor, queryLimit) {\n  return {\n    type: QUERY_EDITOR_SET_QUERY_LIMIT,\n    queryEditor,\n    queryLimit\n  };\n}\n\nexport function queryEditorSetTemplateParams(queryEditor, templateParams) {\n  return {\n    type: QUERY_EDITOR_SET_TEMPLATE_PARAMS,\n    queryEditor,\n    templateParams\n  };\n}\n\nexport function queryEditorSetSelectedText(queryEditor, sql) {\n  return { type: QUERY_EDITOR_SET_SELECTED_TEXT, queryEditor, sql };\n}\n\nexport function mergeTable(table, query, prepend) {\n  return { type: MERGE_TABLE, table, query, prepend };\n}\n\nexport function addTable(queryEditor, tableName, catalogName, schemaName) {\n  return function (dispatch, getState) {\n    const query = getUpToDateQuery(getState(), queryEditor, queryEditor.id);\n    const table = {\n      dbId: query.dbId,\n      queryEditorId: query.id,\n      catalog: catalogName,\n      schema: schemaName,\n      name: tableName\n    };\n    dispatch(\n      mergeTable(\n        {\n          ...table,\n          id: shortid.generate(),\n          expanded: true\n        },\n        null,\n        true\n      )\n    );\n  };\n}\n\nexport function runTablePreviewQuery(newTable) {\n  return function (dispatch, getState) {\n    const {\n      sqlLab: { databases }\n    } = getState();\n    const database = databases[newTable.dbId];\n    const { dbId, catalog, schema } = newTable;\n\n    if (database && !database.disable_data_preview) {\n      const dataPreviewQuery = {\n        id: shortid.generate(),\n        dbId,\n        catalog,\n        schema,\n        sql: newTable.selectStar,\n        tableName: newTable.name,\n        sqlEditorId: null,\n        tab: '',\n        runAsync: database.allow_run_async,\n        ctas: false,\n        isDataPreview: true\n      };\n      return Promise.all([\n      dispatch(\n        mergeTable(\n          {\n            id: newTable.id,\n            dbId: newTable.dbId,\n            catalog: newTable.catalog,\n            schema: newTable.schema,\n            name: newTable.name,\n            queryEditorId: newTable.queryEditorId,\n            dataPreviewQueryId: dataPreviewQuery.id\n          },\n          dataPreviewQuery\n        )\n      ),\n      dispatch(runQuery(dataPreviewQuery))]\n      );\n    }\n    return Promise.resolve();\n  };\n}\n\nexport function syncTable(table, tableMetadata) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    SupersetClient.post({\n      endpoint: encodeURI('/tableschemaview/'),\n      postPayload: { table: { ...tableMetadata, ...table } }\n    }) :\n    Promise.resolve({ json: { id: table.id } });\n\n    return sync.\n    then(({ json: resultJson }) => {\n      const newTable = { ...table, id: resultJson.id };\n      dispatch(\n        mergeTable({\n          ...newTable,\n          expanded: true,\n          initialized: true\n        })\n      );\n      if (!table.dataPreviewQueryId) {\n        dispatch(runTablePreviewQuery({ ...tableMetadata, ...newTable }));\n      }\n    }).\n    catch(() =>\n    dispatch(\n      addDangerToast(\n        t(\n          'An error occurred while fetching table metadata. ' +\n          'Please contact your administrator.'\n        )\n      )\n    )\n    );\n  };\n}\n\nexport function changeDataPreviewId(oldQueryId, newQuery) {\n  return { type: CHANGE_DATA_PREVIEW_ID, oldQueryId, newQuery };\n}\n\nexport function reFetchQueryResults(query) {\n  return function (dispatch) {\n    const newQuery = {\n      id: shortid.generate(),\n      dbId: query.dbId,\n      sql: query.sql,\n      tableName: query.tableName,\n      sqlEditorId: null,\n      tab: '',\n      runAsync: false,\n      ctas: false,\n      queryLimit: query.queryLimit,\n      isDataPreview: query.isDataPreview\n    };\n    dispatch(runQuery(newQuery));\n    dispatch(changeDataPreviewId(query.id, newQuery));\n  };\n}\n\nexport function expandTable(table) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    SupersetClient.post({\n      endpoint: encodeURI(`/tableschemaview/${table.id}/expanded`),\n      postPayload: { expanded: true }\n    }) :\n    Promise.resolve();\n\n    return sync.\n    then(() => dispatch({ type: EXPAND_TABLE, table })).\n    catch(() =>\n    dispatch(\n      addDangerToast(\n        t(\n          'An error occurred while expanding the table schema. ' +\n          'Please contact your administrator.'\n        )\n      )\n    )\n    );\n  };\n}\n\nexport function collapseTable(table) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    SupersetClient.post({\n      endpoint: encodeURI(`/tableschemaview/${table.id}/expanded`),\n      postPayload: { expanded: false }\n    }) :\n    Promise.resolve();\n\n    return sync.\n    then(() => dispatch({ type: COLLAPSE_TABLE, table })).\n    catch(() =>\n    dispatch(\n      addDangerToast(\n        t(\n          'An error occurred while collapsing the table schema. ' +\n          'Please contact your administrator.'\n        )\n      )\n    )\n    );\n  };\n}\n\nexport function removeTables(tables) {\n  return function (dispatch) {var _tables$filter;\n    const tablesToRemove = (_tables$filter = tables == null ? void 0 : tables.filter(Boolean)) != null ? _tables$filter : [];\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) ?\n    Promise.all(\n      tablesToRemove.map((table) =>\n      table.initialized ?\n      SupersetClient.delete({\n        endpoint: encodeURI(`/tableschemaview/${table.id}`)\n      }) :\n      Promise.resolve()\n      )\n    ) :\n    Promise.resolve();\n\n    return sync.\n    then(() => dispatch({ type: REMOVE_TABLES, tables: tablesToRemove })).\n    catch(() =>\n    dispatch(\n      addDangerToast(\n        t(\n          'An error occurred while removing the table schema. ' +\n          'Please contact your administrator.'\n        )\n      )\n    )\n    );\n  };\n}\n\nexport function refreshQueries(alteredQueries) {\n  return { type: REFRESH_QUERIES, alteredQueries };\n}\n\nexport function setUserOffline(offline) {\n  return { type: SET_USER_OFFLINE, offline };\n}\n\nexport function persistEditorHeight(queryEditor, northPercent, southPercent) {\n  return {\n    type: QUERY_EDITOR_PERSIST_HEIGHT,\n    queryEditor,\n    northPercent,\n    southPercent\n  };\n}\n\nexport function popStoredQuery(urlId) {\n  return function (dispatch) {\n    return SupersetClient.get({ endpoint: `/kv/${urlId}` }).\n    then(({ json }) =>\n    dispatch(\n      addQueryEditor({\n        name: json.name ? json.name : t('Shared query'),\n        dbId: json.dbId ? parseInt(json.dbId, 10) : null,\n        catalog: json.catalog ? json.catalog : null,\n        schema: json.schema ? json.schema : null,\n        autorun: json.autorun ? json.autorun : false,\n        sql: json.sql ? json.sql : 'SELECT ...',\n        templateParams: json.templateParams\n      })\n    )\n    ).\n    catch(() => dispatch(addDangerToast(ERR_MSG_CANT_LOAD_QUERY)));\n  };\n}\nexport function popSavedQuery(saveQueryId) {\n  return function (dispatch) {\n    return SupersetClient.get({\n      endpoint: `/api/v1/saved_query/${saveQueryId}`\n    }).\n    then(({ json }) => {\n      const queryEditorProps = {\n        ...convertQueryToClient(json.result),\n        loaded: true,\n        autorun: false\n      };\n      const tmpAdaptedProps = {\n        name: queryEditorProps.name,\n        dbId: queryEditorProps.database.id,\n        catalog: queryEditorProps.catalog,\n        schema: queryEditorProps.schema,\n        sql: queryEditorProps.sql,\n        templateParams: queryEditorProps.templateParams\n      };\n      return dispatch(addQueryEditor(tmpAdaptedProps));\n    }).\n    catch(() => dispatch(addDangerToast(ERR_MSG_CANT_LOAD_QUERY)));\n  };\n}\nexport function popQuery(queryId) {\n  return function (dispatch) {\n    return SupersetClient.get({\n      endpoint: `/api/v1/query/${queryId}`\n    }).\n    then(({ json }) => {\n      const queryData = json.result;\n      const queryEditorProps = {\n        dbId: queryData.database.id,\n        catalog: queryData.catalog,\n        schema: queryData.schema,\n        sql: queryData.sql,\n        name: t('Copy of %s', queryData.tab_name),\n        autorun: false\n      };\n      return dispatch(addQueryEditor(queryEditorProps));\n    }).\n    catch(() => dispatch(addDangerToast(ERR_MSG_CANT_LOAD_QUERY)));\n  };\n}\nexport function popDatasourceQuery(datasourceKey, sql) {\n  return function (dispatch) {\n    const QUERY_TEXT = t('Query');\n    const datasetId = datasourceKey.split('__')[0];\n\n    const queryParams = rison.encode({\n      keys: ['none'],\n      columns: ['name', 'schema', 'database.id', 'select_star']\n    });\n\n    return SupersetClient.get({\n      endpoint: `/api/v1/dataset/${datasetId}?q=${queryParams}`\n    }).\n    then(({ json }) =>\n    dispatch(\n      addQueryEditor({\n        name: `${QUERY_TEXT} ${json.result.name}`,\n        dbId: json.result.database.id,\n        schema: json.result.schema,\n        autorun: sql !== undefined,\n        sql: sql || json.result.select_star\n      })\n    )\n    ).\n    catch(() =>\n    dispatch(addDangerToast(t(\"The datasource couldn't be loaded\")))\n    );\n  };\n}\nexport function createDatasourceStarted() {\n  return { type: CREATE_DATASOURCE_STARTED };\n}\nexport function createDatasourceSuccess(data) {\n  const datasource = `${data.id}__table`;\n  return { type: CREATE_DATASOURCE_SUCCESS, datasource };\n}\nexport function createDatasourceFailed(err) {\n  return { type: CREATE_DATASOURCE_FAILED, err };\n}\n\nexport function createDatasource(vizOptions) {\n  return (dispatch) => {\n    dispatch(createDatasourceStarted());\n    const { dbId, catalog, schema, datasourceName, sql } = vizOptions;\n    return SupersetClient.post({\n      endpoint: '/api/v1/dataset/',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        database: dbId,\n        catalog,\n        schema,\n        sql,\n        table_name: datasourceName,\n        is_managed_externally: false,\n        external_url: null\n      })\n    }).\n    then(({ json }) => {\n      dispatch(createDatasourceSuccess(json));\n\n      return Promise.resolve(json);\n    }).\n    catch((error) => {\n      getClientErrorObject(error).then((e) => {\n        dispatch(addDangerToast(e.error));\n      });\n      dispatch(\n        createDatasourceFailed(\n          t('An error occurred while creating the data source')\n        )\n      );\n\n      return Promise.reject();\n    });\n  };\n}\n\nexport function createCtasDatasource(vizOptions) {\n  return (dispatch) => {\n    dispatch(createDatasourceStarted());\n    return SupersetClient.post({\n      endpoint: '/api/v1/dataset/get_or_create/',\n      jsonPayload: vizOptions\n    }).\n    then(({ json }) => {\n      dispatch(createDatasourceSuccess(json.result));\n\n      return json.result;\n    }).\n    catch(() => {\n      const errorMsg = t('An error occurred while creating the data source');\n      dispatch(createDatasourceFailed(errorMsg));\n      return Promise.reject(new Error(errorMsg));\n    });\n  };\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(RESET_STATE, \"RESET_STATE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(ADD_QUERY_EDITOR, \"ADD_QUERY_EDITOR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(UPDATE_QUERY_EDITOR, \"UPDATE_QUERY_EDITOR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SAVED, \"QUERY_EDITOR_SAVED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CLONE_QUERY_TO_NEW_TAB, \"CLONE_QUERY_TO_NEW_TAB\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(REMOVE_QUERY_EDITOR, \"REMOVE_QUERY_EDITOR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(MERGE_TABLE, \"MERGE_TABLE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(REMOVE_TABLES, \"REMOVE_TABLES\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(END_QUERY, \"END_QUERY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(REMOVE_QUERY, \"REMOVE_QUERY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(EXPAND_TABLE, \"EXPAND_TABLE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(COLLAPSE_TABLE, \"COLLAPSE_TABLE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SETDB, \"QUERY_EDITOR_SETDB\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_CATALOG, \"QUERY_EDITOR_SET_CATALOG\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_SCHEMA, \"QUERY_EDITOR_SET_SCHEMA\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_TITLE, \"QUERY_EDITOR_SET_TITLE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_AUTORUN, \"QUERY_EDITOR_SET_AUTORUN\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_SQL, \"QUERY_EDITOR_SET_SQL\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_CURSOR_POSITION, \"QUERY_EDITOR_SET_CURSOR_POSITION\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_QUERY_LIMIT, \"QUERY_EDITOR_SET_QUERY_LIMIT\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_TEMPLATE_PARAMS, \"QUERY_EDITOR_SET_TEMPLATE_PARAMS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_SELECTED_TEXT, \"QUERY_EDITOR_SET_SELECTED_TEXT\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_SET_FUNCTION_NAMES, \"QUERY_EDITOR_SET_FUNCTION_NAMES\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_PERSIST_HEIGHT, \"QUERY_EDITOR_PERSIST_HEIGHT\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_EDITOR_TOGGLE_LEFT_BAR, \"QUERY_EDITOR_TOGGLE_LEFT_BAR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(MIGRATE_QUERY_EDITOR, \"MIGRATE_QUERY_EDITOR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(MIGRATE_TAB_HISTORY, \"MIGRATE_TAB_HISTORY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(MIGRATE_TABLE, \"MIGRATE_TABLE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(MIGRATE_QUERY, \"MIGRATE_QUERY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(SET_DATABASES, \"SET_DATABASES\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(SET_ACTIVE_QUERY_EDITOR, \"SET_ACTIVE_QUERY_EDITOR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(LOAD_QUERY_EDITOR, \"LOAD_QUERY_EDITOR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(SET_TABLES, \"SET_TABLES\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(SET_ACTIVE_SOUTHPANE_TAB, \"SET_ACTIVE_SOUTHPANE_TAB\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(REFRESH_QUERIES, \"REFRESH_QUERIES\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(SET_USER_OFFLINE, \"SET_USER_OFFLINE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(RUN_QUERY, \"RUN_QUERY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(START_QUERY, \"START_QUERY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(STOP_QUERY, \"STOP_QUERY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(REQUEST_QUERY_RESULTS, \"REQUEST_QUERY_RESULTS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_SUCCESS, \"QUERY_SUCCESS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(QUERY_FAILED, \"QUERY_FAILED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CLEAR_INACTIVE_QUERIES, \"CLEAR_INACTIVE_QUERIES\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CLEAR_QUERY_RESULTS, \"CLEAR_QUERY_RESULTS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(REMOVE_DATA_PREVIEW, \"REMOVE_DATA_PREVIEW\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CHANGE_DATA_PREVIEW_ID, \"CHANGE_DATA_PREVIEW_ID\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(COST_ESTIMATE_STARTED, \"COST_ESTIMATE_STARTED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(COST_ESTIMATE_RETURNED, \"COST_ESTIMATE_RETURNED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(COST_ESTIMATE_FAILED, \"COST_ESTIMATE_FAILED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CREATE_DATASOURCE_STARTED, \"CREATE_DATASOURCE_STARTED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CREATE_DATASOURCE_SUCCESS, \"CREATE_DATASOURCE_SUCCESS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CREATE_DATASOURCE_FAILED, \"CREATE_DATASOURCE_FAILED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(SET_EDITOR_TAB_LAST_UPDATE, \"SET_EDITOR_TAB_LAST_UPDATE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addInfoToast, \"addInfoToast\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addSuccessToast, \"addSuccessToast\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addDangerToast, \"addDangerToast\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addWarningToast, \"addWarningToast\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(CtasEnum, \"CtasEnum\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(ERR_MSG_CANT_LOAD_QUERY, \"ERR_MSG_CANT_LOAD_QUERY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryClientMapping, \"queryClientMapping\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryServerMapping, \"queryServerMapping\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(fieldConverter, \"fieldConverter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(convertQueryToServer, \"convertQueryToServer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(convertQueryToClient, \"convertQueryToClient\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(getUpToDateQuery, \"getUpToDateQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(resetState, \"resetState\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(updateQueryEditor, \"updateQueryEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(setEditorTabLastUpdate, \"setEditorTabLastUpdate\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(scheduleQuery, \"scheduleQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(estimateQueryCost, \"estimateQueryCost\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(clearInactiveQueries, \"clearInactiveQueries\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(startQuery, \"startQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(querySuccess, \"querySuccess\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryFailed, \"queryFailed\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(stopQuery, \"stopQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(clearQueryResults, \"clearQueryResults\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(removeDataPreview, \"removeDataPreview\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(requestQueryResults, \"requestQueryResults\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(fetchQueryResults, \"fetchQueryResults\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(runQuery, \"runQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(runQueryFromSqlEditor, \"runQueryFromSqlEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(reRunQuery, \"reRunQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(postStopQuery, \"postStopQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(setDatabases, \"setDatabases\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(migrateTable, \"migrateTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(migrateQuery, \"migrateQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(migrateQueryEditorFromLocalStorage, \"migrateQueryEditorFromLocalStorage\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addQueryEditor, \"addQueryEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addNewQueryEditor, \"addNewQueryEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(cloneQueryToNewTab, \"cloneQueryToNewTab\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(setActiveQueryEditor, \"setActiveQueryEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(loadQueryEditor, \"loadQueryEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(setTables, \"setTables\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(switchQueryEditor, \"switchQueryEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(setActiveSouthPaneTab, \"setActiveSouthPaneTab\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(toggleLeftBar, \"toggleLeftBar\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(removeQueryEditor, \"removeQueryEditor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(removeAllOtherQueryEditors, \"removeAllOtherQueryEditors\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(removeQuery, \"removeQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetDb, \"queryEditorSetDb\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetCatalog, \"queryEditorSetCatalog\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetSchema, \"queryEditorSetSchema\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetAutorun, \"queryEditorSetAutorun\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetTitle, \"queryEditorSetTitle\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(saveQuery, \"saveQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addSavedQueryToTabState, \"addSavedQueryToTabState\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(updateSavedQuery, \"updateSavedQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetSql, \"queryEditorSetSql\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetCursorPosition, \"queryEditorSetCursorPosition\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetAndSaveSql, \"queryEditorSetAndSaveSql\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(formatQuery, \"formatQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetQueryLimit, \"queryEditorSetQueryLimit\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetTemplateParams, \"queryEditorSetTemplateParams\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(queryEditorSetSelectedText, \"queryEditorSetSelectedText\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(mergeTable, \"mergeTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(addTable, \"addTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(runTablePreviewQuery, \"runTablePreviewQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(syncTable, \"syncTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(changeDataPreviewId, \"changeDataPreviewId\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(reFetchQueryResults, \"reFetchQueryResults\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(expandTable, \"expandTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(collapseTable, \"collapseTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(removeTables, \"removeTables\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(refreshQueries, \"refreshQueries\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(setUserOffline, \"setUserOffline\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(persistEditorHeight, \"persistEditorHeight\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(popStoredQuery, \"popStoredQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(popSavedQuery, \"popSavedQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(popQuery, \"popQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(popDatasourceQuery, \"popDatasourceQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(createDatasourceStarted, \"createDatasourceStarted\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(createDatasourceSuccess, \"createDatasourceSuccess\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(createDatasourceFailed, \"createDatasourceFailed\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(createDatasource, \"createDatasource\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");reactHotLoader.register(createCtasDatasource, \"createCtasDatasource\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["shortid","rison","FeatureFlag","SupersetClient","t","isFeatureEnabled","COMMON_ERR_MESSAGES","getClientErrorObject","now","addDangerToast","addDangerToastAction","addInfoToast","addInfoToastAction","addSuccessToast","addSuccessToastAction","addWarningToast","addWarningToastAction","LOG_ACTIONS_SQLLAB_FETCH_FAILED_QUERY","getBootstrapData","logEvent","newQueryTabName","getInitialState","rehydratePersistedState","RESET_STATE","ADD_QUERY_EDITOR","UPDATE_QUERY_EDITOR","QUERY_EDITOR_SAVED","CLONE_QUERY_TO_NEW_TAB","REMOVE_QUERY_EDITOR","MERGE_TABLE","REMOVE_TABLES","END_QUERY","REMOVE_QUERY","EXPAND_TABLE","COLLAPSE_TABLE","QUERY_EDITOR_SETDB","QUERY_EDITOR_SET_CATALOG","QUERY_EDITOR_SET_SCHEMA","QUERY_EDITOR_SET_TITLE","QUERY_EDITOR_SET_AUTORUN","QUERY_EDITOR_SET_SQL","QUERY_EDITOR_SET_CURSOR_POSITION","QUERY_EDITOR_SET_QUERY_LIMIT","QUERY_EDITOR_SET_TEMPLATE_PARAMS","QUERY_EDITOR_SET_SELECTED_TEXT","QUERY_EDITOR_SET_FUNCTION_NAMES","QUERY_EDITOR_PERSIST_HEIGHT","QUERY_EDITOR_TOGGLE_LEFT_BAR","MIGRATE_QUERY_EDITOR","MIGRATE_TAB_HISTORY","MIGRATE_TABLE","MIGRATE_QUERY","SET_DATABASES","SET_ACTIVE_QUERY_EDITOR","LOAD_QUERY_EDITOR","SET_TABLES","SET_ACTIVE_SOUTHPANE_TAB","REFRESH_QUERIES","SET_USER_OFFLINE","RUN_QUERY","START_QUERY","STOP_QUERY","REQUEST_QUERY_RESULTS","QUERY_SUCCESS","QUERY_FAILED","CLEAR_INACTIVE_QUERIES","CLEAR_QUERY_RESULTS","REMOVE_DATA_PREVIEW","CHANGE_DATA_PREVIEW_ID","COST_ESTIMATE_STARTED","COST_ESTIMATE_RETURNED","COST_ESTIMATE_FAILED","CREATE_DATASOURCE_STARTED","CREATE_DATASOURCE_SUCCESS","CREATE_DATASOURCE_FAILED","SET_EDITOR_TAB_LAST_UPDATE","CtasEnum","Table","View","ERR_MSG_CANT_LOAD_QUERY","queryClientMapping","id","db_id","label","template_parameters","queryServerMapping","_invert","fieldConverter","mapping","obj","_mapKeys","value","key","convertQueryToServer","convertQueryToClient","getUpToDateQuery","rootState","queryEditor","sqlLab","unsavedQueryEditor","resetState","data","dispatch","getState","common","initialState","type","sqlLabInitialState","updateQueryEditor","alterations","setEditorTabLastUpdate","timestamp","scheduleQuery","query","post","endpoint","jsonPayload","stringify","then","catch","estimateQueryCost","dbId","catalog","schema","sql","selectedText","templateParams","requestSql","postPayload","database_id","template_params","JSON","parse","Promise","all","body","headers","json","response","error","message","statusText","clearInactiveQueries","interval","startQuery","Object","assign","generate","progress","startDttm","state","runAsync","cached","querySuccess","results","queryFailed","msg","link","errors","eventData","has_err","start_offset","ts","Date","getTime","forEach","error_type","errorType","extra","_extra$issue_codes","messages","issue_codes","map","error_details","stopQuery","clearQueryResults","removeDataPreview","table","requestQueryResults","fetchQueryResults","displayLimit","queryParams","encode","resultsKey","rows","get","parseMethod","runQuery","client_id","sql_editor_id","sqlEditorId","tab","tmp_table_name","tempTable","select_as_cta","ctas","ctas_method","queryLimit","expand_data","search","window","location","includes","SESSION_TIMED_OUT","runQueryFromSqlEditor","database","defaultQueryLimit","ctasMethod","qe","name","allow_run_async","updateTabState","reRunQuery","postStopQuery","setDatabases","databases","migrateTable","queryEditorId","encodeURI","newTable","oldTable","migrateQuery","queryId","migrateQueryEditorFromLocalStorage","tables","queries","newQueryEditor","toString","inLocalStorage","oldQueryEditor","oldId","newId","addQueryEditor","sync","SqllabBackendPersistence","loaded","resolve","addNewQueryEditor","queryEditors","tabHistory","defaultDbId","conf","SQLLAB_DEFAULT_DBID","activeQueryEditor","find","length","dbIds","values","firstDbId","Math","min","undefined","autorun","warning","DEFAULT_SQLLAB_LIMIT","cloneQueryToNewTab","sourceQueryEditor","maxRow","setActiveQueryEditor","status","loadQueryEditor","setTables","tableSchemas","filter","tableSchema","description","columns","selectStar","primaryKey","foreignKeys","indexes","dataPreviewQueryId","tab_state_id","expanded","isMetadataLoading","isExtraMetadataLoading","switchQueryEditor","_json$latest_query","_json$saved_query","loadedQueryEditor","latestQueryId","latest_query","query_limit","remoteId","saved_query","hideLeftBar","hide_left_bar","table_schemas","setActiveSouthPaneTab","tabId","toggleLeftBar","removeQueryEditor","delete","removeAllOtherQueryEditors","_sqlLab$queryEditors","otherQueryEditor","removeQuery","queryEditorSetDb","queryEditorSetCatalog","queryEditorSetSchema","queryEditorSetAutorun","queryEditorSetTitle","saveQuery","clientId","payload","result","savedQuery","addSavedQueryToTabState","put","saved_query_id","updateSavedQuery","e","console","queryEditorSetSql","queryEditorSetCursorPosition","position","queryEditorSetAndSaveSql","targetQueryEditor","latest_query_id","formatQuery","queryEditorSetQueryLimit","queryEditorSetTemplateParams","queryEditorSetSelectedText","mergeTable","prepend","addTable","tableName","catalogName","schemaName","runTablePreviewQuery","disable_data_preview","dataPreviewQuery","isDataPreview","syncTable","tableMetadata","resultJson","initialized","changeDataPreviewId","oldQueryId","newQuery","reFetchQueryResults","expandTable","collapseTable","removeTables","_tables$filter","tablesToRemove","Boolean","refreshQueries","alteredQueries","setUserOffline","offline","persistEditorHeight","northPercent","southPercent","popStoredQuery","urlId","parseInt","popSavedQuery","saveQueryId","queryEditorProps","tmpAdaptedProps","popQuery","queryData","tab_name","popDatasourceQuery","datasourceKey","QUERY_TEXT","datasetId","split","keys","select_star","createDatasourceStarted","createDatasourceSuccess","datasource","createDatasourceFailed","err","createDatasource","vizOptions","datasourceName","table_name","is_managed_externally","external_url","reject","createCtasDatasource","errorMsg","Error","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/actions/sqlLab.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport shortid from 'shortid';\nimport rison from 'rison';\nimport {\n  FeatureFlag,\n  SupersetClient,\n  t,\n  isFeatureEnabled,\n  COMMON_ERR_MESSAGES,\n  getClientErrorObject,\n} from '@superset-ui/core';\nimport { invert, mapKeys } from 'lodash';\n\nimport { now } from 'src/utils/dates';\nimport {\n  addDangerToast as addDangerToastAction,\n  addInfoToast as addInfoToastAction,\n  addSuccessToast as addSuccessToastAction,\n  addWarningToast as addWarningToastAction,\n} from 'src/components/MessageToasts/actions';\nimport { LOG_ACTIONS_SQLLAB_FETCH_FAILED_QUERY } from 'src/logger/LogUtils';\nimport getBootstrapData from 'src/utils/getBootstrapData';\nimport { logEvent } from 'src/logger/actions';\nimport { newQueryTabName } from '../utils/newQueryTabName';\nimport getInitialState from '../reducers/getInitialState';\nimport { rehydratePersistedState } from '../utils/reduxStateToLocalStorageHelper';\n\nexport const RESET_STATE = 'RESET_STATE';\nexport const ADD_QUERY_EDITOR = 'ADD_QUERY_EDITOR';\nexport const UPDATE_QUERY_EDITOR = 'UPDATE_QUERY_EDITOR';\nexport const QUERY_EDITOR_SAVED = 'QUERY_EDITOR_SAVED';\nexport const CLONE_QUERY_TO_NEW_TAB = 'CLONE_QUERY_TO_NEW_TAB';\nexport const REMOVE_QUERY_EDITOR = 'REMOVE_QUERY_EDITOR';\nexport const MERGE_TABLE = 'MERGE_TABLE';\nexport const REMOVE_TABLES = 'REMOVE_TABLES';\nexport const END_QUERY = 'END_QUERY';\nexport const REMOVE_QUERY = 'REMOVE_QUERY';\nexport const EXPAND_TABLE = 'EXPAND_TABLE';\nexport const COLLAPSE_TABLE = 'COLLAPSE_TABLE';\nexport const QUERY_EDITOR_SETDB = 'QUERY_EDITOR_SETDB';\nexport const QUERY_EDITOR_SET_CATALOG = 'QUERY_EDITOR_SET_CATALOG';\nexport const QUERY_EDITOR_SET_SCHEMA = 'QUERY_EDITOR_SET_SCHEMA';\nexport const QUERY_EDITOR_SET_TITLE = 'QUERY_EDITOR_SET_TITLE';\nexport const QUERY_EDITOR_SET_AUTORUN = 'QUERY_EDITOR_SET_AUTORUN';\nexport const QUERY_EDITOR_SET_SQL = 'QUERY_EDITOR_SET_SQL';\nexport const QUERY_EDITOR_SET_CURSOR_POSITION =\n  'QUERY_EDITOR_SET_CURSOR_POSITION';\nexport const QUERY_EDITOR_SET_QUERY_LIMIT = 'QUERY_EDITOR_SET_QUERY_LIMIT';\nexport const QUERY_EDITOR_SET_TEMPLATE_PARAMS =\n  'QUERY_EDITOR_SET_TEMPLATE_PARAMS';\nexport const QUERY_EDITOR_SET_SELECTED_TEXT = 'QUERY_EDITOR_SET_SELECTED_TEXT';\nexport const QUERY_EDITOR_SET_FUNCTION_NAMES =\n  'QUERY_EDITOR_SET_FUNCTION_NAMES';\nexport const QUERY_EDITOR_PERSIST_HEIGHT = 'QUERY_EDITOR_PERSIST_HEIGHT';\nexport const QUERY_EDITOR_TOGGLE_LEFT_BAR = 'QUERY_EDITOR_TOGGLE_LEFT_BAR';\nexport const MIGRATE_QUERY_EDITOR = 'MIGRATE_QUERY_EDITOR';\nexport const MIGRATE_TAB_HISTORY = 'MIGRATE_TAB_HISTORY';\nexport const MIGRATE_TABLE = 'MIGRATE_TABLE';\nexport const MIGRATE_QUERY = 'MIGRATE_QUERY';\n\nexport const SET_DATABASES = 'SET_DATABASES';\nexport const SET_ACTIVE_QUERY_EDITOR = 'SET_ACTIVE_QUERY_EDITOR';\nexport const LOAD_QUERY_EDITOR = 'LOAD_QUERY_EDITOR';\nexport const SET_TABLES = 'SET_TABLES';\nexport const SET_ACTIVE_SOUTHPANE_TAB = 'SET_ACTIVE_SOUTHPANE_TAB';\nexport const REFRESH_QUERIES = 'REFRESH_QUERIES';\nexport const SET_USER_OFFLINE = 'SET_USER_OFFLINE';\nexport const RUN_QUERY = 'RUN_QUERY';\nexport const START_QUERY = 'START_QUERY';\nexport const STOP_QUERY = 'STOP_QUERY';\nexport const REQUEST_QUERY_RESULTS = 'REQUEST_QUERY_RESULTS';\nexport const QUERY_SUCCESS = 'QUERY_SUCCESS';\nexport const QUERY_FAILED = 'QUERY_FAILED';\nexport const CLEAR_INACTIVE_QUERIES = 'CLEAR_INACTIVE_QUERIES';\nexport const CLEAR_QUERY_RESULTS = 'CLEAR_QUERY_RESULTS';\nexport const REMOVE_DATA_PREVIEW = 'REMOVE_DATA_PREVIEW';\nexport const CHANGE_DATA_PREVIEW_ID = 'CHANGE_DATA_PREVIEW_ID';\n\nexport const COST_ESTIMATE_STARTED = 'COST_ESTIMATE_STARTED';\nexport const COST_ESTIMATE_RETURNED = 'COST_ESTIMATE_RETURNED';\nexport const COST_ESTIMATE_FAILED = 'COST_ESTIMATE_FAILED';\n\nexport const CREATE_DATASOURCE_STARTED = 'CREATE_DATASOURCE_STARTED';\nexport const CREATE_DATASOURCE_SUCCESS = 'CREATE_DATASOURCE_SUCCESS';\nexport const CREATE_DATASOURCE_FAILED = 'CREATE_DATASOURCE_FAILED';\n\nexport const SET_EDITOR_TAB_LAST_UPDATE = 'SET_EDITOR_TAB_LAST_UPDATE';\n\nexport const addInfoToast = addInfoToastAction;\nexport const addSuccessToast = addSuccessToastAction;\nexport const addDangerToast = addDangerToastAction;\nexport const addWarningToast = addWarningToastAction;\n\nexport const CtasEnum = {\n  Table: 'TABLE',\n  View: 'VIEW',\n};\nconst ERR_MSG_CANT_LOAD_QUERY = t(\"The query couldn't be loaded\");\n\n// a map of SavedQuery field names to the different names used client-side,\n// because for now making the names consistent is too complicated\n// so it might as well only happen in one place\nconst queryClientMapping = {\n  id: 'remoteId',\n  db_id: 'dbId',\n  label: 'name',\n  template_parameters: 'templateParams',\n};\nconst queryServerMapping = invert(queryClientMapping);\n\n// uses a mapping like those above to convert object key names to another style\nconst fieldConverter = mapping => obj =>\n  mapKeys(obj, (value, key) => (key in mapping ? mapping[key] : key));\n\nexport const convertQueryToServer = fieldConverter(queryServerMapping);\nexport const convertQueryToClient = fieldConverter(queryClientMapping);\n\nexport function getUpToDateQuery(rootState, queryEditor, key) {\n  const {\n    sqlLab: { unsavedQueryEditor },\n  } = rootState;\n  const id = key ?? queryEditor.id;\n  return {\n    ...queryEditor,\n    ...(id === unsavedQueryEditor.id && unsavedQueryEditor),\n  };\n}\n\nexport function resetState(data) {\n  return (dispatch, getState) => {\n    const { common } = getState();\n    const initialState = getInitialState({\n      ...getBootstrapData(),\n      common,\n      ...data,\n    });\n\n    dispatch({\n      type: RESET_STATE,\n      sqlLabInitialState: initialState.sqlLab,\n    });\n    rehydratePersistedState(dispatch, initialState);\n  };\n}\n\nexport function updateQueryEditor(alterations) {\n  return { type: UPDATE_QUERY_EDITOR, alterations };\n}\n\nexport function setEditorTabLastUpdate(timestamp) {\n  return { type: SET_EDITOR_TAB_LAST_UPDATE, timestamp };\n}\n\nexport function scheduleQuery(query) {\n  return dispatch =>\n    SupersetClient.post({\n      endpoint: '/api/v1/saved_query/',\n      jsonPayload: query,\n      stringify: false,\n    })\n      .then(() =>\n        dispatch(\n          addSuccessToast(\n            t(\n              'Your query has been scheduled. To see details of your query, navigate to Saved queries',\n            ),\n          ),\n        ),\n      )\n      .catch(() =>\n        dispatch(addDangerToast(t('Your query could not be scheduled'))),\n      );\n}\n\nexport function estimateQueryCost(queryEditor) {\n  return (dispatch, getState) => {\n    const { dbId, catalog, schema, sql, selectedText, templateParams } =\n      getUpToDateQuery(getState(), queryEditor);\n    const requestSql = selectedText || sql;\n\n    const postPayload = {\n      database_id: dbId,\n      catalog,\n      schema,\n      sql: requestSql,\n      template_params: JSON.parse(templateParams || '{}'),\n    };\n\n    return Promise.all([\n      dispatch({ type: COST_ESTIMATE_STARTED, query: queryEditor }),\n      SupersetClient.post({\n        endpoint: '/api/v1/sqllab/estimate/',\n        body: JSON.stringify(postPayload),\n        headers: { 'Content-Type': 'application/json' },\n      })\n        .then(({ json }) =>\n          dispatch({ type: COST_ESTIMATE_RETURNED, query: queryEditor, json }),\n        )\n        .catch(response =>\n          getClientErrorObject(response).then(error => {\n            const message =\n              error.error ||\n              error.statusText ||\n              t('Failed at retrieving results');\n            return dispatch({\n              type: COST_ESTIMATE_FAILED,\n              query: queryEditor,\n              error: message,\n            });\n          }),\n        ),\n    ]);\n  };\n}\n\nexport function clearInactiveQueries(interval) {\n  return { type: CLEAR_INACTIVE_QUERIES, interval };\n}\n\nexport function startQuery(query) {\n  Object.assign(query, {\n    id: query.id ? query.id : shortid.generate(),\n    progress: 0,\n    startDttm: now(),\n    state: query.runAsync ? 'pending' : 'running',\n    cached: false,\n  });\n  return { type: START_QUERY, query };\n}\n\nexport function querySuccess(query, results) {\n  return { type: QUERY_SUCCESS, query, results };\n}\n\nexport function queryFailed(query, msg, link, errors) {\n  return function (dispatch) {\n    const eventData = {\n      has_err: true,\n      start_offset: query.startDttm,\n      ts: new Date().getTime(),\n    };\n    errors?.forEach(({ error_type: errorType, extra }) => {\n      const messages = extra?.issue_codes?.map(({ message }) => message) || [\n        errorType,\n      ];\n      messages.forEach(message => {\n        dispatch(\n          logEvent(LOG_ACTIONS_SQLLAB_FETCH_FAILED_QUERY, {\n            ...eventData,\n            error_type: errorType,\n            error_details: message,\n          }),\n        );\n      });\n    });\n\n    dispatch({ type: QUERY_FAILED, query, msg, link, errors });\n  };\n}\n\nexport function stopQuery(query) {\n  return { type: STOP_QUERY, query };\n}\n\nexport function clearQueryResults(query) {\n  return { type: CLEAR_QUERY_RESULTS, query };\n}\n\nexport function removeDataPreview(table) {\n  return { type: REMOVE_DATA_PREVIEW, table };\n}\n\nexport function requestQueryResults(query) {\n  return { type: REQUEST_QUERY_RESULTS, query };\n}\n\nexport function fetchQueryResults(query, displayLimit) {\n  return function (dispatch) {\n    dispatch(requestQueryResults(query));\n\n    const queryParams = rison.encode({\n      key: query.resultsKey,\n      rows: displayLimit || null,\n    });\n\n    return SupersetClient.get({\n      endpoint: `/api/v1/sqllab/results/?q=${queryParams}`,\n      parseMethod: 'json-bigint',\n    })\n      .then(({ json }) => dispatch(querySuccess(query, json)))\n      .catch(response =>\n        getClientErrorObject(response).then(error => {\n          const message =\n            error.error ||\n            error.statusText ||\n            t('Failed at retrieving results');\n\n          return dispatch(\n            queryFailed(query, message, error.link, error.errors),\n          );\n        }),\n      );\n  };\n}\n\nexport function runQuery(query) {\n  return function (dispatch) {\n    dispatch(startQuery(query));\n    const postPayload = {\n      client_id: query.id,\n      database_id: query.dbId,\n      json: true,\n      runAsync: query.runAsync,\n      catalog: query.catalog,\n      schema: query.schema,\n      sql: query.sql,\n      sql_editor_id: query.sqlEditorId,\n      tab: query.tab,\n      tmp_table_name: query.tempTable,\n      select_as_cta: query.ctas,\n      ctas_method: query.ctas_method,\n      templateParams: query.templateParams,\n      queryLimit: query.queryLimit,\n      expand_data: true,\n    };\n\n    const search = window.location.search || '';\n    return SupersetClient.post({\n      endpoint: `/api/v1/sqllab/execute/${search}`,\n      body: JSON.stringify(postPayload),\n      headers: { 'Content-Type': 'application/json' },\n      parseMethod: 'json-bigint',\n    })\n      .then(({ json }) => {\n        if (!query.runAsync) {\n          dispatch(querySuccess(query, json));\n        }\n      })\n      .catch(response =>\n        getClientErrorObject(response).then(error => {\n          let message =\n            error.error ||\n            error.message ||\n            error.statusText ||\n            t('Unknown error');\n          if (message.includes('CSRF token')) {\n            message = t(COMMON_ERR_MESSAGES.SESSION_TIMED_OUT);\n          }\n          dispatch(queryFailed(query, message, error.link, error.errors));\n        }),\n      );\n  };\n}\n\nexport function runQueryFromSqlEditor(\n  database,\n  queryEditor,\n  defaultQueryLimit,\n  tempTable,\n  ctas,\n  ctasMethod,\n) {\n  return function (dispatch, getState) {\n    const qe = getUpToDateQuery(getState(), queryEditor, queryEditor.id);\n    const query = {\n      dbId: qe.dbId,\n      sql: qe.selectedText || qe.sql,\n      sqlEditorId: qe.id,\n      tab: qe.name,\n      catalog: qe.catalog,\n      schema: qe.schema,\n      tempTable,\n      templateParams: qe.templateParams,\n      queryLimit: qe.queryLimit || defaultQueryLimit,\n      runAsync: database ? database.allow_run_async : false,\n      ctas,\n      ctas_method: ctasMethod,\n      updateTabState: !qe.selectedText,\n    };\n    dispatch(runQuery(query));\n  };\n}\n\nexport function reRunQuery(query) {\n  // run Query with a new id\n  return function (dispatch) {\n    dispatch(runQuery({ ...query, id: shortid.generate() }));\n  };\n}\n\nexport function postStopQuery(query) {\n  return function (dispatch) {\n    return SupersetClient.post({\n      endpoint: '/api/v1/query/stop',\n      body: JSON.stringify({ client_id: query.id }),\n      headers: { 'Content-Type': 'application/json' },\n    })\n      .then(() => dispatch(stopQuery(query)))\n      .then(() => dispatch(addSuccessToast(t('Query was stopped.'))))\n      .catch(() =>\n        dispatch(addDangerToast(t('Failed at stopping query. %s', query.id))),\n      );\n  };\n}\n\nexport function setDatabases(databases) {\n  return { type: SET_DATABASES, databases };\n}\n\nfunction migrateTable(table, queryEditorId, dispatch) {\n  return SupersetClient.post({\n    endpoint: encodeURI('/tableschemaview/'),\n    postPayload: { table: { ...table, queryEditorId } },\n  })\n    .then(({ json }) => {\n      const newTable = {\n        ...table,\n        id: json.id,\n        queryEditorId,\n      };\n      return dispatch({ type: MIGRATE_TABLE, oldTable: table, newTable });\n    })\n    .catch(() =>\n      dispatch(\n        addWarningToast(\n          t(\n            'Unable to migrate table schema state to backend. Superset will retry ' +\n              'later. Please contact your administrator if this problem persists.',\n          ),\n        ),\n      ),\n    );\n}\n\nfunction migrateQuery(queryId, queryEditorId, dispatch) {\n  return SupersetClient.post({\n    endpoint: encodeURI(`/tabstateview/${queryEditorId}/migrate_query`),\n    postPayload: { queryId },\n  })\n    .then(() => dispatch({ type: MIGRATE_QUERY, queryId, queryEditorId }))\n    .catch(() =>\n      dispatch(\n        addWarningToast(\n          t(\n            'Unable to migrate query state to backend. Superset will retry later. ' +\n              'Please contact your administrator if this problem persists.',\n          ),\n        ),\n      ),\n    );\n}\n\nexport function migrateQueryEditorFromLocalStorage(\n  queryEditor,\n  tables,\n  queries,\n) {\n  return function (dispatch) {\n    return SupersetClient.post({\n      endpoint: '/tabstateview/',\n      postPayload: { queryEditor },\n    })\n      .then(({ json }) => {\n        const newQueryEditor = {\n          ...queryEditor,\n          id: json.id.toString(),\n          inLocalStorage: false,\n        };\n        dispatch({\n          type: MIGRATE_QUERY_EDITOR,\n          oldQueryEditor: queryEditor,\n          newQueryEditor,\n        });\n        dispatch({\n          type: MIGRATE_TAB_HISTORY,\n          oldId: queryEditor.id,\n          newId: newQueryEditor.id,\n        });\n        return Promise.all([\n          ...tables.map(table =>\n            migrateTable(table, newQueryEditor.id, dispatch),\n          ),\n          ...queries.map(query =>\n            migrateQuery(query.id, newQueryEditor.id, dispatch),\n          ),\n        ]);\n      })\n      .catch(() =>\n        dispatch(\n          addWarningToast(\n            t(\n              'Unable to migrate query editor state to backend. Superset will retry ' +\n                'later. Please contact your administrator if this problem persists.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nexport function addQueryEditor(queryEditor) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.post({\n          endpoint: '/tabstateview/',\n          postPayload: { queryEditor },\n        }).then(({ json }) => ({ ...json, loaded: true }))\n      : Promise.resolve({ id: shortid.generate() });\n\n    return sync\n      .then(({ id, loaded }) => {\n        const newQueryEditor = {\n          ...queryEditor,\n          id: id.toString(),\n          loaded,\n        };\n        return dispatch({\n          type: ADD_QUERY_EDITOR,\n          queryEditor: newQueryEditor,\n        });\n      })\n      .catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'Unable to add a new tab to the backend. Please contact your administrator.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nexport function addNewQueryEditor() {\n  return function (dispatch, getState) {\n    const {\n      sqlLab: { queryEditors, tabHistory, unsavedQueryEditor, databases },\n      common,\n    } = getState();\n    const defaultDbId = common.conf.SQLLAB_DEFAULT_DBID;\n    const activeQueryEditor = queryEditors.find(\n      qe => qe.id === tabHistory[tabHistory.length - 1],\n    );\n    const dbIds = Object.values(databases).map(database => database.id);\n    const firstDbId = dbIds.length > 0 ? Math.min(...dbIds) : undefined;\n    const { dbId, catalog, schema, queryLimit, autorun } = {\n      ...queryEditors[0],\n      ...activeQueryEditor,\n      ...(unsavedQueryEditor.id === activeQueryEditor?.id &&\n        unsavedQueryEditor),\n    };\n    const warning = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? ''\n      : t(\n          '-- Note: Unless you save your query, these tabs will NOT persist if you clear your cookies or change browsers.\\n\\n',\n        );\n\n    const name = newQueryTabName(\n      queryEditors?.map(qe => ({\n        ...qe,\n        ...(qe.id === unsavedQueryEditor.id && unsavedQueryEditor),\n      })) || [],\n    );\n\n    return dispatch(\n      addQueryEditor({\n        dbId: dbId || defaultDbId || firstDbId,\n        catalog: catalog ?? null,\n        schema: schema ?? null,\n        autorun: autorun ?? false,\n        sql: `${warning}SELECT ...`,\n        queryLimit: queryLimit || common.conf.DEFAULT_SQLLAB_LIMIT,\n        name,\n      }),\n    );\n  };\n}\n\nexport function cloneQueryToNewTab(query, autorun) {\n  return function (dispatch, getState) {\n    const state = getState();\n    const { queryEditors, unsavedQueryEditor, tabHistory } = state.sqlLab;\n    const sourceQueryEditor = {\n      ...queryEditors.find(qe => qe.id === tabHistory[tabHistory.length - 1]),\n      ...(tabHistory[tabHistory.length - 1] === unsavedQueryEditor.id &&\n        unsavedQueryEditor),\n    };\n    const queryEditor = {\n      name: t('Copy of %s', sourceQueryEditor.name),\n      dbId: query.dbId ? query.dbId : null,\n      catalog: query.catalog ? query.catalog : null,\n      schema: query.schema ? query.schema : null,\n      autorun,\n      sql: query.sql,\n      queryLimit: sourceQueryEditor.queryLimit,\n      maxRow: sourceQueryEditor.maxRow,\n      templateParams: sourceQueryEditor.templateParams,\n    };\n    return dispatch(addQueryEditor(queryEditor));\n  };\n}\n\nexport function setActiveQueryEditor(queryEditor) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.post({\n          endpoint: encodeURI(`/tabstateview/${queryEditor.id}/activate`),\n        })\n      : Promise.resolve();\n\n    return sync\n      .then(() => dispatch({ type: SET_ACTIVE_QUERY_EDITOR, queryEditor }))\n      .catch(response => {\n        if (response.status !== 404) {\n          return dispatch(\n            addDangerToast(\n              t(\n                'An error occurred while setting the active tab. Please contact ' +\n                  'your administrator.',\n              ),\n            ),\n          );\n        }\n        return dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor });\n      });\n  };\n}\n\nexport function loadQueryEditor(queryEditor) {\n  return { type: LOAD_QUERY_EDITOR, queryEditor };\n}\n\nexport function setTables(tableSchemas) {\n  const tables = tableSchemas\n    .filter(tableSchema => tableSchema.description !== null)\n    .map(tableSchema => {\n      const {\n        columns,\n        selectStar,\n        primaryKey,\n        foreignKeys,\n        indexes,\n        dataPreviewQueryId,\n      } = tableSchema.description;\n      return {\n        dbId: tableSchema.database_id,\n        queryEditorId: tableSchema.tab_state_id.toString(),\n        catalog: tableSchema.catalog,\n        schema: tableSchema.schema,\n        name: tableSchema.table,\n        expanded: tableSchema.expanded,\n        id: tableSchema.id,\n        dataPreviewQueryId,\n        columns,\n        selectStar,\n        primaryKey,\n        foreignKeys,\n        indexes,\n        isMetadataLoading: false,\n        isExtraMetadataLoading: false,\n      };\n    });\n  return { type: SET_TABLES, tables };\n}\n\nexport function switchQueryEditor(queryEditor, displayLimit) {\n  return function (dispatch) {\n    if (\n      isFeatureEnabled(FeatureFlag.SqllabBackendPersistence) &&\n      queryEditor &&\n      !queryEditor.loaded\n    ) {\n      SupersetClient.get({\n        endpoint: encodeURI(`/tabstateview/${queryEditor.id}`),\n      })\n        .then(({ json }) => {\n          const loadedQueryEditor = {\n            id: json.id.toString(),\n            loaded: true,\n            name: json.label,\n            sql: json.sql,\n            selectedText: null,\n            latestQueryId: json.latest_query?.id,\n            autorun: json.autorun,\n            dbId: json.database_id,\n            templateParams: json.template_params,\n            catalog: json.catalog,\n            schema: json.schema,\n            queryLimit: json.query_limit,\n            remoteId: json.saved_query?.id,\n            hideLeftBar: json.hide_left_bar,\n          };\n          dispatch(loadQueryEditor(loadedQueryEditor));\n          dispatch(setTables(json.table_schemas || []));\n          dispatch(setActiveQueryEditor(loadedQueryEditor));\n          if (json.latest_query && json.latest_query.resultsKey) {\n            dispatch(fetchQueryResults(json.latest_query, displayLimit));\n          }\n        })\n        .catch(response => {\n          if (response.status !== 404) {\n            return dispatch(\n              addDangerToast(t('An error occurred while fetching tab state')),\n            );\n          }\n          return dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor });\n        });\n    } else {\n      dispatch(setActiveQueryEditor(queryEditor));\n    }\n  };\n}\n\nexport function setActiveSouthPaneTab(tabId) {\n  return { type: SET_ACTIVE_SOUTHPANE_TAB, tabId };\n}\n\nexport function toggleLeftBar(queryEditor) {\n  const hideLeftBar = !queryEditor.hideLeftBar;\n  return {\n    type: QUERY_EDITOR_TOGGLE_LEFT_BAR,\n    queryEditor,\n    hideLeftBar,\n  };\n}\n\nexport function removeQueryEditor(queryEditor) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.delete({\n          endpoint: encodeURI(`/tabstateview/${queryEditor.id}`),\n        })\n      : Promise.resolve();\n\n    return sync\n      .then(() => dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor }))\n      .catch(({ status }) => {\n        if (status !== 404) {\n          return dispatch(\n            addDangerToast(\n              t(\n                'An error occurred while removing tab. Please contact your administrator.',\n              ),\n            ),\n          );\n        }\n        return dispatch({ type: REMOVE_QUERY_EDITOR, queryEditor });\n      });\n  };\n}\n\nexport function removeAllOtherQueryEditors(queryEditor) {\n  return function (dispatch, getState) {\n    const { sqlLab } = getState();\n    sqlLab.queryEditors?.forEach(otherQueryEditor => {\n      if (otherQueryEditor.id !== queryEditor.id) {\n        dispatch(removeQueryEditor(otherQueryEditor));\n      }\n    });\n  };\n}\n\nexport function removeQuery(query) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.delete({\n          endpoint: encodeURI(\n            `/tabstateview/${query.sqlEditorId}/query/${query.id}`,\n          ),\n        })\n      : Promise.resolve();\n\n    return sync\n      .then(() => dispatch({ type: REMOVE_QUERY, query }))\n      .catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while removing query. Please contact your administrator.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nexport function queryEditorSetDb(queryEditor, dbId) {\n  return { type: QUERY_EDITOR_SETDB, queryEditor, dbId };\n}\n\nexport function queryEditorSetCatalog(queryEditor, catalog) {\n  return {\n    type: QUERY_EDITOR_SET_CATALOG,\n    queryEditor: queryEditor || {},\n    catalog,\n  };\n}\n\nexport function queryEditorSetSchema(queryEditor, schema) {\n  return {\n    type: QUERY_EDITOR_SET_SCHEMA,\n    queryEditor: queryEditor || {},\n    schema,\n  };\n}\n\nexport function queryEditorSetAutorun(queryEditor, autorun) {\n  return { type: QUERY_EDITOR_SET_AUTORUN, queryEditor, autorun };\n}\n\nexport function queryEditorSetTitle(queryEditor, name, id) {\n  return {\n    type: QUERY_EDITOR_SET_TITLE,\n    queryEditor: { ...queryEditor, id },\n    name,\n  };\n}\n\nexport function saveQuery(query, clientId) {\n  const { id, ...payload } = convertQueryToServer(query);\n\n  return dispatch =>\n    SupersetClient.post({\n      endpoint: '/api/v1/saved_query/',\n      jsonPayload: convertQueryToServer(payload),\n    })\n      .then(result => {\n        const savedQuery = convertQueryToClient({\n          id: result.json.id,\n          ...result.json.result,\n        });\n        dispatch({\n          type: QUERY_EDITOR_SAVED,\n          query,\n          clientId,\n          result: savedQuery,\n        });\n        dispatch(queryEditorSetTitle(query, query.name, clientId));\n        return savedQuery;\n      })\n      .catch(() =>\n        dispatch(addDangerToast(t('Your query could not be saved'))),\n      );\n}\n\nexport const addSavedQueryToTabState =\n  (queryEditor, savedQuery) => dispatch => {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.put({\n          endpoint: `/tabstateview/${queryEditor.id}`,\n          postPayload: { saved_query_id: savedQuery.remoteId },\n        })\n      : Promise.resolve();\n\n    return sync\n      .catch(() => {\n        dispatch(addDangerToast(t('Your query was not properly saved')));\n      })\n      .then(() => {\n        dispatch(addSuccessToast(t('Your query was saved')));\n      });\n  };\n\nexport function updateSavedQuery(query, clientId) {\n  const { id, ...payload } = convertQueryToServer(query);\n\n  return dispatch =>\n    SupersetClient.put({\n      endpoint: `/api/v1/saved_query/${query.remoteId}`,\n      jsonPayload: convertQueryToServer(payload),\n    })\n      .then(() => {\n        dispatch(addSuccessToast(t('Your query was updated')));\n        dispatch(queryEditorSetTitle(query, query.name, clientId));\n      })\n      .catch(e => {\n        const message = t('Your query could not be updated');\n        // eslint-disable-next-line no-console\n        console.error(message, e);\n        dispatch(addDangerToast(message));\n      })\n      .then(() => dispatch(updateQueryEditor(query)));\n}\n\nexport function queryEditorSetSql(queryEditor, sql, queryId) {\n  return { type: QUERY_EDITOR_SET_SQL, queryEditor, sql, queryId };\n}\n\nexport function queryEditorSetCursorPosition(queryEditor, position) {\n  return { type: QUERY_EDITOR_SET_CURSOR_POSITION, queryEditor, position };\n}\n\nexport function queryEditorSetAndSaveSql(targetQueryEditor, sql, queryId) {\n  return function (dispatch, getState) {\n    const queryEditor = getUpToDateQuery(getState(), targetQueryEditor);\n    // saved query and set tab state use this action\n    dispatch(queryEditorSetSql(queryEditor, sql, queryId));\n    if (isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)) {\n      return SupersetClient.put({\n        endpoint: encodeURI(`/tabstateview/${queryEditor.id}`),\n        postPayload: { sql, latest_query_id: queryId },\n      }).catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while storing your query in the backend. To ' +\n                'avoid losing your changes, please save your query using the ' +\n                '\"Save Query\" button.',\n            ),\n          ),\n        ),\n      );\n    }\n    return Promise.resolve();\n  };\n}\n\nexport function formatQuery(queryEditor) {\n  return function (dispatch, getState) {\n    const { sql } = getUpToDateQuery(getState(), queryEditor);\n    return SupersetClient.post({\n      endpoint: `/api/v1/sqllab/format_sql/`,\n      // TODO (betodealmeida): pass engine as a parameter for better formatting\n      body: JSON.stringify({ sql }),\n      headers: { 'Content-Type': 'application/json' },\n    }).then(({ json }) => {\n      dispatch(queryEditorSetSql(queryEditor, json.result));\n    });\n  };\n}\n\nexport function queryEditorSetQueryLimit(queryEditor, queryLimit) {\n  return {\n    type: QUERY_EDITOR_SET_QUERY_LIMIT,\n    queryEditor,\n    queryLimit,\n  };\n}\n\nexport function queryEditorSetTemplateParams(queryEditor, templateParams) {\n  return {\n    type: QUERY_EDITOR_SET_TEMPLATE_PARAMS,\n    queryEditor,\n    templateParams,\n  };\n}\n\nexport function queryEditorSetSelectedText(queryEditor, sql) {\n  return { type: QUERY_EDITOR_SET_SELECTED_TEXT, queryEditor, sql };\n}\n\nexport function mergeTable(table, query, prepend) {\n  return { type: MERGE_TABLE, table, query, prepend };\n}\n\nexport function addTable(queryEditor, tableName, catalogName, schemaName) {\n  return function (dispatch, getState) {\n    const query = getUpToDateQuery(getState(), queryEditor, queryEditor.id);\n    const table = {\n      dbId: query.dbId,\n      queryEditorId: query.id,\n      catalog: catalogName,\n      schema: schemaName,\n      name: tableName,\n    };\n    dispatch(\n      mergeTable(\n        {\n          ...table,\n          id: shortid.generate(),\n          expanded: true,\n        },\n        null,\n        true,\n      ),\n    );\n  };\n}\n\nexport function runTablePreviewQuery(newTable) {\n  return function (dispatch, getState) {\n    const {\n      sqlLab: { databases },\n    } = getState();\n    const database = databases[newTable.dbId];\n    const { dbId, catalog, schema } = newTable;\n\n    if (database && !database.disable_data_preview) {\n      const dataPreviewQuery = {\n        id: shortid.generate(),\n        dbId,\n        catalog,\n        schema,\n        sql: newTable.selectStar,\n        tableName: newTable.name,\n        sqlEditorId: null,\n        tab: '',\n        runAsync: database.allow_run_async,\n        ctas: false,\n        isDataPreview: true,\n      };\n      return Promise.all([\n        dispatch(\n          mergeTable(\n            {\n              id: newTable.id,\n              dbId: newTable.dbId,\n              catalog: newTable.catalog,\n              schema: newTable.schema,\n              name: newTable.name,\n              queryEditorId: newTable.queryEditorId,\n              dataPreviewQueryId: dataPreviewQuery.id,\n            },\n            dataPreviewQuery,\n          ),\n        ),\n        dispatch(runQuery(dataPreviewQuery)),\n      ]);\n    }\n    return Promise.resolve();\n  };\n}\n\nexport function syncTable(table, tableMetadata) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.post({\n          endpoint: encodeURI('/tableschemaview/'),\n          postPayload: { table: { ...tableMetadata, ...table } },\n        })\n      : Promise.resolve({ json: { id: table.id } });\n\n    return sync\n      .then(({ json: resultJson }) => {\n        const newTable = { ...table, id: resultJson.id };\n        dispatch(\n          mergeTable({\n            ...newTable,\n            expanded: true,\n            initialized: true,\n          }),\n        );\n        if (!table.dataPreviewQueryId) {\n          dispatch(runTablePreviewQuery({ ...tableMetadata, ...newTable }));\n        }\n      })\n      .catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while fetching table metadata. ' +\n                'Please contact your administrator.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nexport function changeDataPreviewId(oldQueryId, newQuery) {\n  return { type: CHANGE_DATA_PREVIEW_ID, oldQueryId, newQuery };\n}\n\nexport function reFetchQueryResults(query) {\n  return function (dispatch) {\n    const newQuery = {\n      id: shortid.generate(),\n      dbId: query.dbId,\n      sql: query.sql,\n      tableName: query.tableName,\n      sqlEditorId: null,\n      tab: '',\n      runAsync: false,\n      ctas: false,\n      queryLimit: query.queryLimit,\n      isDataPreview: query.isDataPreview,\n    };\n    dispatch(runQuery(newQuery));\n    dispatch(changeDataPreviewId(query.id, newQuery));\n  };\n}\n\nexport function expandTable(table) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.post({\n          endpoint: encodeURI(`/tableschemaview/${table.id}/expanded`),\n          postPayload: { expanded: true },\n        })\n      : Promise.resolve();\n\n    return sync\n      .then(() => dispatch({ type: EXPAND_TABLE, table }))\n      .catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while expanding the table schema. ' +\n                'Please contact your administrator.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nexport function collapseTable(table) {\n  return function (dispatch) {\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? SupersetClient.post({\n          endpoint: encodeURI(`/tableschemaview/${table.id}/expanded`),\n          postPayload: { expanded: false },\n        })\n      : Promise.resolve();\n\n    return sync\n      .then(() => dispatch({ type: COLLAPSE_TABLE, table }))\n      .catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while collapsing the table schema. ' +\n                'Please contact your administrator.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nexport function removeTables(tables) {\n  return function (dispatch) {\n    const tablesToRemove = tables?.filter(Boolean) ?? [];\n    const sync = isFeatureEnabled(FeatureFlag.SqllabBackendPersistence)\n      ? Promise.all(\n          tablesToRemove.map(table =>\n            table.initialized\n              ? SupersetClient.delete({\n                  endpoint: encodeURI(`/tableschemaview/${table.id}`),\n                })\n              : Promise.resolve(),\n          ),\n        )\n      : Promise.resolve();\n\n    return sync\n      .then(() => dispatch({ type: REMOVE_TABLES, tables: tablesToRemove }))\n      .catch(() =>\n        dispatch(\n          addDangerToast(\n            t(\n              'An error occurred while removing the table schema. ' +\n                'Please contact your administrator.',\n            ),\n          ),\n        ),\n      );\n  };\n}\n\nexport function refreshQueries(alteredQueries) {\n  return { type: REFRESH_QUERIES, alteredQueries };\n}\n\nexport function setUserOffline(offline) {\n  return { type: SET_USER_OFFLINE, offline };\n}\n\nexport function persistEditorHeight(queryEditor, northPercent, southPercent) {\n  return {\n    type: QUERY_EDITOR_PERSIST_HEIGHT,\n    queryEditor,\n    northPercent,\n    southPercent,\n  };\n}\n\nexport function popStoredQuery(urlId) {\n  return function (dispatch) {\n    return SupersetClient.get({ endpoint: `/kv/${urlId}` })\n      .then(({ json }) =>\n        dispatch(\n          addQueryEditor({\n            name: json.name ? json.name : t('Shared query'),\n            dbId: json.dbId ? parseInt(json.dbId, 10) : null,\n            catalog: json.catalog ? json.catalog : null,\n            schema: json.schema ? json.schema : null,\n            autorun: json.autorun ? json.autorun : false,\n            sql: json.sql ? json.sql : 'SELECT ...',\n            templateParams: json.templateParams,\n          }),\n        ),\n      )\n      .catch(() => dispatch(addDangerToast(ERR_MSG_CANT_LOAD_QUERY)));\n  };\n}\nexport function popSavedQuery(saveQueryId) {\n  return function (dispatch) {\n    return SupersetClient.get({\n      endpoint: `/api/v1/saved_query/${saveQueryId}`,\n    })\n      .then(({ json }) => {\n        const queryEditorProps = {\n          ...convertQueryToClient(json.result),\n          loaded: true,\n          autorun: false,\n        };\n        const tmpAdaptedProps = {\n          name: queryEditorProps.name,\n          dbId: queryEditorProps.database.id,\n          catalog: queryEditorProps.catalog,\n          schema: queryEditorProps.schema,\n          sql: queryEditorProps.sql,\n          templateParams: queryEditorProps.templateParams,\n        };\n        return dispatch(addQueryEditor(tmpAdaptedProps));\n      })\n      .catch(() => dispatch(addDangerToast(ERR_MSG_CANT_LOAD_QUERY)));\n  };\n}\nexport function popQuery(queryId) {\n  return function (dispatch) {\n    return SupersetClient.get({\n      endpoint: `/api/v1/query/${queryId}`,\n    })\n      .then(({ json }) => {\n        const queryData = json.result;\n        const queryEditorProps = {\n          dbId: queryData.database.id,\n          catalog: queryData.catalog,\n          schema: queryData.schema,\n          sql: queryData.sql,\n          name: t('Copy of %s', queryData.tab_name),\n          autorun: false,\n        };\n        return dispatch(addQueryEditor(queryEditorProps));\n      })\n      .catch(() => dispatch(addDangerToast(ERR_MSG_CANT_LOAD_QUERY)));\n  };\n}\nexport function popDatasourceQuery(datasourceKey, sql) {\n  return function (dispatch) {\n    const QUERY_TEXT = t('Query');\n    const datasetId = datasourceKey.split('__')[0];\n\n    const queryParams = rison.encode({\n      keys: ['none'],\n      columns: ['name', 'schema', 'database.id', 'select_star'],\n    });\n\n    return SupersetClient.get({\n      endpoint: `/api/v1/dataset/${datasetId}?q=${queryParams}`,\n    })\n      .then(({ json }) =>\n        dispatch(\n          addQueryEditor({\n            name: `${QUERY_TEXT} ${json.result.name}`,\n            dbId: json.result.database.id,\n            schema: json.result.schema,\n            autorun: sql !== undefined,\n            sql: sql || json.result.select_star,\n          }),\n        ),\n      )\n      .catch(() =>\n        dispatch(addDangerToast(t(\"The datasource couldn't be loaded\"))),\n      );\n  };\n}\nexport function createDatasourceStarted() {\n  return { type: CREATE_DATASOURCE_STARTED };\n}\nexport function createDatasourceSuccess(data) {\n  const datasource = `${data.id}__table`;\n  return { type: CREATE_DATASOURCE_SUCCESS, datasource };\n}\nexport function createDatasourceFailed(err) {\n  return { type: CREATE_DATASOURCE_FAILED, err };\n}\n\nexport function createDatasource(vizOptions) {\n  return dispatch => {\n    dispatch(createDatasourceStarted());\n    const { dbId, catalog, schema, datasourceName, sql } = vizOptions;\n    return SupersetClient.post({\n      endpoint: '/api/v1/dataset/',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify({\n        database: dbId,\n        catalog,\n        schema,\n        sql,\n        table_name: datasourceName,\n        is_managed_externally: false,\n        external_url: null,\n      }),\n    })\n      .then(({ json }) => {\n        dispatch(createDatasourceSuccess(json));\n\n        return Promise.resolve(json);\n      })\n      .catch(error => {\n        getClientErrorObject(error).then(e => {\n          dispatch(addDangerToast(e.error));\n        });\n        dispatch(\n          createDatasourceFailed(\n            t('An error occurred while creating the data source'),\n          ),\n        );\n\n        return Promise.reject();\n      });\n  };\n}\n\nexport function createCtasDatasource(vizOptions) {\n  return dispatch => {\n    dispatch(createDatasourceStarted());\n    return SupersetClient.post({\n      endpoint: '/api/v1/dataset/get_or_create/',\n      jsonPayload: vizOptions,\n    })\n      .then(({ json }) => {\n        dispatch(createDatasourceSuccess(json.result));\n\n        return json.result;\n      })\n      .catch(() => {\n        const errorMsg = t('An error occurred while creating the data source');\n        dispatch(createDatasourceFailed(errorMsg));\n        return Promise.reject(new Error(errorMsg));\n      });\n  };\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}