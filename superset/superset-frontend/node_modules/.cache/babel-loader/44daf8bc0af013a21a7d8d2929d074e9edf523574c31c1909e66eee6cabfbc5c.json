{"ast":null,"code":"import _isObject from \"lodash/isObject\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\n\nimport { t, SupersetClient } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { useHistory } from 'react-router-dom';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst CLOSE = t('Close');\nconst SAVE_AS_DATASET = t('Save as Dataset');\nconst OPEN_IN_SQL_LAB = t('Open in SQL Lab');\nconst ViewQueryModalFooter = (props) => {\n  const history = useHistory();\n  const viewInSQLLab = (openInNewWindow, id, type, sql) => {\n    const payload = {\n      datasourceKey: `${id}__${type}`,\n      sql\n    };\n    if (openInNewWindow) {\n      SupersetClient.postForm('/sqllab/', payload);\n    } else\n    {\n      history.push({\n        pathname: '/sqllab',\n        state: {\n          requestedQuery: payload\n        }\n      });\n    }\n  };\n  const openSQL = (openInNewWindow) => {\n    const { datasource } = props;\n    if (_isObject(datasource)) {\n      const { id, type, sql } = datasource;\n      viewInSQLLab(openInNewWindow, id, type, sql);\n    }\n  };\n  return ___EmotionJSX(\"div\", null,\n  ___EmotionJSX(Button, { onClick: () => {\n      props == null ? void 0 : props.closeModal == null ? void 0 : props.closeModal();\n      props == null ? void 0 : props.changeDatasource == null ? void 0 : props.changeDatasource();\n    } },\n  SAVE_AS_DATASET\n  ),\n  ___EmotionJSX(Button, { onClick: ({ metaKey }) => openSQL(Boolean(metaKey)) },\n  OPEN_IN_SQL_LAB\n  ),\n  ___EmotionJSX(Button, { buttonStyle: \"primary\", onClick: () => {\n      props == null ? void 0 : props.closeModal == null ? void 0 : props.closeModal();\n    } },\n  CLOSE\n  )\n  );\n};__signature__(ViewQueryModalFooter, \"useHistory{history}\", () => [useHistory]);const _default =\nViewQueryModalFooter;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CLOSE, \"CLOSE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ViewQueryModalFooter.tsx\");reactHotLoader.register(SAVE_AS_DATASET, \"SAVE_AS_DATASET\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ViewQueryModalFooter.tsx\");reactHotLoader.register(OPEN_IN_SQL_LAB, \"OPEN_IN_SQL_LAB\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ViewQueryModalFooter.tsx\");reactHotLoader.register(ViewQueryModalFooter, \"ViewQueryModalFooter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ViewQueryModalFooter.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ViewQueryModalFooter.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","t","SupersetClient","Button","useHistory","jsx","___EmotionJSX","CLOSE","SAVE_AS_DATASET","OPEN_IN_SQL_LAB","ViewQueryModalFooter","props","history","viewInSQLLab","openInNewWindow","id","type","sql","payload","datasourceKey","postForm","push","pathname","state","requestedQuery","openSQL","datasource","_isObject","onClick","closeModal","changeDatasource","metaKey","Boolean","buttonStyle","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ViewQueryModalFooter.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { isObject } from 'lodash';\nimport { t, SupersetClient } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport { useHistory } from 'react-router-dom';\n\ninterface SimpleDataSource {\n  id: string;\n  sql: string;\n  type: string;\n}\n\ninterface ViewQueryModalFooterProps {\n  closeModal?: Function;\n  changeDatasource?: Function;\n  datasource?: SimpleDataSource;\n}\n\nconst CLOSE = t('Close');\nconst SAVE_AS_DATASET = t('Save as Dataset');\nconst OPEN_IN_SQL_LAB = t('Open in SQL Lab');\n\nconst ViewQueryModalFooter: React.FC<ViewQueryModalFooterProps> = (props: {\n  closeModal: () => void;\n  changeDatasource: () => void;\n  datasource: SimpleDataSource;\n}) => {\n  const history = useHistory();\n  const viewInSQLLab = (\n    openInNewWindow: boolean,\n    id: string,\n    type: string,\n    sql: string,\n  ) => {\n    const payload = {\n      datasourceKey: `${id}__${type}`,\n      sql,\n    };\n    if (openInNewWindow) {\n      SupersetClient.postForm('/sqllab/', payload);\n    } else {\n      history.push({\n        pathname: '/sqllab',\n        state: {\n          requestedQuery: payload,\n        },\n      });\n    }\n  };\n\n  const openSQL = (openInNewWindow: boolean) => {\n    const { datasource } = props;\n    if (isObject(datasource)) {\n      const { id, type, sql } = datasource;\n      viewInSQLLab(openInNewWindow, id, type, sql);\n    }\n  };\n  return (\n    <div>\n      <Button\n        onClick={() => {\n          props?.closeModal?.();\n          props?.changeDatasource?.();\n        }}\n      >\n        {SAVE_AS_DATASET}\n      </Button>\n      <Button onClick={({ metaKey }) => openSQL(Boolean(metaKey))}>\n        {OPEN_IN_SQL_LAB}\n      </Button>\n      <Button\n        buttonStyle=\"primary\"\n        onClick={() => {\n          props?.closeModal?.();\n        }}\n      >\n        {CLOSE}\n      </Button>\n    </div>\n  );\n};\n\nexport default ViewQueryModalFooter;\n"],"mappings":"gVAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,MAAM,OAAO;;AAEzB,SAASC,CAAC,EAAEC,cAAc,QAAQ,mBAAmB;AACrD,OAAOC,MAAM,MAAM,uBAAuB;AAC1C,SAASC,UAAU,QAAQ,kBAAkB,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAc9C,MAAMC,KAAK,GAAGN,CAAC,CAAC,OAAO,CAAC;AACxB,MAAMO,eAAe,GAAGP,CAAC,CAAC,iBAAiB,CAAC;AAC5C,MAAMQ,eAAe,GAAGR,CAAC,CAAC,iBAAiB,CAAC;AAE5C,MAAMS,oBAAoB,GAAwCA,CAACC,KAIlE,KAAI;EACH,MAAMC,OAAO,GAAGR,UAAU,EAAE;EAC5B,MAAMS,YAAY,GAAGA,CACnBC,eAAwB,EACxBC,EAAU,EACVC,IAAY,EACZC,GAAW,KACT;IACF,MAAMC,OAAO,GAAG;MACdC,aAAa,EAAE,GAAGJ,EAAE,KAAKC,IAAI,EAAE;MAC/BC;KACD;IACD,IAAIH,eAAe,EAAE;MACnBZ,cAAc,CAACkB,QAAQ,CAAC,UAAU,EAAEF,OAAO,CAAC;KAC7C;IAAM;MACLN,OAAO,CAACS,IAAI,CAAC;QACXC,QAAQ,EAAE,SAAS;QACnBC,KAAK,EAAE;UACLC,cAAc,EAAEN;;OAEnB,CAAC;;EAEN,CAAC;EAED,MAAMO,OAAO,GAAGA,CAACX,eAAwB,KAAI;IAC3C,MAAM,EAAEY,UAAU,EAAE,GAAGf,KAAK;IAC5B,IAAIgB,SAAA,CAASD,UAAU,CAAC,EAAE;MACxB,MAAM,EAAEX,EAAE,EAAEC,IAAI,EAAEC,GAAG,EAAE,GAAGS,UAAU;MACpCb,YAAY,CAACC,eAAe,EAAEC,EAAE,EAAEC,IAAI,EAAEC,GAAG,CAAC;;EAEhD,CAAC;EACD,OACEX,aAAA;EACEA,aAAA,CAACH,MAAM,IACLyB,OAAO,EAAEA,CAAA,KAAK;MACZjB,KAAK,oBAALA,KAAK,CAAEkB,UAAU,oBAAjBlB,KAAK,CAAEkB,UAAU,CAAE,CAAE;MACrBlB,KAAK,oBAALA,KAAK,CAAEmB,gBAAgB,oBAAvBnB,KAAK,CAAEmB,gBAAgB,CAAE,CAAE;IAC7B,CAAE;EAEDtB;EACK,CACR;EAAAF,aAAA,CAACH,MAAM,IAACyB,OAAO,EAAEA,CAAC,EAAEG,OAAO,EAAE,KAAKN,OAAO,CAACO,OAAO,CAACD,OAAO,CAAC,CAAE;EACzDtB;EACK,CACR;EAAAH,aAAA,CAACH,MAAM,IACL8B,WAAW,EAAC,SAAS,EACrBL,OAAO,EAAEA,CAAA,KAAK;MACZjB,KAAK,oBAALA,KAAK,CAAEkB,UAAU,oBAAjBlB,KAAK,CAAEkB,UAAU,CAAE,CAAE;IACvB,CAAE;EAEDtB;EACK;EACL,CAAC;AAEV,CAAC,CAAC2B,aAAA,CA1DIxB,oBAAoB,gCAKRN,UAAU,SAAA+B,QAAA;AAuDbzB,oBAAoB,CAAnC,eAAAyB,QAAA,CAAoC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAhE9BjC,KAAK,8HAAA6B,cAAA,CAAAI,QAAA,CACLhC,eAAe,wIAAA4B,cAAA,CAAAI,QAAA,CACf/B,eAAe,wIAAA2B,cAAA,CAAAI,QAAA,CAEf9B,oBAAoB,6IAAA0B,cAAA,CAAAI,QAAA,CAAAL,QAAA,wJAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}