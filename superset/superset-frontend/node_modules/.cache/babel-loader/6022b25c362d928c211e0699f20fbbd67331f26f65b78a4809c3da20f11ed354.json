{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport Matrix4 from './matrix4';\nimport Vector3 from './vector3';\nimport Euler from './euler';\nexport default class Pose {\n  constructor({\n    x = 0,\n    y = 0,\n    z = 0,\n    roll = 0,\n    pitch = 0,\n    yaw = 0,\n    position,\n    orientation\n  } = {}) {\n    _defineProperty(this, \"position\", void 0);\n\n    _defineProperty(this, \"orientation\", void 0);\n\n    if (Array.isArray(position) && position.length === 3) {\n      this.position = new Vector3(position);\n    } else {\n      this.position = new Vector3(x, y, z);\n    }\n\n    if (Array.isArray(orientation) && orientation.length === 4) {\n      this.orientation = new Euler(orientation, orientation[3]);\n    } else {\n      this.orientation = new Euler(roll, pitch, yaw, Euler.RollPitchYaw);\n    }\n  }\n\n  get x() {\n    return this.position.x;\n  }\n\n  set x(value) {\n    this.position.x = value;\n  }\n\n  get y() {\n    return this.position.y;\n  }\n\n  set y(value) {\n    this.position.y = value;\n  }\n\n  get z() {\n    return this.position.z;\n  }\n\n  set z(value) {\n    this.position.z = value;\n  }\n\n  get roll() {\n    return this.orientation.roll;\n  }\n\n  set roll(value) {\n    this.orientation.roll = value;\n  }\n\n  get pitch() {\n    return this.orientation.pitch;\n  }\n\n  set pitch(value) {\n    this.orientation.pitch = value;\n  }\n\n  get yaw() {\n    return this.orientation.yaw;\n  }\n\n  set yaw(value) {\n    this.orientation.yaw = value;\n  }\n\n  getPosition() {\n    return this.position;\n  }\n\n  getOrientation() {\n    return this.orientation;\n  }\n\n  equals(pose) {\n    if (!pose) {\n      return false;\n    }\n\n    return this.position.equals(pose.position) && this.orientation.equals(pose.orientation);\n  }\n\n  exactEquals(pose) {\n    if (!pose) {\n      return false;\n    }\n\n    return this.position.exactEquals(pose.position) && this.orientation.exactEquals(pose.orientation);\n  }\n\n  getTransformationMatrix() {\n    const sr = Math.sin(this.roll);\n    const sp = Math.sin(this.pitch);\n    const sw = Math.sin(this.yaw);\n    const cr = Math.cos(this.roll);\n    const cp = Math.cos(this.pitch);\n    const cw = Math.cos(this.yaw);\n    return new Matrix4().setRowMajor(cw * cp, -sw * cr + cw * sp * sr, sw * sr + cw * sp * cr, this.x, sw * cp, cw * cr + sw * sp * sr, -cw * sr + sw * sp * cr, this.y, -sp, cp * sr, cp * cr, this.z, 0, 0, 0, 1);\n  }\n\n  getTransformationMatrixFromPose(pose) {\n    return new Matrix4().multiplyRight(this.getTransformationMatrix()).multiplyRight(pose.getTransformationMatrix().invert());\n  }\n\n  getTransformationMatrixToPose(pose) {\n    return new Matrix4().multiplyRight(pose.getTransformationMatrix()).multiplyRight(this.getTransformationMatrix().invert());\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Pose, \"Pose\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@math.gl/core/dist/esm/classes/pose.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["Matrix4","Vector3","Euler","Pose","constructor","x","y","z","roll","pitch","yaw","position","orientation","_defineProperty","Array","isArray","length","RollPitchYaw","value","getPosition","getOrientation","equals","pose","exactEquals","getTransformationMatrix","sr","Math","sin","sp","sw","cr","cos","cp","cw","setRowMajor","getTransformationMatrixFromPose","multiplyRight","invert","getTransformationMatrixToPose","__reactstandin__regenerateByEval","key","code","eval","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["../../../src/classes/pose.ts"],"sourcesContent":["// Copyright (c) 2017 Uber Technologies, Inc.\n// MIT License\nimport Matrix4 from './matrix4';\nimport Vector3 from './vector3';\nimport Euler from './euler';\nimport {NumericArray} from '@math.gl/types';\n\ntype PoseOptions = {\n  position?: Readonly<NumericArray>;\n  orientation?: Readonly<NumericArray>;\n  x?: number;\n  y?: number;\n  z?: number;\n  roll?: number;\n  pitch?: number;\n  yaw?: number;\n};\n\nexport default class Pose {\n  readonly position: Vector3;\n  readonly orientation: Euler;\n\n  constructor({\n    x = 0,\n    y = 0,\n    z = 0,\n    roll = 0,\n    pitch = 0,\n    yaw = 0,\n    position,\n    orientation\n  }: PoseOptions = {}) {\n    if (Array.isArray(position) && position.length === 3) {\n      this.position = new Vector3(position);\n    } else {\n      this.position = new Vector3(x, y, z);\n    }\n    if (Array.isArray(orientation) && orientation.length === 4) {\n      // @ts-expect-error\n      this.orientation = new Euler(orientation, orientation[3]);\n    } else {\n      this.orientation = new Euler(roll, pitch, yaw, Euler.RollPitchYaw);\n    }\n  }\n\n  get x(): number {\n    return this.position.x;\n  }\n\n  set x(value: number) {\n    this.position.x = value;\n  }\n\n  get y(): number {\n    return this.position.y;\n  }\n\n  set y(value: number) {\n    this.position.y = value;\n  }\n\n  get z(): number {\n    return this.position.z;\n  }\n\n  set z(value: number) {\n    this.position.z = value;\n  }\n\n  get roll(): number {\n    return this.orientation.roll;\n  }\n\n  set roll(value: number) {\n    this.orientation.roll = value;\n  }\n\n  get pitch(): number {\n    return this.orientation.pitch;\n  }\n  set pitch(value: number) {\n    this.orientation.pitch = value;\n  }\n\n  get yaw(): number {\n    return this.orientation.yaw;\n  }\n\n  set yaw(value: number) {\n    this.orientation.yaw = value;\n  }\n\n  getPosition(): Vector3 {\n    return this.position;\n  }\n\n  getOrientation(): Euler {\n    return this.orientation;\n  }\n\n  equals(pose: Pose): boolean {\n    if (!pose) {\n      return false;\n    }\n    return this.position.equals(pose.position) && this.orientation.equals(pose.orientation);\n  }\n\n  exactEquals(pose: Pose): boolean {\n    if (!pose) {\n      return false;\n    }\n    return (\n      this.position.exactEquals(pose.position) && this.orientation.exactEquals(pose.orientation)\n    );\n  }\n\n  getTransformationMatrix(): Matrix4 {\n    // setup pre computations for the sin/cos of the angles\n    const sr = Math.sin(this.roll);\n    const sp = Math.sin(this.pitch);\n    const sw = Math.sin(this.yaw);\n    const cr = Math.cos(this.roll);\n    const cp = Math.cos(this.pitch);\n    const cw = Math.cos(this.yaw);\n\n    // Create matrix\n    return new Matrix4().setRowMajor(\n      cw * cp, // 0,0\n      -sw * cr + cw * sp * sr, // 0,1\n      sw * sr + cw * sp * cr, // 0,2\n      this.x, // 0,3\n      sw * cp, // 1,0\n      cw * cr + sw * sp * sr, // 1,1\n      -cw * sr + sw * sp * cr, // 1,2\n      this.y, // 1,3\n      -sp, // 2,0\n      cp * sr, // 2,1\n      cp * cr, // 2,2\n      this.z, // 2,3\n      0,\n      0,\n      0,\n      1\n    );\n  }\n\n  getTransformationMatrixFromPose(pose: Pose): Matrix4 {\n    return new Matrix4()\n      .multiplyRight(this.getTransformationMatrix())\n      .multiplyRight(pose.getTransformationMatrix().invert());\n  }\n\n  getTransformationMatrixToPose(pose: Pose): Matrix4 {\n    return new Matrix4()\n      .multiplyRight(pose.getTransformationMatrix())\n      .multiplyRight(this.getTransformationMatrix().invert());\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}