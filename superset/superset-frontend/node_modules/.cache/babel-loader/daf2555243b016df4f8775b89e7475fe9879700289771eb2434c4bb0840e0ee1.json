{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport default function reactify(renderFn, callbacks) {\n  class ReactifiedComponent extends React.Component {\n\n    constructor(props) {\n      super(props);this.container = void 0;\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n    componentDidMount() {\n      this.execute();\n    }\n    componentDidUpdate() {\n      this.execute();\n    }\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks != null && callbacks.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n    setContainerRef(ref) {\n      this.container = ref;\n    }\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n    render() {\n      const { id, className } = this.props;\n      return ___EmotionJSX(\"div\", { ref: this.setContainerRef, id: id, className: className });\n    } // @ts-ignore\n    __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n      this[key] = eval(code);}}const ReactifiedClass = ReactifiedComponent;\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n  return ReactifiedComponent;\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(reactify, \"reactify\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/chart/components/reactify.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","jsx","___EmotionJSX","reactify","renderFn","callbacks","ReactifiedComponent","Component","constructor","props","container","setContainerRef","bind","componentDidMount","execute","componentDidUpdate","componentWillUnmount","undefined","ref","render","id","className","__reactstandin__regenerateByEval","key","code","eval","ReactifiedClass","displayName","propTypes","defaultProps","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/chart/components/reactify.tsx"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React from 'react';\n\n// TODO: Note that id and className can collide between Props and ReactifyProps\n// leading to (likely) unexpected behaviors. We should either require Props to not\n// contain an id/className, or not combine them (via intersection), instead preferring\n// wrapping (composition). As an example:\n// interface MyProps {\n//   id: number;\n// }\n// function myRender(container: HTMLDivElement, props: Readonly<MyProps>): void {\n//   props.id // unusable: id is string & number\n// }\n// new (reactify(myRender))({ id: 5 }); // error: id has to be string & number\n\nexport type ReactifyProps = {\n  id?: string;\n  className?: string;\n};\n\n// TODO: add more React lifecycle callbacks as needed\nexport type LifeCycleCallbacks = {\n  componentWillUnmount?: () => void;\n};\n\nexport interface RenderFuncType<Props> {\n  (container: HTMLDivElement, props: Readonly<Props & ReactifyProps>): void;\n  displayName?: string;\n  defaultProps?: Partial<Props & ReactifyProps>;\n  propTypes?: React.WeakValidationMap<Props & ReactifyProps>;\n}\n\nexport default function reactify<Props extends object>(\n  renderFn: RenderFuncType<Props>,\n  callbacks?: LifeCycleCallbacks,\n): React.ComponentClass<Props & ReactifyProps> {\n  class ReactifiedComponent extends React.Component<Props & ReactifyProps> {\n    container?: HTMLDivElement;\n\n    constructor(props: Props & ReactifyProps) {\n      super(props);\n      this.setContainerRef = this.setContainerRef.bind(this);\n    }\n\n    componentDidMount() {\n      this.execute();\n    }\n\n    componentDidUpdate() {\n      this.execute();\n    }\n\n    componentWillUnmount() {\n      this.container = undefined;\n      if (callbacks?.componentWillUnmount) {\n        callbacks.componentWillUnmount.bind(this)();\n      }\n    }\n\n    setContainerRef(ref: HTMLDivElement) {\n      this.container = ref;\n    }\n\n    execute() {\n      if (this.container) {\n        renderFn(this.container, this.props);\n      }\n    }\n\n    render() {\n      const { id, className } = this.props;\n\n      return <div ref={this.setContainerRef} id={id} className={className} />;\n    }\n  }\n\n  const ReactifiedClass: React.ComponentClass<Props & ReactifyProps> =\n    ReactifiedComponent;\n\n  if (renderFn.displayName) {\n    ReactifiedClass.displayName = renderFn.displayName;\n  }\n  // eslint-disable-next-line react/forbid-foreign-prop-types\n  if (renderFn.propTypes) {\n    ReactifiedClass.propTypes = {\n      ...ReactifiedClass.propTypes,\n      ...renderFn.propTypes,\n    };\n  }\n  if (renderFn.defaultProps) {\n    ReactifiedClass.defaultProps = renderFn.defaultProps;\n  }\n\n  return ReactifiedComponent;\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,OAAOA,KAAK,MAAM,OAAO,CAAC,SAAAC,GAAA,IAAAC,aAAA;AA+B1B,eAAc,SAAUC,QAAQA,CAC9BC,QAA+B,EAC/BC,SAA8B;EAE9B,MAAMC,mBAAoB,SAAQN,KAAK,CAACO,SAAgC;;IAGtEC,YAAYC,KAA4B;MACtC,KAAK,CAACA,KAAK,CAAC,CAAC,KAHfC,SAAS;MAIP,IAAI,CAACC,eAAe,GAAG,IAAI,CAACA,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC;IACxD;IAEAC,iBAAiBA,CAAA;MACf,IAAI,CAACC,OAAO,EAAE;IAChB;IAEAC,kBAAkBA,CAAA;MAChB,IAAI,CAACD,OAAO,EAAE;IAChB;IAEAE,oBAAoBA,CAAA;MAClB,IAAI,CAACN,SAAS,GAAGO,SAAS;MAC1B,IAAIZ,SAAS,YAATA,SAAS,CAAEW,oBAAoB,EAAE;QACnCX,SAAS,CAACW,oBAAoB,CAACJ,IAAI,CAAC,IAAI,CAAC,EAAE;;IAE/C;IAEAD,eAAeA,CAACO,GAAmB;MACjC,IAAI,CAACR,SAAS,GAAGQ,GAAG;IACtB;IAEAJ,OAAOA,CAAA;MACL,IAAI,IAAI,CAACJ,SAAS,EAAE;QAClBN,QAAQ,CAAC,IAAI,CAACM,SAAS,EAAE,IAAI,CAACD,KAAK,CAAC;;IAExC;IAEAU,MAAMA,CAAA;MACJ,MAAM,EAAEC,EAAE,EAAEC,SAAS,EAAE,GAAG,IAAI,CAACZ,KAAK;MAEpC,OAAOP,aAAA,UAAKgB,GAAG,EAAE,IAAI,CAACP,eAAgB,EAACS,EAAE,EAAEA,EAAG,EAACC,SAAS,EAAEA,SAAU,GAAG;IACzE,CAAC;IAAAC,iCAAAC,GAAA,EAAAC,IAAA;MAAA,KAAAD,GAAA,IAAAE,IAAA,CAAAD,IAAA,G,CAGH,MAAME,eAAe,GACnBpB,mBAAmB;EAErB,IAAIF,QAAQ,CAACuB,WAAW,EAAE;IACxBD,eAAe,CAACC,WAAW,GAAGvB,QAAQ,CAACuB,WAAW;;EAEpD;EACA,IAAIvB,QAAQ,CAACwB,SAAS,EAAE;IACtBF,eAAe,CAACE,SAAS,GAAG;MAC1B,GAAGF,eAAe,CAACE,SAAS;MAC5B,GAAGxB,QAAQ,CAACwB;KACb;;EAEH,IAAIxB,QAAQ,CAACyB,YAAY,EAAE;IACzBH,eAAe,CAACG,YAAY,GAAGzB,QAAQ,CAACyB,YAAY;;EAGtD,OAAOvB,mBAAmB;AAC5B,CAAC,mBAAAwB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAf,SAAA,MAAAa,cAAA,WAAAA,cAAA,CAAAG,QAAA,CA9DuB9B,QAAQ,4JAAA+B,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAjB,SAAA,CAAAiB,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}