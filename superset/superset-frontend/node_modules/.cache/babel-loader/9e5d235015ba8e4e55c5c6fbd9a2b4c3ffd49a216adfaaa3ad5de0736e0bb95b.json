{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport Registry from './Registry';\nexport default class RegistryWithDefaultKey extends Registry {\n\n\n\n  constructor(config = {}) {\n    super(config);this.initialDefaultKey = void 0;this.defaultKey = void 0;this.setFirstItemAsDefault = void 0;\n    const { initialDefaultKey = undefined, setFirstItemAsDefault = false } = config;\n    this.initialDefaultKey = initialDefaultKey;\n    this.defaultKey = initialDefaultKey;\n    this.setFirstItemAsDefault = setFirstItemAsDefault;\n  }\n  clear() {\n    super.clear();\n    this.defaultKey = this.initialDefaultKey;\n    return this;\n  }\n  get(key) {\n    const targetKey = key != null ? key : this.defaultKey;\n    return targetKey ? super.get(targetKey) : undefined;\n  }\n  registerValue(key, value) {\n    super.registerValue(key, value);\n    // If there is no default, set as default\n    if (this.setFirstItemAsDefault && !this.defaultKey) {\n      this.defaultKey = key;\n    }\n    return this;\n  }\n  registerLoader(key, loader) {\n    super.registerLoader(key, loader);\n    // If there is no default, set as default\n    if (this.setFirstItemAsDefault && !this.defaultKey) {\n      this.defaultKey = key;\n    }\n    return this;\n  }\n  getDefaultKey() {\n    return this.defaultKey;\n  }\n  setDefaultKey(key) {\n    this.defaultKey = key;\n    return this;\n  }\n  clearDefaultKey() {\n    this.defaultKey = undefined;\n    return this;\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(RegistryWithDefaultKey, \"RegistryWithDefaultKey\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/models/RegistryWithDefaultKey.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["Registry","RegistryWithDefaultKey","constructor","config","initialDefaultKey","defaultKey","setFirstItemAsDefault","undefined","clear","get","key","targetKey","registerValue","value","registerLoader","loader","getDefaultKey","setDefaultKey","clearDefaultKey","__reactstandin__regenerateByEval","code","eval","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/models/RegistryWithDefaultKey.ts"],"sourcesContent":["/*\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport Registry, { RegistryConfig } from './Registry';\n\ninterface RegistryWithDefaultKeyConfig extends RegistryConfig {\n  initialDefaultKey?: string;\n  setFirstItemAsDefault?: boolean;\n}\n\nexport default class RegistryWithDefaultKey<\n  V,\n  W extends V | Promise<V> = V | Promise<V>,\n> extends Registry<V, W> {\n  initialDefaultKey?: string;\n\n  defaultKey?: string;\n\n  setFirstItemAsDefault: boolean;\n\n  constructor(config: RegistryWithDefaultKeyConfig = {}) {\n    super(config);\n    const { initialDefaultKey = undefined, setFirstItemAsDefault = false } =\n      config;\n    this.initialDefaultKey = initialDefaultKey;\n    this.defaultKey = initialDefaultKey;\n    this.setFirstItemAsDefault = setFirstItemAsDefault;\n  }\n\n  clear() {\n    super.clear();\n    this.defaultKey = this.initialDefaultKey;\n\n    return this;\n  }\n\n  get(key?: string) {\n    const targetKey = key ?? this.defaultKey;\n\n    return targetKey ? super.get(targetKey) : undefined;\n  }\n\n  registerValue(key: string, value: V) {\n    super.registerValue(key, value);\n    // If there is no default, set as default\n    if (this.setFirstItemAsDefault && !this.defaultKey) {\n      this.defaultKey = key;\n    }\n\n    return this;\n  }\n\n  registerLoader(key: string, loader: () => W) {\n    super.registerLoader(key, loader);\n    // If there is no default, set as default\n    if (this.setFirstItemAsDefault && !this.defaultKey) {\n      this.defaultKey = key;\n    }\n\n    return this;\n  }\n\n  getDefaultKey() {\n    return this.defaultKey;\n  }\n\n  setDefaultKey(key: string) {\n    this.defaultKey = key;\n\n    return this;\n  }\n\n  clearDefaultKey() {\n    this.defaultKey = undefined;\n\n    return this;\n  }\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,OAAOA,QAA4B,MAAM,YAAY;AAOrD,eAAc,MAAOC,sBAGnB,SAAQD,QAAc;;;;EAOtBE,YAAYC,MAAA,GAAuC,EAAE;IACnD,KAAK,CAACA,MAAM,CAAC,CAAC,KAPhBC,iBAAiB,eAEjBC,UAAU,eAEVC,qBAAqB;IAInB,MAAM,EAAEF,iBAAiB,GAAGG,SAAS,EAAED,qBAAqB,GAAG,KAAK,EAAE,GACpEH,MAAM;IACR,IAAI,CAACC,iBAAiB,GAAGA,iBAAiB;IAC1C,IAAI,CAACC,UAAU,GAAGD,iBAAiB;IACnC,IAAI,CAACE,qBAAqB,GAAGA,qBAAqB;EACpD;EAEAE,KAAKA,CAAA;IACH,KAAK,CAACA,KAAK,EAAE;IACb,IAAI,CAACH,UAAU,GAAG,IAAI,CAACD,iBAAiB;IAExC,OAAO,IAAI;EACb;EAEAK,GAAGA,CAACC,GAAY;IACd,MAAMC,SAAS,GAAGD,GAAG,WAAHA,GAAG,GAAI,IAAI,CAACL,UAAU;IAExC,OAAOM,SAAS,GAAG,KAAK,CAACF,GAAG,CAACE,SAAS,CAAC,GAAGJ,SAAS;EACrD;EAEAK,aAAaA,CAACF,GAAW,EAAEG,KAAQ;IACjC,KAAK,CAACD,aAAa,CAACF,GAAG,EAAEG,KAAK,CAAC;IAC/B;IACA,IAAI,IAAI,CAACP,qBAAqB,IAAI,CAAC,IAAI,CAACD,UAAU,EAAE;MAClD,IAAI,CAACA,UAAU,GAAGK,GAAG;;IAGvB,OAAO,IAAI;EACb;EAEAI,cAAcA,CAACJ,GAAW,EAAEK,MAAe;IACzC,KAAK,CAACD,cAAc,CAACJ,GAAG,EAAEK,MAAM,CAAC;IACjC;IACA,IAAI,IAAI,CAACT,qBAAqB,IAAI,CAAC,IAAI,CAACD,UAAU,EAAE;MAClD,IAAI,CAACA,UAAU,GAAGK,GAAG;;IAGvB,OAAO,IAAI;EACb;EAEAM,aAAaA,CAAA;IACX,OAAO,IAAI,CAACX,UAAU;EACxB;EAEAY,aAAaA,CAACP,GAAW;IACvB,IAAI,CAACL,UAAU,GAAGK,GAAG;IAErB,OAAO,IAAI;EACb;EAEAQ,eAAeA,CAAA;IACb,IAAI,CAACb,UAAU,GAAGE,SAAS;IAE3B,OAAO,IAAI;EACb,CAAC;EAAAY,iCAAAT,GAAA,EAAAU,IAAA;IAAA,KAAAV,GAAA,IAAAW,IAAA,CAAAD,IAAA,G,CACF,mBAAAE,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAjB,SAAA,MAAAe,cAAA,WAAAA,cAAA,CAAAG,QAAA,CAnEoBxB,sBAGnB,6KAAAyB,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAnB,SAAA,CAAAmB,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}