{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { ensureIsArray, isAdhocColumn, isPhysicalColumn, t, validateNonEmpty } from '@superset-ui/core';\nimport { D3_FORMAT_DOCS, D3_NUMBER_FORMAT_DESCRIPTION_VALUES_TEXT, D3_FORMAT_OPTIONS, D3_TIME_FORMAT_OPTIONS, sections, getStandardizedControls, getTemporalColumns, sharedControls } from '@superset-ui/chart-controls';\nconst config = {\n  controlPanelSections: [\n  {\n    label: t('Query'),\n    expanded: true,\n    controlSetRows: [\n    ['columns'],\n    [\n    {\n      name: 'time_grain_sqla',\n      config: {\n        ...sharedControls.time_grain_sqla,\n        visibility: ({ controls }) => {var _controls$columns;\n          const dttmLookup = Object.fromEntries(ensureIsArray(controls == null ? void 0 : (_controls$columns = controls.columns) == null ? void 0 : _controls$columns.options).map((option) => [\n          option.column_name,\n          option.is_dttm]\n          ));\n          return ensureIsArray(controls == null ? void 0 : controls.columns.value).\n          map((selection) => {\n            if (isAdhocColumn(selection)) {\n              return true;\n            }\n            if (isPhysicalColumn(selection)) {\n              return !!dttmLookup[selection];\n            }\n            return false;\n          }).\n          some(Boolean);\n        }\n      }\n    },\n    'temporal_columns_lookup'],\n\n    ['groupby'],\n    ['metrics'],\n    ['adhoc_filters'],\n    ['series_limit'],\n    ['series_limit_metric'],\n    [\n    {\n      name: 'whiskerOptions',\n      config: {\n        clearable: false,\n        type: 'SelectControl',\n        freeForm: true,\n        label: t('Whisker/outlier options'),\n        default: 'Tukey',\n        description: t('Determines how whiskers and outliers are calculated.'),\n        choices: [\n        ['Tukey', t('Tukey')],\n        ['Min/max (no outliers)', t('Min/max (no outliers)')],\n        ['2/98 percentiles', t('2/98 percentiles')],\n        ['9/91 percentiles', t('9/91 percentiles')]]\n\n      }\n    }]]\n\n\n  },\n  sections.titleControls,\n  {\n    label: t('Chart Options'),\n    expanded: true,\n    controlSetRows: [\n    ['color_scheme'],\n    [\n    {\n      name: 'x_ticks_layout',\n      config: {\n        type: 'SelectControl',\n        label: t('X Tick Layout'),\n        choices: [\n        ['auto', t('auto')],\n        ['flat', t('flat')],\n        ['45°', '45°'],\n        ['90°', '90°'],\n        ['staggered', t('staggered')]],\n\n        default: 'auto',\n        clearable: false,\n        renderTrigger: true,\n        description: t('The way the ticks are laid out on the X-axis')\n      }\n    }],\n\n    [\n    {\n      name: 'number_format',\n      config: {\n        type: 'SelectControl',\n        freeForm: true,\n        label: t('Number format'),\n        renderTrigger: true,\n        default: 'SMART_NUMBER',\n        choices: D3_FORMAT_OPTIONS,\n        description: `${D3_FORMAT_DOCS} ${D3_NUMBER_FORMAT_DESCRIPTION_VALUES_TEXT}`\n      }\n    }],\n\n    [\n    {\n      name: 'date_format',\n      config: {\n        type: 'SelectControl',\n        freeForm: true,\n        label: t('Date format'),\n        renderTrigger: true,\n        choices: D3_TIME_FORMAT_OPTIONS,\n        default: 'smart_date',\n        description: D3_FORMAT_DOCS\n      }\n    }]]\n\n\n  }],\n\n  controlOverrides: {\n    groupby: {\n      label: t('Dimensions'),\n      description: t('Categories to group by on the x-axis.')\n    },\n    columns: {\n      label: t('Distribute across'),\n      multi: true,\n      description: t('Columns to calculate distribution across.'),\n      initialValue: (control, state) => {\n        if (state && (\n        !(control != null && control.value) ||\n        Array.isArray(control == null ? void 0 : control.value) && control.value.length === 0)) {\n          return [getTemporalColumns(state.datasource).defaultTemporalColumn];\n        }\n        return control.value;\n      },\n      validators: [validateNonEmpty]\n    }\n  },\n  formDataOverrides: (formData) => {\n    const groupby = getStandardizedControls().controls.columns.filter((col) => !ensureIsArray(formData.columns).includes(col));\n    getStandardizedControls().controls.columns =\n    getStandardizedControls().controls.columns.filter((col) => !groupby.includes(col));\n    return {\n      ...formData,\n      metrics: getStandardizedControls().popAllMetrics(),\n      groupby\n    };\n  }\n};const _default =\nconfig;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(config, \"config\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BoxPlot/controlPanel.ts\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BoxPlot/controlPanel.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["ensureIsArray","isAdhocColumn","isPhysicalColumn","t","validateNonEmpty","D3_FORMAT_DOCS","D3_NUMBER_FORMAT_DESCRIPTION_VALUES_TEXT","D3_FORMAT_OPTIONS","D3_TIME_FORMAT_OPTIONS","sections","getStandardizedControls","getTemporalColumns","sharedControls","config","controlPanelSections","label","expanded","controlSetRows","name","time_grain_sqla","visibility","controls","_controls$columns","dttmLookup","Object","fromEntries","columns","options","map","option","column_name","is_dttm","value","selection","some","Boolean","clearable","type","freeForm","default","description","choices","titleControls","renderTrigger","controlOverrides","groupby","multi","initialValue","control","state","Array","isArray","length","datasource","defaultTemporalColumn","validators","formDataOverrides","formData","filter","col","includes","metrics","popAllMetrics","_default","reactHotLoader","reactHotLoaderGlobal","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/plugins/plugin-chart-echarts/src/BoxPlot/controlPanel.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport {\n  ensureIsArray,\n  isAdhocColumn,\n  isPhysicalColumn,\n  t,\n  validateNonEmpty,\n} from '@superset-ui/core';\nimport {\n  D3_FORMAT_DOCS,\n  D3_NUMBER_FORMAT_DESCRIPTION_VALUES_TEXT,\n  D3_FORMAT_OPTIONS,\n  D3_TIME_FORMAT_OPTIONS,\n  sections,\n  ControlPanelConfig,\n  getStandardizedControls,\n  ControlState,\n  ControlPanelState,\n  getTemporalColumns,\n  sharedControls,\n} from '@superset-ui/chart-controls';\n\nconst config: ControlPanelConfig = {\n  controlPanelSections: [\n    {\n      label: t('Query'),\n      expanded: true,\n      controlSetRows: [\n        ['columns'],\n        [\n          {\n            name: 'time_grain_sqla',\n            config: {\n              ...sharedControls.time_grain_sqla,\n              visibility: ({ controls }) => {\n                const dttmLookup = Object.fromEntries(\n                  ensureIsArray(controls?.columns?.options).map(option => [\n                    option.column_name,\n                    option.is_dttm,\n                  ]),\n                );\n\n                return ensureIsArray(controls?.columns.value)\n                  .map(selection => {\n                    if (isAdhocColumn(selection)) {\n                      return true;\n                    }\n                    if (isPhysicalColumn(selection)) {\n                      return !!dttmLookup[selection];\n                    }\n                    return false;\n                  })\n                  .some(Boolean);\n              },\n            },\n          },\n          'temporal_columns_lookup',\n        ],\n        ['groupby'],\n        ['metrics'],\n        ['adhoc_filters'],\n        ['series_limit'],\n        ['series_limit_metric'],\n        [\n          {\n            name: 'whiskerOptions',\n            config: {\n              clearable: false,\n              type: 'SelectControl',\n              freeForm: true,\n              label: t('Whisker/outlier options'),\n              default: 'Tukey',\n              description: t(\n                'Determines how whiskers and outliers are calculated.',\n              ),\n              choices: [\n                ['Tukey', t('Tukey')],\n                ['Min/max (no outliers)', t('Min/max (no outliers)')],\n                ['2/98 percentiles', t('2/98 percentiles')],\n                ['9/91 percentiles', t('9/91 percentiles')],\n              ],\n            },\n          },\n        ],\n      ],\n    },\n    sections.titleControls,\n    {\n      label: t('Chart Options'),\n      expanded: true,\n      controlSetRows: [\n        ['color_scheme'],\n        [\n          {\n            name: 'x_ticks_layout',\n            config: {\n              type: 'SelectControl',\n              label: t('X Tick Layout'),\n              choices: [\n                ['auto', t('auto')],\n                ['flat', t('flat')],\n                ['45°', '45°'],\n                ['90°', '90°'],\n                ['staggered', t('staggered')],\n              ],\n              default: 'auto',\n              clearable: false,\n              renderTrigger: true,\n              description: t('The way the ticks are laid out on the X-axis'),\n            },\n          },\n        ],\n        [\n          {\n            name: 'number_format',\n            config: {\n              type: 'SelectControl',\n              freeForm: true,\n              label: t('Number format'),\n              renderTrigger: true,\n              default: 'SMART_NUMBER',\n              choices: D3_FORMAT_OPTIONS,\n              description: `${D3_FORMAT_DOCS} ${D3_NUMBER_FORMAT_DESCRIPTION_VALUES_TEXT}`,\n            },\n          },\n        ],\n        [\n          {\n            name: 'date_format',\n            config: {\n              type: 'SelectControl',\n              freeForm: true,\n              label: t('Date format'),\n              renderTrigger: true,\n              choices: D3_TIME_FORMAT_OPTIONS,\n              default: 'smart_date',\n              description: D3_FORMAT_DOCS,\n            },\n          },\n        ],\n      ],\n    },\n  ],\n  controlOverrides: {\n    groupby: {\n      label: t('Dimensions'),\n      description: t('Categories to group by on the x-axis.'),\n    },\n    columns: {\n      label: t('Distribute across'),\n      multi: true,\n      description: t('Columns to calculate distribution across.'),\n      initialValue: (\n        control: ControlState,\n        state: ControlPanelState | null,\n      ) => {\n        if (\n          state &&\n          (!control?.value ||\n            (Array.isArray(control?.value) && control.value.length === 0))\n        ) {\n          return [getTemporalColumns(state.datasource).defaultTemporalColumn];\n        }\n        return control.value;\n      },\n      validators: [validateNonEmpty],\n    },\n  },\n  formDataOverrides: formData => {\n    const groupby = getStandardizedControls().controls.columns.filter(\n      col => !ensureIsArray(formData.columns).includes(col),\n    );\n    getStandardizedControls().controls.columns =\n      getStandardizedControls().controls.columns.filter(\n        col => !groupby.includes(col),\n      );\n\n    return {\n      ...formData,\n      metrics: getStandardizedControls().popAllMetrics(),\n      groupby,\n    };\n  },\n};\nexport default config;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}