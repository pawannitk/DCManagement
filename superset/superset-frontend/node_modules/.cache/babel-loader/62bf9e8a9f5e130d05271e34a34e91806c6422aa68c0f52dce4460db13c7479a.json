{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};const BASE32_CODES = '0123456789bcdefghjkmnpqrstuvwxyz';\nconst BASE32_CODES_DICT = {};\n\nfor (let i = 0; i < BASE32_CODES.length; i++) {\n  BASE32_CODES_DICT[BASE32_CODES.charAt(i)] = i;\n}\n\nconst MIN_LAT = -90;\nconst MAX_LAT = 90;\nconst MIN_LON = -180;\nconst MAX_LON = 180;\nexport function getGeohashBounds(geohash) {\n  let isLon = true;\n  let maxLat = MAX_LAT;\n  let minLat = MIN_LAT;\n  let maxLon = MAX_LON;\n  let minLon = MIN_LON;\n  let mid;\n  let hashValue = 0;\n\n  for (let i = 0, l = geohash.length; i < l; i++) {\n    const code = geohash[i].toLowerCase();\n    hashValue = BASE32_CODES_DICT[code];\n\n    for (let bits = 4; bits >= 0; bits--) {\n      const bit = hashValue >> bits & 1;\n\n      if (isLon) {\n        mid = (maxLon + minLon) / 2;\n\n        if (bit === 1) {\n          minLon = mid;\n        } else {\n          maxLon = mid;\n        }\n      } else {\n        mid = (maxLat + minLat) / 2;\n\n        if (bit === 1) {\n          minLat = mid;\n        } else {\n          maxLat = mid;\n        }\n      }\n\n      isLon = !isLon;\n    }\n  }\n\n  return [minLat, minLon, maxLat, maxLon];\n}\nexport function getGeohashPolygon(geohash) {\n  const [s, w, n, e] = getGeohashBounds(geohash);\n  return [e, n, e, s, w, s, w, n, e, n];\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(BASE32_CODES, \"BASE32_CODES\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");reactHotLoader.register(BASE32_CODES_DICT, \"BASE32_CODES_DICT\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");reactHotLoader.register(MIN_LAT, \"MIN_LAT\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");reactHotLoader.register(MAX_LAT, \"MAX_LAT\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");reactHotLoader.register(MIN_LON, \"MIN_LON\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");reactHotLoader.register(MAX_LON, \"MAX_LON\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");reactHotLoader.register(getGeohashBounds, \"getGeohashBounds\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");reactHotLoader.register(getGeohashPolygon, \"getGeohashPolygon\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/geo-layers/dist/esm/geohash-layer/geohash-utils.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["BASE32_CODES","BASE32_CODES_DICT","i","length","charAt","MIN_LAT","MAX_LAT","MIN_LON","MAX_LON","getGeohashBounds","geohash","isLon","maxLat","minLat","maxLon","minLon","mid","hashValue","l","code","toLowerCase","bits","bit","getGeohashPolygon","s","w","n","e","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["../../../src/geohash-layer/geohash-utils.ts"],"sourcesContent":["const BASE32_CODES = '0123456789bcdefghjkmnpqrstuvwxyz';\nconst BASE32_CODES_DICT = {};\nfor (let i = 0; i < BASE32_CODES.length; i++) {\n  BASE32_CODES_DICT[BASE32_CODES.charAt(i)] = i;\n}\n\nconst MIN_LAT = -90;\nconst MAX_LAT = 90;\nconst MIN_LON = -180;\nconst MAX_LON = 180;\n\n// Adapted from ngeohash decode_bbox\nexport function getGeohashBounds(geohash: string): number[] {\n  let isLon = true;\n  let maxLat = MAX_LAT;\n  let minLat = MIN_LAT;\n  let maxLon = MAX_LON;\n  let minLon = MIN_LON;\n  let mid: number;\n\n  let hashValue = 0;\n  for (let i = 0, l = geohash.length; i < l; i++) {\n    const code = geohash[i].toLowerCase();\n    hashValue = BASE32_CODES_DICT[code];\n\n    for (let bits = 4; bits >= 0; bits--) {\n      const bit = (hashValue >> bits) & 1;\n      if (isLon) {\n        mid = (maxLon + minLon) / 2;\n        if (bit === 1) {\n          minLon = mid;\n        } else {\n          maxLon = mid;\n        }\n      } else {\n        mid = (maxLat + minLat) / 2;\n        if (bit === 1) {\n          minLat = mid;\n        } else {\n          maxLat = mid;\n        }\n      }\n      isLon = !isLon;\n    }\n  }\n\n  return [minLat, minLon, maxLat, maxLon];\n}\n\nexport function getGeohashPolygon(geohash: string): number[] {\n  const [s, w, n, e] = getGeohashBounds(geohash);\n\n  return [e, n, e, s, w, s, w, n, e, n];\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}