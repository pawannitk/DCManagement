{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport rison from 'rison';\nimport { createApi } from '@reduxjs/toolkit/query/react';\nimport { getClientErrorObject, SupersetClient } from '@superset-ui/core';\nexport const supersetClientQuery = ({ endpoint, urlParams, transformResponse, method = 'GET', parseMethod = 'json', ...rest }, api) => SupersetClient.request({\n  ...rest,\n  endpoint: `${endpoint}${urlParams ? `?q=${rison.encode(urlParams)}` : ''}`,\n  method,\n  parseMethod,\n  signal: api.signal\n}).\nthen((data) => {var _transformResponse;return {\n    data: (_transformResponse = transformResponse == null ? void 0 : transformResponse(data)) != null ? _transformResponse : data\n  };}).\ncatch((response) => getClientErrorObject(response).then((errorObj) => ({\n  error: {\n    error: (errorObj == null ? void 0 : errorObj.message) || (errorObj == null ? void 0 : errorObj.error) || response.statusText,\n    status: response.status\n  }\n})));\nexport const api = createApi({\n  reducerPath: 'queryApi',\n  tagTypes: [\n  'Catalogs',\n  'Schemas',\n  'Tables',\n  'DatabaseFunctions',\n  'QueryValidations',\n  'TableMetadatas',\n  'SqlLabInitialState',\n  'EditorQueries'],\n\n  endpoints: () => ({}),\n  baseQuery: supersetClientQuery\n});;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(supersetClientQuery, \"supersetClientQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/hooks/apiResources/queryApi.ts\");reactHotLoader.register(api, \"api\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/hooks/apiResources/queryApi.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["rison","createApi","getClientErrorObject","SupersetClient","supersetClientQuery","endpoint","urlParams","transformResponse","method","parseMethod","rest","api","request","encode","signal","then","data","_transformResponse","catch","response","errorObj","error","message","statusText","status","reducerPath","tagTypes","endpoints","baseQuery","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/hooks/apiResources/queryApi.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport rison from 'rison';\nimport { createApi, BaseQueryFn } from '@reduxjs/toolkit/query/react';\nimport {\n  ClientErrorObject,\n  getClientErrorObject,\n  SupersetClient,\n  ParseMethod,\n  SupersetClientResponse,\n  JsonValue,\n  RequestBase,\n} from '@superset-ui/core';\n\nexport type { JsonResponse, TextResponse } from '@superset-ui/core';\n\nexport const supersetClientQuery: BaseQueryFn<\n  Pick<RequestBase, 'method' | 'body' | 'jsonPayload' | 'postPayload'> & {\n    endpoint: string;\n    parseMethod?: ParseMethod;\n    transformResponse?: (response: SupersetClientResponse) => JsonValue;\n    urlParams?: Record<string, number | string | undefined | boolean | object>;\n  },\n  JsonValue,\n  ClientErrorObject\n> = (\n  {\n    endpoint,\n    urlParams,\n    transformResponse,\n    method = 'GET',\n    parseMethod = 'json',\n    ...rest\n  },\n  api,\n) =>\n  SupersetClient.request({\n    ...rest,\n    endpoint: `${endpoint}${urlParams ? `?q=${rison.encode(urlParams)}` : ''}`,\n    method,\n    parseMethod,\n    signal: api.signal,\n  })\n    .then(data => ({\n      data: transformResponse?.(data) ?? data,\n    }))\n    .catch(response =>\n      getClientErrorObject(response).then(errorObj => ({\n        error: {\n          error: errorObj?.message || errorObj?.error || response.statusText,\n          status: response.status,\n        },\n      })),\n    );\n\nexport const api = createApi({\n  reducerPath: 'queryApi',\n  tagTypes: [\n    'Catalogs',\n    'Schemas',\n    'Tables',\n    'DatabaseFunctions',\n    'QueryValidations',\n    'TableMetadatas',\n    'SqlLabInitialState',\n    'EditorQueries',\n  ],\n  endpoints: () => ({}),\n  baseQuery: supersetClientQuery,\n});\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,QAAqB,8BAA8B;AACrE,SAEEC,oBAAoB,EACpBC,cAAc,QAKT,mBAAmB;AAI1B,OAAO,MAAMC,mBAAmB,GAS5BA,CACF,EACEC,QAAQ,EACRC,SAAS,EACTC,iBAAiB,EACjBC,MAAM,GAAG,KAAK,EACdC,WAAW,GAAG,MAAM,EACpB,GAAGC,IAAI,EACR,EACDC,GAAG,KAEHR,cAAc,CAACS,OAAO,CAAC;EACrB,GAAGF,IAAI;EACPL,QAAQ,EAAE,GAAGA,QAAQ,GAAGC,SAAS,GAAG,MAAMN,KAAK,CAACa,MAAM,CAACP,SAAS,CAAC,EAAE,GAAG,EAAE,EAAE;EAC1EE,MAAM;EACNC,WAAW;EACXK,MAAM,EAAEH,GAAG,CAACG;CACb,CAAC;AACCC,IAAI,CAAC,CAAAC,IAAI,UAAAC,kBAAA,QAAK;IACbD,IAAI,GAAAC,kBAAA,GAAEV,iBAAiB,oBAAjBA,iBAAiB,CAAGS,IAAI,CAAC,YAAAC,kBAAA,GAAID;GACpC,EAAC,CAAC;AACFE,KAAK,CAAC,CAAAC,QAAQ,KACbjB,oBAAoB,CAACiB,QAAQ,CAAC,CAACJ,IAAI,CAAC,CAAAK,QAAQ,MAAK;EAC/CC,KAAK,EAAE;IACLA,KAAK,EAAE,CAAAD,QAAQ,oBAARA,QAAQ,CAAEE,OAAO,MAAIF,QAAQ,oBAARA,QAAQ,CAAEC,KAAK,KAAIF,QAAQ,CAACI,UAAU;IAClEC,MAAM,EAAEL,QAAQ,CAACK;;CAEpB,CAAC,CAAC,CACJ;AAEL,OAAO,MAAMb,GAAG,GAAGV,SAAS,CAAC;EAC3BwB,WAAW,EAAE,UAAU;EACvBC,QAAQ,EAAE;EACR,UAAU;EACV,SAAS;EACT,QAAQ;EACR,mBAAmB;EACnB,kBAAkB;EAClB,gBAAgB;EAChB,oBAAoB;EACpB,eAAe,CAChB;;EACDC,SAAS,EAAEA,CAAA,MAAO,EAAE,CAAC;EACrBC,SAAS,EAAExB;CACZ,CAAC,CAAC,mBAAAyB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CArDU7B,mBAAmB,sHAAAyB,cAAA,CAAAI,QAAA,CAuCnBtB,GAAG,8HAAAuB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}