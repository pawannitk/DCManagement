{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};export async function waitForGLTFAssets(gltfObjects) {\n  const remaining = [];\n  gltfObjects.scenes.forEach((scene) => {\n    scene.traverse((model) => {\n      Object.values(model.model.getUniforms()).forEach((uniform) => {\n        if (uniform.loaded === false) {\n          remaining.push(uniform);\n        }\n      });\n    });\n  });\n  return await waitWhileCondition(() => remaining.some((uniform) => !uniform.loaded));\n}\n\nasync function waitWhileCondition(condition) {\n  while (condition()) {\n    await new Promise((resolve) => requestAnimationFrame(resolve));\n  }\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(waitForGLTFAssets, \"waitForGLTFAssets\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/mesh-layers/dist/esm/scenegraph-layer/gltf-utils.js\");reactHotLoader.register(waitWhileCondition, \"waitWhileCondition\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/mesh-layers/dist/esm/scenegraph-layer/gltf-utils.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["waitForGLTFAssets","gltfObjects","remaining","scenes","forEach","scene","traverse","model","Object","values","getUniforms","uniform","loaded","push","waitWhileCondition","some","condition","Promise","resolve","requestAnimationFrame","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["../../../src/scenegraph-layer/gltf-utils.ts"],"sourcesContent":["/* global requestAnimationFrame */\nimport type {GroupNode, ModelNode} from '@luma.gl/experimental';\n\nexport async function waitForGLTFAssets(gltfObjects: {scenes: GroupNode[]}): Promise<void> {\n  const remaining: any[] = [];\n\n  gltfObjects.scenes.forEach(scene => {\n    scene.traverse((model: ModelNode) => {\n      Object.values(model.model.getUniforms()).forEach((uniform: any) => {\n        if (uniform.loaded === false) {\n          remaining.push(uniform);\n        }\n      });\n    });\n  });\n\n  return await waitWhileCondition(() => remaining.some(uniform => !uniform.loaded));\n}\n\nasync function waitWhileCondition(condition: () => boolean): Promise<void> {\n  while (condition()) {\n    await new Promise(resolve => requestAnimationFrame(resolve));\n  }\n}\n"],"mappings":"uSAGA,OAAO,eAAeA,iBAAfA,CAAiCC,WAAjC,EAAoF;EACzF,MAAMC,SAAgB,GAAG,EAAzB;EAEAD,WAAW,CAACE,MAAZ,CAAmBC,OAAnB,CAA2B,CAAAC,KAAK,KAAI;IAClCA,KAAK,CAACC,QAAN,CAAgB,CAAAC,KAAD,KAAsB;MACnCC,MAAM,CAACC,MAAP,CAAcF,KAAK,CAACA,KAAN,CAAYG,WAAZ,EAAd,EAAyCN,OAAzC,CAAkD,CAAAO,OAAD,KAAkB;QACjE,IAAIA,OAAO,CAACC,MAAR,KAAmB,KAAvB,EAA8B;UAC5BV,SAAS,CAACW,IAAV,CAAeF,OAAf;QACD;MACF,CAJD;IAKD,CAND;EAOD,CARD;EAUA,OAAO,MAAMG,kBAAkB,CAAC,MAAMZ,SAAS,CAACa,IAAV,CAAe,CAAAJ,OAAO,KAAI,CAACA,OAAO,CAACC,MAAnC,CAAP,CAA/B;AACD;;AAED,eAAeE,kBAAfA,CAAkCE,SAAlC,EAA2E;EACzE,OAAOA,SAAS,EAAhB,EAAoB;IAClB,MAAM,IAAIC,OAAJ,CAAY,CAAAC,OAAO,KAAIC,qBAAqB,CAACD,OAAD,CAA5C,CAAN;EACD;AACF,oBAAAE,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CApBqBxB,iBAAf,8LAAAoB,cAAA,CAAAI,QAAA,CAgBQV,kBAAf,uNAAAW,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}