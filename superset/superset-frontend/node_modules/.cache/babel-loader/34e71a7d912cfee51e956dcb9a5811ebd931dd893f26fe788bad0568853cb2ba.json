{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useRef, useState } from 'react';\nexport function useElementOnScreen(options) {\n  const containerRef = useRef(null);\n  const [isSticky, setIsSticky] = useState(false);\n  const callback = (entries) => {\n    const [entry] = entries;\n    setIsSticky(entry.intersectionRatio < 1);\n  };\n  useEffect(() => {\n    const observer = new IntersectionObserver(callback, options);\n    const element = containerRef.current;\n    if (element) {\n      observer.observe(element);\n    }\n    return () => {\n      if (element) {\n        observer.unobserve(element);\n      }\n    };\n  }, [containerRef, options]);\n  return [containerRef, isSticky];\n}__signature__(useElementOnScreen, \"useRef{containerRef}\\nuseState{[isSticky, setIsSticky](false)}\\nuseEffect{}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(useElementOnScreen, \"useElementOnScreen\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/hooks/useElementOnScreen/useElementOnScreen.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useEffect","useRef","useState","useElementOnScreen","options","containerRef","isSticky","setIsSticky","callback","entries","entry","intersectionRatio","observer","IntersectionObserver","element","current","observe","unobserve","__signature__","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/hooks/useElementOnScreen/useElementOnScreen.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useEffect, useRef, useState, RefObject } from 'react';\n\nexport function useElementOnScreen<T extends Element>(\n  options: IntersectionObserverInit,\n): [RefObject<T>, boolean] {\n  const containerRef = useRef<T>(null);\n  const [isSticky, setIsSticky] = useState(false);\n\n  const callback = (entries: IntersectionObserverEntry[]) => {\n    const [entry] = entries;\n    setIsSticky(entry.intersectionRatio < 1);\n  };\n\n  useEffect(() => {\n    const observer = new IntersectionObserver(callback, options);\n    const element = containerRef.current;\n    if (element) {\n      observer.observe(element);\n    }\n    return () => {\n      if (element) {\n        observer.unobserve(element);\n      }\n    };\n  }, [containerRef, options]);\n\n  return [containerRef, isSticky];\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAmB,OAAO;AAE9D,OAAM,SAAUC,kBAAkBA,CAChCC,OAAiC;EAEjC,MAAMC,YAAY,GAAGJ,MAAM,CAAI,IAAI,CAAC;EACpC,MAAM,CAACK,QAAQ,EAAEC,WAAW,CAAC,GAAGL,QAAQ,CAAC,KAAK,CAAC;EAE/C,MAAMM,QAAQ,GAAGA,CAACC,OAAoC,KAAI;IACxD,MAAM,CAACC,KAAK,CAAC,GAAGD,OAAO;IACvBF,WAAW,CAACG,KAAK,CAACC,iBAAiB,GAAG,CAAC,CAAC;EAC1C,CAAC;EAEDX,SAAS,CAAC,MAAK;IACb,MAAMY,QAAQ,GAAG,IAAIC,oBAAoB,CAACL,QAAQ,EAAEJ,OAAO,CAAC;IAC5D,MAAMU,OAAO,GAAGT,YAAY,CAACU,OAAO;IACpC,IAAID,OAAO,EAAE;MACXF,QAAQ,CAACI,OAAO,CAACF,OAAO,CAAC;;IAE3B,OAAO,MAAK;MACV,IAAIA,OAAO,EAAE;QACXF,QAAQ,CAACK,SAAS,CAACH,OAAO,CAAC;;IAE/B,CAAC;EACH,CAAC,EAAE,CAACT,YAAY,EAAED,OAAO,CAAC,CAAC;EAE3B,OAAO,CAACC,YAAY,EAAEC,QAAQ,CAAC;AACjC,CAACY,aAAA,CAzBef,kBAAkB,oGAAAgB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAAlBpB,kBAAkB,uLAAAqB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}