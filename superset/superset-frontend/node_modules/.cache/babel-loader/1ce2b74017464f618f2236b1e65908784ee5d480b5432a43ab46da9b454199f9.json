{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport moment from 'moment';\nimport Card from 'src/components/Card';\nimport ProgressBar from 'src/components/ProgressBar';\nimport Label from 'src/components/Label';\nimport { t, useTheme } from '@superset-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { queryEditorSetSql, cloneQueryToNewTab, fetchQueryResults, clearQueryResults, removeQuery } from 'src/SqlLab/actions/sqlLab';\nimport TableView from 'src/components/TableView';\nimport Button from 'src/components/Button';\nimport { fDuration } from 'src/utils/dates';\nimport Icons from 'src/components/Icons';\nimport { Tooltip } from 'src/components/Tooltip';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport ResultSet from '../ResultSet';\nimport HighlightedSql from '../HighlightedSql';\nimport { StaticPosition, verticalAlign, StyledTooltip } from './styles';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst openQuery = (id) => {\n  const url = `/sqllab?queryId=${id}`;\n  window.open(url);\n};\nconst QueryTable = ({ columns = ['started', 'duration', 'rows'], queries = [], onUserClicked = () => undefined, onDbClicked = () => undefined, displayLimit, latestQueryId }) => {\n  const theme = useTheme();\n  const dispatch = useDispatch();\n  const QUERY_HISTORY_TABLE_HEADERS_LOCALIZED = {\n    state: t('State'),\n    started: t('Started'),\n    duration: t('Duration'),\n    progress: t('Progress'),\n    rows: t('Rows'),\n    sql: t('SQL'),\n    results: t('Results'),\n    actions: t('Actions')\n  };\n  const setHeaders = (column) => {\n    if (column === 'sql') {\n      return column.toUpperCase();\n    }\n    return column.charAt(0).toUpperCase().concat(column.slice(1));\n  };\n  const columnsOfTable = useMemo(() => columns.map((column) => ({\n    accessor: column,\n    Header: QUERY_HISTORY_TABLE_HEADERS_LOCALIZED[column] || setHeaders(column),\n    disableSortBy: true\n  })), [columns]);\n  const user = useSelector((state) => state.user);\n  const data = useMemo(() => {\n    const restoreSql = (query) => {\n      dispatch(queryEditorSetSql({ id: query.sqlEditorId }, query.sql, query.id));\n    };\n    const openQueryInNewTab = (query) => {\n      dispatch(cloneQueryToNewTab(query, true));\n    };\n    const openAsyncResults = (query, displayLimit) => {\n      dispatch(fetchQueryResults(query, displayLimit));\n    };\n    const statusAttributes = {\n      success: {\n        config: {\n          icon: ___EmotionJSX(Icons.Check, { iconColor: theme.colors.success.base }),\n          label: t('Success')\n        }\n      },\n      failed: {\n        config: {\n          icon: ___EmotionJSX(Icons.XSmall, { iconColor: theme.colors.error.base }),\n          label: t('Failed')\n        }\n      },\n      stopped: {\n        config: {\n          icon: ___EmotionJSX(Icons.XSmall, { iconColor: theme.colors.error.base }),\n          label: t('Failed')\n        }\n      },\n      running: {\n        config: {\n          icon: ___EmotionJSX(Icons.Running, { iconColor: theme.colors.primary.base }),\n          label: t('Running')\n        }\n      },\n      fetching: {\n        config: {\n          icon: ___EmotionJSX(Icons.Queued, { iconColor: theme.colors.primary.base }),\n          label: t('Fetching')\n        }\n      },\n      timed_out: {\n        config: {\n          icon: ___EmotionJSX(Icons.Offline, { iconColor: theme.colors.grayscale.light1 }),\n          label: t('Offline')\n        }\n      },\n      scheduled: {\n        config: {\n          icon: ___EmotionJSX(Icons.Queued, { iconColor: theme.colors.grayscale.base }),\n          label: t('Scheduled')\n        }\n      },\n      pending: {\n        config: {\n          icon: ___EmotionJSX(Icons.Queued, { iconColor: theme.colors.grayscale.base }),\n          label: t('Scheduled')\n        }\n      },\n      error: {\n        config: {\n          icon: ___EmotionJSX(Icons.Error, { iconColor: theme.colors.error.base }),\n          label: t('Unknown Status')\n        }\n      }\n    };\n    return queries.\n    map((query) => {\n      const { state, sql, progress, ...rest } = query;\n      const q = rest;\n      const status = statusAttributes[state] || statusAttributes.error;\n      if (q.endDttm) {\n        q.duration = fDuration(q.startDttm, q.endDttm);\n      }\n      const time = moment(q.startDttm).format().split('T');\n      q.time = ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(\"span\", null,\n      time[0], \" \", ___EmotionJSX(\"br\", null), \" \", time[1]\n      )\n      );\n      q.user = ___EmotionJSX(Button, { buttonSize: \"small\", buttonStyle: \"link\", onClick: () => onUserClicked(q.userId) },\n      q.user\n      );\n      q.db = ___EmotionJSX(Button, { buttonSize: \"small\", buttonStyle: \"link\", onClick: () => onDbClicked(q.dbId) },\n      q.db\n      );\n      q.started = moment(q.startDttm).format('L HH:mm:ss');\n      q.querylink = ___EmotionJSX(Button, { buttonSize: \"small\", buttonStyle: \"link\", onClick: () => openQuery(q.queryId) },\n      ___EmotionJSX(\"i\", { className: \"fa fa-external-link m-r-3\" }),\n      t('Edit')\n      );\n      q.sql = ___EmotionJSX(Card, { css: [StaticPosition, process.env.NODE_ENV === \"production\" ? \"\" : \";label:q-sql;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Bhd2Fuay9Eb2N1bWVudHMvZGNpbS9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvU3FsTGFiL2NvbXBvbmVudHMvUXVlcnlUYWJsZS9pbmRleC50c3giXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBMkoyQiIsImZpbGUiOiIvaG9tZS9wYXdhbmsvRG9jdW1lbnRzL2RjaW0vc3VwZXJzZXQvc3VwZXJzZXQtZnJvbnRlbmQvc3JjL1NxbExhYi9jb21wb25lbnRzL1F1ZXJ5VGFibGUvaW5kZXgudHN4Iiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiBMaWNlbnNlZCB0byB0aGUgQXBhY2hlIFNvZnR3YXJlIEZvdW5kYXRpb24gKEFTRikgdW5kZXIgb25lXG4gKiBvciBtb3JlIGNvbnRyaWJ1dG9yIGxpY2Vuc2UgYWdyZWVtZW50cy4gIFNlZSB0aGUgTk9USUNFIGZpbGVcbiAqIGRpc3RyaWJ1dGVkIHdpdGggdGhpcyB3b3JrIGZvciBhZGRpdGlvbmFsIGluZm9ybWF0aW9uXG4gKiByZWdhcmRpbmcgY29weXJpZ2h0IG93bmVyc2hpcC4gIFRoZSBBU0YgbGljZW5zZXMgdGhpcyBmaWxlXG4gKiB0byB5b3UgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlXG4gKiBcIkxpY2Vuc2VcIik7IHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2VcbiAqIHdpdGggdGhlIExpY2Vuc2UuICBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZyxcbiAqIHNvZnR3YXJlIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuXG4gKiBcIkFTIElTXCIgQkFTSVMsIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWVxuICogS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4gIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlXG4gKiBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kIGxpbWl0YXRpb25zXG4gKiB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuaW1wb3J0IFJlYWN0LCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgbW9tZW50IGZyb20gJ21vbWVudCc7XG5pbXBvcnQgQ2FyZCBmcm9tICdzcmMvY29tcG9uZW50cy9DYXJkJztcbmltcG9ydCBQcm9ncmVzc0JhciBmcm9tICdzcmMvY29tcG9uZW50cy9Qcm9ncmVzc0Jhcic7XG5pbXBvcnQgTGFiZWwgZnJvbSAnc3JjL2NvbXBvbmVudHMvTGFiZWwnO1xuaW1wb3J0IHsgdCwgdXNlVGhlbWUgfSBmcm9tICdAc3VwZXJzZXQtdWkvY29yZSc7XG5pbXBvcnQgeyB1c2VEaXNwYXRjaCwgdXNlU2VsZWN0b3IgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBxdWVyeUVkaXRvclNldFNxbCwgY2xvbmVRdWVyeVRvTmV3VGFiLCBmZXRjaFF1ZXJ5UmVzdWx0cywgY2xlYXJRdWVyeVJlc3VsdHMsIHJlbW92ZVF1ZXJ5LCB9IGZyb20gJ3NyYy9TcWxMYWIvYWN0aW9ucy9zcWxMYWInO1xuaW1wb3J0IFRhYmxlVmlldyBmcm9tICdzcmMvY29tcG9uZW50cy9UYWJsZVZpZXcnO1xuaW1wb3J0IEJ1dHRvbiBmcm9tICdzcmMvY29tcG9uZW50cy9CdXR0b24nO1xuaW1wb3J0IHsgZkR1cmF0aW9uIH0gZnJvbSAnc3JjL3V0aWxzL2RhdGVzJztcbmltcG9ydCBJY29ucyBmcm9tICdzcmMvY29tcG9uZW50cy9JY29ucyc7XG5pbXBvcnQgeyBUb29sdGlwIH0gZnJvbSAnc3JjL2NvbXBvbmVudHMvVG9vbHRpcCc7XG5pbXBvcnQgTW9kYWxUcmlnZ2VyIGZyb20gJ3NyYy9jb21wb25lbnRzL01vZGFsVHJpZ2dlcic7XG5pbXBvcnQgUmVzdWx0U2V0IGZyb20gJy4uL1Jlc3VsdFNldCc7XG5pbXBvcnQgSGlnaGxpZ2h0ZWRTcWwgZnJvbSAnLi4vSGlnaGxpZ2h0ZWRTcWwnO1xuaW1wb3J0IHsgU3RhdGljUG9zaXRpb24sIHZlcnRpY2FsQWxpZ24sIFN0eWxlZFRvb2x0aXAgfSBmcm9tICcuL3N0eWxlcyc7XG5jb25zdCBvcGVuUXVlcnkgPSAoaWQpID0+IHtcbiAgICBjb25zdCB1cmwgPSBgL3NxbGxhYj9xdWVyeUlkPSR7aWR9YDtcbiAgICB3aW5kb3cub3Blbih1cmwpO1xufTtcbmNvbnN0IFF1ZXJ5VGFibGUgPSAoeyBjb2x1bW5zID0gWydzdGFydGVkJywgJ2R1cmF0aW9uJywgJ3Jvd3MnXSwgcXVlcmllcyA9IFtdLCBvblVzZXJDbGlja2VkID0gKCkgPT4gdW5kZWZpbmVkLCBvbkRiQ2xpY2tlZCA9ICgpID0+IHVuZGVmaW5lZCwgZGlzcGxheUxpbWl0LCBsYXRlc3RRdWVyeUlkLCB9KSA9PiB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IGRpc3BhdGNoID0gdXNlRGlzcGF0Y2goKTtcbiAgICBjb25zdCBRVUVSWV9ISVNUT1JZX1RBQkxFX0hFQURFUlNfTE9DQUxJWkVEID0ge1xuICAgICAgICBzdGF0ZTogdCgnU3RhdGUnKSxcbiAgICAgICAgc3RhcnRlZDogdCgnU3RhcnRlZCcpLFxuICAgICAgICBkdXJhdGlvbjogdCgnRHVyYXRpb24nKSxcbiAgICAgICAgcHJvZ3Jlc3M6IHQoJ1Byb2dyZXNzJyksXG4gICAgICAgIHJvd3M6IHQoJ1Jvd3MnKSxcbiAgICAgICAgc3FsOiB0KCdTUUwnKSxcbiAgICAgICAgcmVzdWx0czogdCgnUmVzdWx0cycpLFxuICAgICAgICBhY3Rpb25zOiB0KCdBY3Rpb25zJyksXG4gICAgfTtcbiAgICBjb25zdCBzZXRIZWFkZXJzID0gKGNvbHVtbikgPT4ge1xuICAgICAgICBpZiAoY29sdW1uID09PSAnc3FsJykge1xuICAgICAgICAgICAgcmV0dXJuIGNvbHVtbi50b1VwcGVyQ2FzZSgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBjb2x1bW4uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkuY29uY2F0KGNvbHVtbi5zbGljZSgxKSk7XG4gICAgfTtcbiAgICBjb25zdCBjb2x1bW5zT2ZUYWJsZSA9IHVzZU1lbW8oKCkgPT4gY29sdW1ucy5tYXAoY29sdW1uID0+ICh7XG4gICAgICAgIGFjY2Vzc29yOiBjb2x1bW4sXG4gICAgICAgIEhlYWRlcjogUVVFUllfSElTVE9SWV9UQUJMRV9IRUFERVJTX0xPQ0FMSVpFRFtjb2x1bW5dIHx8IHNldEhlYWRlcnMoY29sdW1uKSxcbiAgICAgICAgZGlzYWJsZVNvcnRCeTogdHJ1ZSxcbiAgICB9KSksIFtjb2x1bW5zXSk7XG4gICAgY29uc3QgdXNlciA9IHVzZVNlbGVjdG9yKHN0YXRlID0+IHN0YXRlLnVzZXIpO1xuICAgIGNvbnN0IGRhdGEgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAgICAgY29uc3QgcmVzdG9yZVNxbCA9IChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2gocXVlcnlFZGl0b3JTZXRTcWwoeyBpZDogcXVlcnkuc3FsRWRpdG9ySWQgfSwgcXVlcnkuc3FsLCBxdWVyeS5pZCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvcGVuUXVlcnlJbk5ld1RhYiA9IChxdWVyeSkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goY2xvbmVRdWVyeVRvTmV3VGFiKHF1ZXJ5LCB0cnVlKSk7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IG9wZW5Bc3luY1Jlc3VsdHMgPSAocXVlcnksIGRpc3BsYXlMaW1pdCkgPT4ge1xuICAgICAgICAgICAgZGlzcGF0Y2goZmV0Y2hRdWVyeVJlc3VsdHMocXVlcnksIGRpc3BsYXlMaW1pdCkpO1xuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdGF0dXNBdHRyaWJ1dGVzID0ge1xuICAgICAgICAgICAgc3VjY2Vzczoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiA8SWNvbnMuQ2hlY2sgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMuc3VjY2Vzcy5iYXNlfS8+LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdCgnU3VjY2VzcycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmFpbGVkOiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246IDxJY29ucy5YU21hbGwgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZX0vPixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQoJ0ZhaWxlZCcpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgc3RvcHBlZDoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiA8SWNvbnMuWFNtYWxsIGljb25Db2xvcj17dGhlbWUuY29sb3JzLmVycm9yLmJhc2V9Lz4sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0KCdGYWlsZWQnKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJ1bm5pbmc6IHtcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogPEljb25zLlJ1bm5pbmcgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMucHJpbWFyeS5iYXNlfS8+LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdCgnUnVubmluZycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZmV0Y2hpbmc6IHtcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogPEljb25zLlF1ZXVlZCBpY29uQ29sb3I9e3RoZW1lLmNvbG9ycy5wcmltYXJ5LmJhc2V9Lz4sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0KCdGZXRjaGluZycpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgdGltZWRfb3V0OiB7XG4gICAgICAgICAgICAgICAgY29uZmlnOiB7XG4gICAgICAgICAgICAgICAgICAgIGljb246IDxJY29ucy5PZmZsaW5lIGljb25Db2xvcj17dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5saWdodDF9Lz4sXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsOiB0KCdPZmZsaW5lJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzY2hlZHVsZWQ6IHtcbiAgICAgICAgICAgICAgICBjb25maWc6IHtcbiAgICAgICAgICAgICAgICAgICAgaWNvbjogPEljb25zLlF1ZXVlZCBpY29uQ29sb3I9e3RoZW1lLmNvbG9ycy5ncmF5c2NhbGUuYmFzZX0vPixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQoJ1NjaGVkdWxlZCcpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGVuZGluZzoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiA8SWNvbnMuUXVldWVkIGljb25Db2xvcj17dGhlbWUuY29sb3JzLmdyYXlzY2FsZS5iYXNlfS8+LFxuICAgICAgICAgICAgICAgICAgICBsYWJlbDogdCgnU2NoZWR1bGVkJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgIGNvbmZpZzoge1xuICAgICAgICAgICAgICAgICAgICBpY29uOiA8SWNvbnMuRXJyb3IgaWNvbkNvbG9yPXt0aGVtZS5jb2xvcnMuZXJyb3IuYmFzZX0vPixcbiAgICAgICAgICAgICAgICAgICAgbGFiZWw6IHQoJ1Vua25vd24gU3RhdHVzJyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBxdWVyaWVzXG4gICAgICAgICAgICAubWFwKHF1ZXJ5ID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHsgc3RhdGUsIHNxbCwgcHJvZ3Jlc3MsIC4uLnJlc3QgfSA9IHF1ZXJ5O1xuICAgICAgICAgICAgY29uc3QgcSA9IHJlc3Q7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXMgPSBzdGF0dXNBdHRyaWJ1dGVzW3N0YXRlXSB8fCBzdGF0dXNBdHRyaWJ1dGVzLmVycm9yO1xuICAgICAgICAgICAgaWYgKHEuZW5kRHR0bSkge1xuICAgICAgICAgICAgICAgIHEuZHVyYXRpb24gPSBmRHVyYXRpb24ocS5zdGFydER0dG0sIHEuZW5kRHR0bSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB0aW1lID0gbW9tZW50KHEuc3RhcnREdHRtKS5mb3JtYXQoKS5zcGxpdCgnVCcpO1xuICAgICAgICAgICAgcS50aW1lID0gKDxkaXY+XG4gICAgICAgICAgICA8c3Bhbj5cbiAgICAgICAgICAgICAge3RpbWVbMF19IDxiciAvPiB7dGltZVsxXX1cbiAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICA8L2Rpdj4pO1xuICAgICAgICAgICAgcS51c2VyID0gKDxCdXR0b24gYnV0dG9uU2l6ZT1cInNtYWxsXCIgYnV0dG9uU3R5bGU9XCJsaW5rXCIgb25DbGljaz17KCkgPT4gb25Vc2VyQ2xpY2tlZChxLnVzZXJJZCl9PlxuICAgICAgICAgICAge3EudXNlcn1cbiAgICAgICAgICA8L0J1dHRvbj4pO1xuICAgICAgICAgICAgcS5kYiA9ICg8QnV0dG9uIGJ1dHRvblNpemU9XCJzbWFsbFwiIGJ1dHRvblN0eWxlPVwibGlua1wiIG9uQ2xpY2s9eygpID0+IG9uRGJDbGlja2VkKHEuZGJJZCl9PlxuICAgICAgICAgICAge3EuZGJ9XG4gICAgICAgICAgPC9CdXR0b24+KTtcbiAgICAgICAgICAgIHEuc3RhcnRlZCA9IG1vbWVudChxLnN0YXJ0RHR0bSkuZm9ybWF0KCdMIEhIOm1tOnNzJyk7XG4gICAgICAgICAgICBxLnF1ZXJ5bGluayA9ICg8QnV0dG9uIGJ1dHRvblNpemU9XCJzbWFsbFwiIGJ1dHRvblN0eWxlPVwibGlua1wiIG9uQ2xpY2s9eygpID0+IG9wZW5RdWVyeShxLnF1ZXJ5SWQpfT5cbiAgICAgICAgICAgIDxpIGNsYXNzTmFtZT1cImZhIGZhLWV4dGVybmFsLWxpbmsgbS1yLTNcIi8+XG4gICAgICAgICAgICB7dCgnRWRpdCcpfVxuICAgICAgICAgIDwvQnV0dG9uPik7XG4gICAgICAgICAgICBxLnNxbCA9ICg8Q2FyZCBjc3M9e1tTdGF0aWNQb3NpdGlvbl19PlxuICAgICAgICAgICAgPEhpZ2hsaWdodGVkU3FsIHNxbD17c3FsfSByYXdTcWw9e3EuZXhlY3V0ZWRTcWx9IHNocmluayBtYXhXaWR0aD17NjB9Lz5cbiAgICAgICAgICA8L0NhcmQ+KTtcbiAgICAgICAgICAgIGlmIChxLnJlc3VsdHNLZXkpIHtcbiAgICAgICAgICAgICAgICBxLnJlc3VsdHMgPSAoPE1vZGFsVHJpZ2dlciBjbGFzc05hbWU9XCJSZXN1bHRzTW9kYWxcIiB0cmlnZ2VyTm9kZT17PExhYmVsIHR5cGU9XCJpbmZvXCIgY2xhc3NOYW1lPVwicG9pbnRlclwiPlxuICAgICAgICAgICAgICAgICAge3QoJ1ZpZXcnKX1cbiAgICAgICAgICAgICAgICA8L0xhYmVsPn0gbW9kYWxUaXRsZT17dCgnRGF0YSBwcmV2aWV3Jyl9IGJlZm9yZU9wZW49eygpID0+IG9wZW5Bc3luY1Jlc3VsdHMocXVlcnksIGRpc3BsYXlMaW1pdCl9IG9uRXhpdD17KCkgPT4gZGlzcGF0Y2goY2xlYXJRdWVyeVJlc3VsdHMocXVlcnkpKX0gbW9kYWxCb2R5PXs8UmVzdWx0U2V0IHNob3dTcWwgcXVlcnlJZD17cXVlcnkuaWR9IGhlaWdodD17NDAwfSBkaXNwbGF5TGltaXQ9e2Rpc3BsYXlMaW1pdH0gZGVmYXVsdFF1ZXJ5TGltaXQ9ezEwMDB9Lz59IHJlc3BvbnNpdmUvPik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBxLnJlc3VsdHMgPSA8PjwvPjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHEucHJvZ3Jlc3MgPVxuICAgICAgICAgICAgICAgIHN0YXRlID09PSAnc3VjY2VzcycgPyAoPFByb2dyZXNzQmFyIHBlcmNlbnQ9e3BhcnNlSW50KHByb2dyZXNzLnRvRml4ZWQoMCksIDEwKX0gc3RyaXBlZCBzaG93SW5mbz17ZmFsc2V9Lz4pIDogKDxQcm9ncmVzc0JhciBwZXJjZW50PXtwYXJzZUludChwcm9ncmVzcy50b0ZpeGVkKDApLCAxMCl9IHN0cmlwZWQvPik7XG4gICAgICAgICAgICBxLnN0YXRlID0gKDxUb29sdGlwIHRpdGxlPXtzdGF0dXMuY29uZmlnLmxhYmVsfSBwbGFjZW1lbnQ9XCJib3R0b21cIj5cbiAgICAgICAgICAgIDxzcGFuPntzdGF0dXMuY29uZmlnLmljb259PC9zcGFuPlxuICAgICAgICAgIDwvVG9vbHRpcD4pO1xuICAgICAgICAgICAgcS5hY3Rpb25zID0gKDxkaXY+XG4gICAgICAgICAgICA8U3R5bGVkVG9vbHRpcCBvbkNsaWNrPXsoKSA9PiByZXN0b3JlU3FsKHF1ZXJ5KX0gdG9vbHRpcD17dCgnT3ZlcndyaXRlIHRleHQgaW4gdGhlIGVkaXRvciB3aXRoIGEgcXVlcnkgb24gdGhpcyB0YWJsZScpfSBwbGFjZW1lbnQ9XCJ0b3BcIj5cbiAgICAgICAgICAgICAgPEljb25zLkVkaXQgaWNvblNpemU9XCJ4bFwiLz5cbiAgICAgICAgICAgIDwvU3R5bGVkVG9vbHRpcD5cbiAgICAgICAgICAgIDxTdHlsZWRUb29sdGlwIG9uQ2xpY2s9eygpID0+IG9wZW5RdWVyeUluTmV3VGFiKHF1ZXJ5KX0gdG9vbHRpcD17dCgnUnVuIHF1ZXJ5IGluIGEgbmV3IHRhYicpfSBwbGFjZW1lbnQ9XCJ0b3BcIj5cbiAgICAgICAgICAgICAgPEljb25zLlBsdXNDaXJjbGVPdXRsaW5lZCBpY29uU2l6ZT1cInhsXCIgY3NzPXt2ZXJ0aWNhbEFsaWdufS8+XG4gICAgICAgICAgICA8L1N0eWxlZFRvb2x0aXA+XG4gICAgICAgICAgICB7cS5pZCAhPT0gbGF0ZXN0UXVlcnlJZCAmJiAoPFN0eWxlZFRvb2x0aXAgdG9vbHRpcD17dCgnUmVtb3ZlIHF1ZXJ5IGZyb20gbG9nJyl9IG9uQ2xpY2s9eygpID0+IGRpc3BhdGNoKHJlbW92ZVF1ZXJ5KHF1ZXJ5KSl9PlxuICAgICAgICAgICAgICAgIDxJY29ucy5UcmFzaCBpY29uU2l6ZT1cInhsXCIvPlxuICAgICAgICAgICAgICA8L1N0eWxlZFRvb2x0aXA+KX1cbiAgICAgICAgICA8L2Rpdj4pO1xuICAgICAgICAgICAgcmV0dXJuIHE7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAucmV2ZXJzZSgpO1xuICAgIH0sIFtxdWVyaWVzLCBvblVzZXJDbGlja2VkLCBvbkRiQ2xpY2tlZCwgdXNlciwgZGlzcGxheUxpbWl0XSk7XG4gICAgcmV0dXJuICg8ZGl2IGNsYXNzTmFtZT1cIlF1ZXJ5VGFibGVcIj5cbiAgICAgIDxUYWJsZVZpZXcgY29sdW1ucz17Y29sdW1uc09mVGFibGV9IGRhdGE9e2RhdGF9IGNsYXNzTmFtZT1cInRhYmxlLWNvbmRlbnNlZFwiIHBhZ2VTaXplPXs1MH0vPlxuICAgIDwvZGl2Pik7XG59O1xuZXhwb3J0IGRlZmF1bHQgUXVlcnlUYWJsZTtcbiJdfQ== */\"] },\n      ___EmotionJSX(HighlightedSql, { sql: sql, rawSql: q.executedSql, shrink: true, maxWidth: 60 })\n      );\n      if (q.resultsKey) {\n        q.results = ___EmotionJSX(ModalTrigger, { className: \"ResultsModal\", triggerNode: ___EmotionJSX(Label, { type: \"info\", className: \"pointer\" },\n          t('View')\n          ), modalTitle: t('Data preview'), beforeOpen: () => openAsyncResults(query, displayLimit), onExit: () => dispatch(clearQueryResults(query)), modalBody: ___EmotionJSX(ResultSet, { showSql: true, queryId: query.id, height: 400, displayLimit: displayLimit, defaultQueryLimit: 1000 }), responsive: true });\n      } else\n      {\n        q.results = ___EmotionJSX(React.Fragment, null);\n      }\n      q.progress =\n      state === 'success' ? ___EmotionJSX(ProgressBar, { percent: parseInt(progress.toFixed(0), 10), striped: true, showInfo: false }) : ___EmotionJSX(ProgressBar, { percent: parseInt(progress.toFixed(0), 10), striped: true });\n      q.state = ___EmotionJSX(Tooltip, { title: status.config.label, placement: \"bottom\" },\n      ___EmotionJSX(\"span\", null, status.config.icon)\n      );\n      q.actions = ___EmotionJSX(\"div\", null,\n      ___EmotionJSX(StyledTooltip, { onClick: () => restoreSql(query), tooltip: t('Overwrite text in the editor with a query on this table'), placement: \"top\" },\n      ___EmotionJSX(Icons.Edit, { iconSize: \"xl\" })\n      ),\n      ___EmotionJSX(StyledTooltip, { onClick: () => openQueryInNewTab(query), tooltip: t('Run query in a new tab'), placement: \"top\" },\n      ___EmotionJSX(Icons.PlusCircleOutlined, { iconSize: \"xl\", css: verticalAlign })\n      ),\n      q.id !== latestQueryId && ___EmotionJSX(StyledTooltip, { tooltip: t('Remove query from log'), onClick: () => dispatch(removeQuery(query)) },\n      ___EmotionJSX(Icons.Trash, { iconSize: \"xl\" })\n      )\n      );\n      return q;\n    }).\n    reverse();\n  }, [queries, onUserClicked, onDbClicked, user, displayLimit]);\n  return ___EmotionJSX(\"div\", { className: \"QueryTable\" },\n  ___EmotionJSX(TableView, { columns: columnsOfTable, data: data, className: \"table-condensed\", pageSize: 50 })\n  );\n};__signature__(QueryTable, \"useTheme{theme}\\nuseDispatch{dispatch}\\nuseMemo{columnsOfTable}\\nuseSelector{user}\\nuseMemo{data}\", () => [useTheme, useDispatch, useSelector]);const _default =\nQueryTable;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(openQuery, \"openQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx\");reactHotLoader.register(QueryTable, \"QueryTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useMemo","moment","Card","ProgressBar","Label","t","useTheme","useDispatch","useSelector","queryEditorSetSql","cloneQueryToNewTab","fetchQueryResults","clearQueryResults","removeQuery","TableView","Button","fDuration","Icons","Tooltip","ModalTrigger","ResultSet","HighlightedSql","StaticPosition","verticalAlign","StyledTooltip","jsx","___EmotionJSX","openQuery","id","url","window","open","QueryTable","columns","queries","onUserClicked","undefined","onDbClicked","displayLimit","latestQueryId","theme","dispatch","QUERY_HISTORY_TABLE_HEADERS_LOCALIZED","state","started","duration","progress","rows","sql","results","actions","setHeaders","column","toUpperCase","charAt","concat","slice","columnsOfTable","map","accessor","Header","disableSortBy","user","data","restoreSql","query","sqlEditorId","openQueryInNewTab","openAsyncResults","statusAttributes","success","config","icon","Check","iconColor","colors","base","label","failed","XSmall","error","stopped","running","Running","primary","fetching","Queued","timed_out","Offline","grayscale","light1","scheduled","pending","Error","rest","q","status","endDttm","startDttm","time","format","split","buttonSize","buttonStyle","onClick","userId","db","dbId","querylink","queryId","className","css","process","env","NODE_ENV","rawSql","executedSql","shrink","maxWidth","resultsKey","triggerNode","type","modalTitle","beforeOpen","onExit","modalBody","showSql","height","defaultQueryLimit","responsive","Fragment","percent","parseInt","toFixed","striped","showInfo","title","placement","tooltip","Edit","iconSize","PlusCircleOutlined","Trash","reverse","pageSize","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/QueryTable/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport moment from 'moment';\nimport Card from 'src/components/Card';\nimport ProgressBar from 'src/components/ProgressBar';\nimport Label from 'src/components/Label';\nimport { t, useTheme, QueryResponse } from '@superset-ui/core';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport {\n  queryEditorSetSql,\n  cloneQueryToNewTab,\n  fetchQueryResults,\n  clearQueryResults,\n  removeQuery,\n} from 'src/SqlLab/actions/sqlLab';\nimport TableView from 'src/components/TableView';\nimport Button from 'src/components/Button';\nimport { fDuration } from 'src/utils/dates';\nimport Icons from 'src/components/Icons';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { SqlLabRootState } from 'src/SqlLab/types';\nimport ModalTrigger from 'src/components/ModalTrigger';\nimport { UserWithPermissionsAndRoles as User } from 'src/types/bootstrapTypes';\nimport ResultSet from '../ResultSet';\nimport HighlightedSql from '../HighlightedSql';\nimport { StaticPosition, verticalAlign, StyledTooltip } from './styles';\n\ninterface QueryTableQuery\n  extends Omit<QueryResponse, 'state' | 'sql' | 'progress' | 'results'> {\n  state?: Record<string, any>;\n  sql?: Record<string, any>;\n  progress?: Record<string, any>;\n  results?: Record<string, any>;\n}\n\ninterface QueryTableProps {\n  columns?: string[];\n  queries?: QueryResponse[];\n  onUserClicked?: Function;\n  onDbClicked?: Function;\n  displayLimit: number;\n  latestQueryId?: string | undefined;\n}\n\nconst openQuery = (id: number) => {\n  const url = `/sqllab?queryId=${id}`;\n  window.open(url);\n};\n\nconst QueryTable = ({\n  columns = ['started', 'duration', 'rows'],\n  queries = [],\n  onUserClicked = () => undefined,\n  onDbClicked = () => undefined,\n  displayLimit,\n  latestQueryId,\n}: QueryTableProps) => {\n  const theme = useTheme();\n  const dispatch = useDispatch();\n\n  const QUERY_HISTORY_TABLE_HEADERS_LOCALIZED = {\n    state: t('State'),\n    started: t('Started'),\n    duration: t('Duration'),\n    progress: t('Progress'),\n    rows: t('Rows'),\n    sql: t('SQL'),\n    results: t('Results'),\n    actions: t('Actions'),\n  };\n\n  const setHeaders = (column: string) => {\n    if (column === 'sql') {\n      return column.toUpperCase();\n    }\n    return column.charAt(0).toUpperCase().concat(column.slice(1));\n  };\n\n  const columnsOfTable = useMemo(\n    () =>\n      columns.map(column => ({\n        accessor: column,\n        Header:\n          QUERY_HISTORY_TABLE_HEADERS_LOCALIZED[column] || setHeaders(column),\n        disableSortBy: true,\n      })),\n    [columns],\n  );\n\n  const user = useSelector<SqlLabRootState, User>(state => state.user);\n\n  const data = useMemo(() => {\n    const restoreSql = (query: QueryResponse) => {\n      dispatch(\n        queryEditorSetSql({ id: query.sqlEditorId }, query.sql, query.id),\n      );\n    };\n\n    const openQueryInNewTab = (query: QueryResponse) => {\n      dispatch(cloneQueryToNewTab(query, true));\n    };\n\n    const openAsyncResults = (query: QueryResponse, displayLimit: number) => {\n      dispatch(fetchQueryResults(query, displayLimit));\n    };\n\n    const statusAttributes = {\n      success: {\n        config: {\n          icon: <Icons.Check iconColor={theme.colors.success.base} />,\n          label: t('Success'),\n        },\n      },\n      failed: {\n        config: {\n          icon: <Icons.XSmall iconColor={theme.colors.error.base} />,\n          label: t('Failed'),\n        },\n      },\n      stopped: {\n        config: {\n          icon: <Icons.XSmall iconColor={theme.colors.error.base} />,\n          label: t('Failed'),\n        },\n      },\n      running: {\n        config: {\n          icon: <Icons.Running iconColor={theme.colors.primary.base} />,\n          label: t('Running'),\n        },\n      },\n      fetching: {\n        config: {\n          icon: <Icons.Queued iconColor={theme.colors.primary.base} />,\n          label: t('Fetching'),\n        },\n      },\n      timed_out: {\n        config: {\n          icon: <Icons.Offline iconColor={theme.colors.grayscale.light1} />,\n          label: t('Offline'),\n        },\n      },\n      scheduled: {\n        config: {\n          icon: <Icons.Queued iconColor={theme.colors.grayscale.base} />,\n          label: t('Scheduled'),\n        },\n      },\n      pending: {\n        config: {\n          icon: <Icons.Queued iconColor={theme.colors.grayscale.base} />,\n          label: t('Scheduled'),\n        },\n      },\n      error: {\n        config: {\n          icon: <Icons.Error iconColor={theme.colors.error.base} />,\n          label: t('Unknown Status'),\n        },\n      },\n    };\n\n    return queries\n      .map(query => {\n        const { state, sql, progress, ...rest } = query;\n        const q = rest as QueryTableQuery;\n\n        const status = statusAttributes[state] || statusAttributes.error;\n\n        if (q.endDttm) {\n          q.duration = fDuration(q.startDttm, q.endDttm);\n        }\n        const time = moment(q.startDttm).format().split('T');\n        q.time = (\n          <div>\n            <span>\n              {time[0]} <br /> {time[1]}\n            </span>\n          </div>\n        );\n        q.user = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => onUserClicked(q.userId)}\n          >\n            {q.user}\n          </Button>\n        );\n        q.db = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => onDbClicked(q.dbId)}\n          >\n            {q.db}\n          </Button>\n        );\n        q.started = moment(q.startDttm).format('L HH:mm:ss');\n        q.querylink = (\n          <Button\n            buttonSize=\"small\"\n            buttonStyle=\"link\"\n            onClick={() => openQuery(q.queryId)}\n          >\n            <i className=\"fa fa-external-link m-r-3\" />\n            {t('Edit')}\n          </Button>\n        );\n        q.sql = (\n          <Card css={[StaticPosition]}>\n            <HighlightedSql\n              sql={sql}\n              rawSql={q.executedSql}\n              shrink\n              maxWidth={60}\n            />\n          </Card>\n        );\n        if (q.resultsKey) {\n          q.results = (\n            <ModalTrigger\n              className=\"ResultsModal\"\n              triggerNode={\n                <Label type=\"info\" className=\"pointer\">\n                  {t('View')}\n                </Label>\n              }\n              modalTitle={t('Data preview')}\n              beforeOpen={() => openAsyncResults(query, displayLimit)}\n              onExit={() => dispatch(clearQueryResults(query))}\n              modalBody={\n                <ResultSet\n                  showSql\n                  queryId={query.id}\n                  height={400}\n                  displayLimit={displayLimit}\n                  defaultQueryLimit={1000}\n                />\n              }\n              responsive\n            />\n          );\n        } else {\n          q.results = <></>;\n        }\n\n        q.progress =\n          state === 'success' ? (\n            <ProgressBar\n              percent={parseInt(progress.toFixed(0), 10)}\n              striped\n              showInfo={false}\n            />\n          ) : (\n            <ProgressBar percent={parseInt(progress.toFixed(0), 10)} striped />\n          );\n        q.state = (\n          <Tooltip title={status.config.label} placement=\"bottom\">\n            <span>{status.config.icon}</span>\n          </Tooltip>\n        );\n        q.actions = (\n          <div>\n            <StyledTooltip\n              onClick={() => restoreSql(query)}\n              tooltip={t(\n                'Overwrite text in the editor with a query on this table',\n              )}\n              placement=\"top\"\n            >\n              <Icons.Edit iconSize=\"xl\" />\n            </StyledTooltip>\n            <StyledTooltip\n              onClick={() => openQueryInNewTab(query)}\n              tooltip={t('Run query in a new tab')}\n              placement=\"top\"\n            >\n              <Icons.PlusCircleOutlined iconSize=\"xl\" css={verticalAlign} />\n            </StyledTooltip>\n            {q.id !== latestQueryId && (\n              <StyledTooltip\n                tooltip={t('Remove query from log')}\n                onClick={() => dispatch(removeQuery(query))}\n              >\n                <Icons.Trash iconSize=\"xl\" />\n              </StyledTooltip>\n            )}\n          </div>\n        );\n        return q;\n      })\n      .reverse();\n  }, [queries, onUserClicked, onDbClicked, user, displayLimit]);\n\n  return (\n    <div className=\"QueryTable\">\n      <TableView\n        columns={columnsOfTable}\n        data={data}\n        className=\"table-condensed\"\n        pageSize={50}\n      />\n    </div>\n  );\n};\n\nexport default QueryTable;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}