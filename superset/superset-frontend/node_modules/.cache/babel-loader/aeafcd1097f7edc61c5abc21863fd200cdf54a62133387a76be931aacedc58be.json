{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { styled, t } from '@superset-ui/core';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst TooltipContent = styled.div`\n  ${({ theme }) => `\n    .tooltip-header {\n      font-size: ${theme.typography.sizes.m}px;\n      font-weight: ${theme.typography.weights.bold};\n    }\n\n    .tooltip-description {\n      margin-top: ${theme.gridUnit * 2}px;\n      display: -webkit-box;\n      -webkit-line-clamp: 20;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  `}\n`;\nconst StyledLabelContainer = styled.div`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\nconst StyledLabel = styled.span`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\nconst StyledDetailWrapper = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-content: start;\n  width: 100%;\n`;\nconst StyledLabelDetail = styled.span`\n  ${({ theme: { typography: { sizes, weights } } }) => `\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: ${sizes.s}px;\n    font-weight: ${weights.light};\n    line-height: 1.6;\n  `}\n`;\nconst isValidValue = (value) => !['null', 'none'].includes(value.toLowerCase()) && value.trim() !== '';\nexport const DatasetSelectLabel = (item) => ___EmotionJSX(Tooltip, { mouseEnterDelay: 0.2, placement: \"right\", title: ___EmotionJSX(TooltipContent, null,\n  ___EmotionJSX(\"div\", { className: \"tooltip-header\" },\n  item.table_name && isValidValue(item.table_name) ?\n  item.table_name :\n  t('Not defined')\n  ),\n  ___EmotionJSX(\"div\", { className: \"tooltip-description\" },\n  ___EmotionJSX(\"div\", null,\n  t('Database'), \": \", item.database.database_name\n  ),\n  ___EmotionJSX(\"div\", null,\n  t('Schema'), \":\", ' ',\n  item.schema && isValidValue(item.schema) ?\n  item.schema :\n  t('Not defined')\n  )\n  )\n  ) },\n___EmotionJSX(StyledLabelContainer, null,\n___EmotionJSX(StyledLabel, null,\nitem.table_name && isValidValue(item.table_name) ?\nitem.table_name :\nitem.database.database_name\n),\n___EmotionJSX(StyledDetailWrapper, null,\n___EmotionJSX(StyledLabelDetail, null, item.database.database_name),\nitem.schema && isValidValue(item.schema) && ___EmotionJSX(StyledLabelDetail, null, \"\\xA0- \", item.schema)\n)\n)\n);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(TooltipContent, \"TooltipContent\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledLabelContainer, \"StyledLabelContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledLabel, \"StyledLabel\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledDetailWrapper, \"StyledDetailWrapper\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(StyledLabelDetail, \"StyledLabelDetail\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(isValidValue, \"isValidValue\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");reactHotLoader.register(DatasetSelectLabel, \"DatasetSelectLabel\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","Tooltip","styled","t","jsx","___EmotionJSX","TooltipContent","div","theme","typography","sizes","m","weights","bold","gridUnit","StyledLabelContainer","StyledLabel","span","StyledDetailWrapper","StyledLabelDetail","s","light","isValidValue","value","includes","toLowerCase","trim","DatasetSelectLabel","item","mouseEnterDelay","placement","title","className","table_name","database","database_name","schema","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/features/datasets/DatasetSelectLabel/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { styled, t } from '@superset-ui/core';\n\ntype Database = {\n  database_name: string;\n};\n\nexport type Dataset = {\n  id: number;\n  table_name: string;\n  datasource_type?: string;\n  schema: string;\n  database: Database;\n};\n\nconst TooltipContent = styled.div`\n  ${({ theme }) => `\n    .tooltip-header {\n      font-size: ${theme.typography.sizes.m}px;\n      font-weight: ${theme.typography.weights.bold};\n    }\n\n    .tooltip-description {\n      margin-top: ${theme.gridUnit * 2}px;\n      display: -webkit-box;\n      -webkit-line-clamp: 20;\n      -webkit-box-orient: vertical;\n      overflow: hidden;\n      text-overflow: ellipsis;\n    }\n  `}\n`;\n\nconst StyledLabelContainer = styled.div`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\n\nconst StyledLabel = styled.span`\n  ${({ theme }) => `\n    left: ${theme.gridUnit * 3}px;\n    right: ${theme.gridUnit * 3}px;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    display: block;\n  `}\n`;\n\nconst StyledDetailWrapper = styled.div`\n  display: grid;\n  grid-template-columns: auto auto;\n  justify-content: start;\n  width: 100%;\n`;\n\nconst StyledLabelDetail = styled.span`\n  ${({\n    theme: {\n      typography: { sizes, weights },\n    },\n  }) => `\n    overflow: hidden;\n    text-overflow: ellipsis;\n    font-size: ${sizes.s}px;\n    font-weight: ${weights.light};\n    line-height: 1.6;\n  `}\n`;\n\nconst isValidValue = (value: string): boolean =>\n  !['null', 'none'].includes(value.toLowerCase()) && value.trim() !== '';\n\nexport const DatasetSelectLabel = (item: Dataset) => (\n  <Tooltip\n    mouseEnterDelay={0.2}\n    placement=\"right\"\n    title={\n      <TooltipContent>\n        <div className=\"tooltip-header\">\n          {item.table_name && isValidValue(item.table_name)\n            ? item.table_name\n            : t('Not defined')}\n        </div>\n        <div className=\"tooltip-description\">\n          <div>\n            {t('Database')}: {item.database.database_name}\n          </div>\n          <div>\n            {t('Schema')}:{' '}\n            {item.schema && isValidValue(item.schema)\n              ? item.schema\n              : t('Not defined')}\n          </div>\n        </div>\n      </TooltipContent>\n    }\n  >\n    <StyledLabelContainer>\n      <StyledLabel>\n        {item.table_name && isValidValue(item.table_name)\n          ? item.table_name\n          : item.database.database_name}\n      </StyledLabel>\n      <StyledDetailWrapper>\n        <StyledLabelDetail>{item.database.database_name}</StyledLabelDetail>\n        {item.schema && isValidValue(item.schema) && (\n          <StyledLabelDetail>&nbsp;- {item.schema}</StyledLabelDetail>\n        )}\n      </StyledDetailWrapper>\n    </StyledLabelContainer>\n  </Tooltip>\n);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}