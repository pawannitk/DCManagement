{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { initFeatureFlags } from '@superset-ui/core';\nimport getBootstrapData from './getBootstrapData';\n\nfunction getDomainsConfig() {var _bootstrapData$common, _bootstrapData$common2;\n  const appContainer = document.getElementById('app');\n  if (!appContainer) {\n    return [];\n  }\n\n  const availableDomains = new Set([window.location.hostname]);\n\n  // don't do domain sharding if a certain query param is set\n  const disableDomainSharding =\n  new URLSearchParams(window.location.search).get('disableDomainSharding') ===\n  '1';\n  if (disableDomainSharding) {\n    return Array.from(availableDomains);\n  }\n\n  const bootstrapData = getBootstrapData();\n  // this module is a little special, it may be loaded before index.jsx,\n  // where window.featureFlags get initialized\n  // eslint-disable-next-line camelcase\n  initFeatureFlags(bootstrapData.common.feature_flags);\n\n  if (bootstrapData != null && (_bootstrapData$common = bootstrapData.common) != null && (_bootstrapData$common2 = _bootstrapData$common.conf) != null && _bootstrapData$common2.SUPERSET_WEBSERVER_DOMAINS) {\n    bootstrapData.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach((hostName) => {\n      availableDomains.add(hostName);\n    });\n  }\n  return Array.from(availableDomains);\n}\n\nexport const availableDomains = getDomainsConfig();\n\nexport const allowCrossDomain = availableDomains.length > 1;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(getDomainsConfig, \"getDomainsConfig\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/utils/hostNamesConfig.js\");reactHotLoader.register(availableDomains, \"availableDomains\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/utils/hostNamesConfig.js\");reactHotLoader.register(allowCrossDomain, \"allowCrossDomain\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/utils/hostNamesConfig.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["initFeatureFlags","getBootstrapData","getDomainsConfig","_bootstrapData$common","_bootstrapData$common2","appContainer","document","getElementById","availableDomains","Set","window","location","hostname","disableDomainSharding","URLSearchParams","search","get","Array","from","bootstrapData","common","feature_flags","conf","SUPERSET_WEBSERVER_DOMAINS","forEach","hostName","add","allowCrossDomain","length","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/utils/hostNamesConfig.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { initFeatureFlags } from '@superset-ui/core';\nimport getBootstrapData from './getBootstrapData';\n\nfunction getDomainsConfig() {\n  const appContainer = document.getElementById('app');\n  if (!appContainer) {\n    return [];\n  }\n\n  const availableDomains = new Set([window.location.hostname]);\n\n  // don't do domain sharding if a certain query param is set\n  const disableDomainSharding =\n    new URLSearchParams(window.location.search).get('disableDomainSharding') ===\n    '1';\n  if (disableDomainSharding) {\n    return Array.from(availableDomains);\n  }\n\n  const bootstrapData = getBootstrapData();\n  // this module is a little special, it may be loaded before index.jsx,\n  // where window.featureFlags get initialized\n  // eslint-disable-next-line camelcase\n  initFeatureFlags(bootstrapData.common.feature_flags);\n\n  if (bootstrapData?.common?.conf?.SUPERSET_WEBSERVER_DOMAINS) {\n    bootstrapData.common.conf.SUPERSET_WEBSERVER_DOMAINS.forEach(hostName => {\n      availableDomains.add(hostName);\n    });\n  }\n  return Array.from(availableDomains);\n}\n\nexport const availableDomains = getDomainsConfig();\n\nexport const allowCrossDomain = availableDomains.length > 1;\n"],"mappings":"wSAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASA,gBAAgB,QAAQ,mBAAmB;AACpD,OAAOC,gBAAgB,MAAM,oBAAoB;;AAEjD,SAASC,gBAAgBA,CAAA,EAAG,KAAAC,qBAAA,EAAAC,sBAAA;EAC1B,MAAMC,YAAY,GAAGC,QAAQ,CAACC,cAAc,CAAC,KAAK,CAAC;EACnD,IAAI,CAACF,YAAY,EAAE;IACjB,OAAO,EAAE;EACX;;EAEA,MAAMG,gBAAgB,GAAG,IAAIC,GAAG,CAAC,CAACC,MAAM,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC;;EAE5D;EACA,MAAMC,qBAAqB;EACzB,IAAIC,eAAe,CAACJ,MAAM,CAACC,QAAQ,CAACI,MAAM,CAAC,CAACC,GAAG,CAAC,uBAAuB,CAAC;EACxE,GAAG;EACL,IAAIH,qBAAqB,EAAE;IACzB,OAAOI,KAAK,CAACC,IAAI,CAACV,gBAAgB,CAAC;EACrC;;EAEA,MAAMW,aAAa,GAAGlB,gBAAgB,CAAC,CAAC;EACxC;EACA;EACA;EACAD,gBAAgB,CAACmB,aAAa,CAACC,MAAM,CAACC,aAAa,CAAC;;EAEpD,IAAIF,aAAa,aAAAhB,qBAAA,GAAbgB,aAAa,CAAEC,MAAM,cAAAhB,sBAAA,GAArBD,qBAAA,CAAuBmB,IAAI,aAA3BlB,sBAAA,CAA6BmB,0BAA0B,EAAE;IAC3DJ,aAAa,CAACC,MAAM,CAACE,IAAI,CAACC,0BAA0B,CAACC,OAAO,CAAC,CAAAC,QAAQ,KAAI;MACvEjB,gBAAgB,CAACkB,GAAG,CAACD,QAAQ,CAAC;IAChC,CAAC,CAAC;EACJ;EACA,OAAOR,KAAK,CAACC,IAAI,CAACV,gBAAgB,CAAC;AACrC;;AAEA,OAAO,MAAMA,gBAAgB,GAAGN,gBAAgB,CAAC,CAAC;;AAElD,OAAO,MAAMyB,gBAAgB,GAAGnB,gBAAgB,CAACoB,MAAM,GAAG,CAAC,CAAC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAhCnD/B,gBAAgB,6GAAA2B,cAAA,CAAAI,QAAA,CA8BZzB,gBAAgB,6GAAAqB,cAAA,CAAAI,QAAA,CAEhBN,gBAAgB,qIAAAO,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}