{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import { format as d3Format } from 'd3-format';\nimport NumberFormats from '../NumberFormats';\nimport createNumberFormatter from '../createNumberFormatter';\nconst siFormatter = d3Format(\".3~s\");\nconst float2PointFormatter = d3Format(\".2~f\");\nconst float4PointFormatter = d3Format(\".4~f\");\n\nfunction formatValue(value) {\n  if (value === 0) {\n    return '0';\n  }\n\n  const absoluteValue = Math.abs(value);\n\n  if (absoluteValue >= 1000) {\n    // Normal human being are more familiar\n    // with billion (B) that giga (G)\n    return siFormatter(value).replace('G', 'B');\n  }\n\n  if (absoluteValue >= 1) {\n    return float2PointFormatter(value);\n  }\n\n  if (absoluteValue >= 0.001) {\n    return float4PointFormatter(value);\n  }\n\n  if (absoluteValue > 0.000001) {\n    return siFormatter(value * 1000000) + \"\\xB5\";\n  }\n\n  return siFormatter(value);\n}\n\nconst BLANK = () => '';\n\nconst ADD_PLUS = (value) => value > 0 ? '+' : '';\n\nexport default function createSmartNumberFormatter({\n  signed = false,\n  id,\n  label,\n  description\n} = {}) {\n  const getSign = signed ? ADD_PLUS : BLANK;\n  return createNumberFormatter((value) => \"\" + getSign(value) + formatValue(value), {\n    id: (id != null ? id : signed) ? NumberFormats.signed.SMART_NUMBER : NumberFormats.SMART_NUMBER,\n    label: label != null ? label : 'Adaptive formatter',\n    description\n  });\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(siFormatter, \"siFormatter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js\");reactHotLoader.register(float2PointFormatter, \"float2PointFormatter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js\");reactHotLoader.register(float4PointFormatter, \"float4PointFormatter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js\");reactHotLoader.register(formatValue, \"formatValue\", \"/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js\");reactHotLoader.register(BLANK, \"BLANK\", \"/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js\");reactHotLoader.register(ADD_PLUS, \"ADD_PLUS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js\");reactHotLoader.register(createSmartNumberFormatter, \"createSmartNumberFormatter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["format","d3Format","NumberFormats","createNumberFormatter","siFormatter","float2PointFormatter","float4PointFormatter","formatValue","value","absoluteValue","Math","abs","replace","BLANK","ADD_PLUS","createSmartNumberFormatter","signed","id","label","description","getSign","SMART_NUMBER","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/node_modules/@encodable/format/esm/number/factories/createSmartNumberFormatter.js"],"sourcesContent":["import { format as d3Format } from 'd3-format';\nimport NumberFormats from '../NumberFormats';\nimport createNumberFormatter from '../createNumberFormatter';\nconst siFormatter = d3Format(\".3~s\");\nconst float2PointFormatter = d3Format(\".2~f\");\nconst float4PointFormatter = d3Format(\".4~f\");\n\nfunction formatValue(value) {\n  if (value === 0) {\n    return '0';\n  }\n\n  const absoluteValue = Math.abs(value);\n\n  if (absoluteValue >= 1000) {\n    // Normal human being are more familiar\n    // with billion (B) that giga (G)\n    return siFormatter(value).replace('G', 'B');\n  }\n\n  if (absoluteValue >= 1) {\n    return float2PointFormatter(value);\n  }\n\n  if (absoluteValue >= 0.001) {\n    return float4PointFormatter(value);\n  }\n\n  if (absoluteValue > 0.000001) {\n    return siFormatter(value * 1000000) + \"\\xB5\";\n  }\n\n  return siFormatter(value);\n}\n\nconst BLANK = () => '';\n\nconst ADD_PLUS = value => value > 0 ? '+' : '';\n\nexport default function createSmartNumberFormatter({\n  signed = false,\n  id,\n  label,\n  description\n} = {}) {\n  const getSign = signed ? ADD_PLUS : BLANK;\n  return createNumberFormatter(value => \"\" + getSign(value) + formatValue(value), {\n    id: (id != null ? id : signed) ? NumberFormats.signed.SMART_NUMBER : NumberFormats.SMART_NUMBER,\n    label: label != null ? label : 'Adaptive formatter',\n    description\n  });\n}"],"mappings":"uSAAA,SAASA,MAAM,IAAIC,QAAQ,QAAQ,WAAW;AAC9C,OAAOC,aAAa,MAAM,kBAAkB;AAC5C,OAAOC,qBAAqB,MAAM,0BAA0B;AAC5D,MAAMC,WAAW,GAAGH,QAAQ,CAAC,MAAM,CAAC;AACpC,MAAMI,oBAAoB,GAAGJ,QAAQ,CAAC,MAAM,CAAC;AAC7C,MAAMK,oBAAoB,GAAGL,QAAQ,CAAC,MAAM,CAAC;;AAE7C,SAASM,WAAWA,CAACC,KAAK,EAAE;EAC1B,IAAIA,KAAK,KAAK,CAAC,EAAE;IACf,OAAO,GAAG;EACZ;;EAEA,MAAMC,aAAa,GAAGC,IAAI,CAACC,GAAG,CAACH,KAAK,CAAC;;EAErC,IAAIC,aAAa,IAAI,IAAI,EAAE;IACzB;IACA;IACA,OAAOL,WAAW,CAACI,KAAK,CAAC,CAACI,OAAO,CAAC,GAAG,EAAE,GAAG,CAAC;EAC7C;;EAEA,IAAIH,aAAa,IAAI,CAAC,EAAE;IACtB,OAAOJ,oBAAoB,CAACG,KAAK,CAAC;EACpC;;EAEA,IAAIC,aAAa,IAAI,KAAK,EAAE;IAC1B,OAAOH,oBAAoB,CAACE,KAAK,CAAC;EACpC;;EAEA,IAAIC,aAAa,GAAG,QAAQ,EAAE;IAC5B,OAAOL,WAAW,CAACI,KAAK,GAAG,OAAO,CAAC,GAAG,MAAM;EAC9C;;EAEA,OAAOJ,WAAW,CAACI,KAAK,CAAC;AAC3B;;AAEA,MAAMK,KAAK,GAAGA,CAAA,KAAM,EAAE;;AAEtB,MAAMC,QAAQ,GAAGA,CAAAN,KAAK,KAAIA,KAAK,GAAG,CAAC,GAAG,GAAG,GAAG,EAAE;;AAE9C,eAAe,SAASO,0BAA0BA,CAAC;EACjDC,MAAM,GAAG,KAAK;EACdC,EAAE;EACFC,KAAK;EACLC;AACF,CAAC,GAAG,CAAC,CAAC,EAAE;EACN,MAAMC,OAAO,GAAGJ,MAAM,GAAGF,QAAQ,GAAGD,KAAK;EACzC,OAAOV,qBAAqB,CAAC,CAAAK,KAAK,KAAI,EAAE,GAAGY,OAAO,CAACZ,KAAK,CAAC,GAAGD,WAAW,CAACC,KAAK,CAAC,EAAE;IAC9ES,EAAE,EAAE,CAACA,EAAE,IAAI,IAAI,GAAGA,EAAE,GAAGD,MAAM,IAAId,aAAa,CAACc,MAAM,CAACK,YAAY,GAAGnB,aAAa,CAACmB,YAAY;IAC/FH,KAAK,EAAEA,KAAK,IAAI,IAAI,GAAGA,KAAK,GAAG,oBAAoB;IACnDC;EACF,CAAC,CAAC;AACJ,CAAC,mBAAAG,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAhDKtB,WAAW,6JAAAkB,cAAA,CAAAI,QAAA,CACXrB,oBAAoB,sKAAAiB,cAAA,CAAAI,QAAA,CACpBpB,oBAAoB,sKAAAgB,cAAA,CAAAI,QAAA,CAEjBnB,WAAW,6JAAAe,cAAA,CAAAI,QAAA,CA4Bdb,KAAK,uJAAAS,cAAA,CAAAI,QAAA,CAELZ,QAAQ,0JAAAQ,cAAA,CAAAI,QAAA,CAEUX,0BAA0B,oMAAAY,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}