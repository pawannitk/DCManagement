{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable react/sort-prop-types */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { getSequentialSchemeRegistry } from '@superset-ui/core';\n\nimport parcoords from './vendor/parcoords/d3.parcoords';\nimport divgrid from './vendor/parcoords/divgrid';\n\nconst propTypes = {\n  // Standard tabular data [{ fieldName1: value1, fieldName2: value2 }]\n  data: PropTypes.arrayOf(PropTypes.object),\n  width: PropTypes.number,\n  height: PropTypes.number,\n  colorMetric: PropTypes.string,\n  includeSeries: PropTypes.bool,\n  linearColorScheme: PropTypes.string,\n  metrics: PropTypes.arrayOf(PropTypes.string),\n  series: PropTypes.string,\n  showDatatable: PropTypes.bool\n};\n\nfunction ParallelCoordinates(element, props) {\n  const {\n    data,\n    width,\n    height,\n    colorMetric,\n    includeSeries,\n    linearColorScheme,\n    metrics,\n    series,\n    showDatatable\n  } = props;\n\n  const cols = includeSeries ? [series].concat(metrics) : metrics;\n\n  const ttypes = {};\n  ttypes[series] = 'string';\n  metrics.forEach((v) => {\n    ttypes[v] = 'number';\n  });\n\n  const colorScale = colorMetric ?\n  getSequentialSchemeRegistry().\n  get(linearColorScheme).\n  createLinearScale(d3.extent(data, (d) => d[colorMetric])) :\n  () => 'grey';\n  const color = (d) => colorScale(d[colorMetric]);\n  const container = d3.\n  select(element).\n  classed('superset-legacy-chart-parallel-coordinates', true);\n  container.selectAll('*').remove();\n  const effHeight = showDatatable ? height / 2 : height;\n\n  const div = container.\n  append('div').\n  style('height', `${effHeight}px`).\n  classed('parcoords', true);\n\n  const chart = parcoords()(div.node()).\n  width(width).\n  color(color).\n  alpha(0.5).\n  composite('darken').\n  height(effHeight).\n  data(data).\n  dimensions(cols).\n  types(ttypes).\n  render().\n  createAxes().\n  shadows().\n  reorderable().\n  brushMode('1D-axes');\n\n  if (showDatatable) {\n    // create data table, row hover highlighting\n    const grid = divgrid();\n    container.\n    append('div').\n    style('height', `${effHeight}px`).\n    datum(data).\n    call(grid).\n    classed('parcoords grid', true).\n    selectAll('.row').\n    on({\n      mouseover(d) {\n        chart.highlight([d]);\n      },\n      mouseout: chart.unhighlight\n    });\n    // update data table on brush event\n    chart.on('brush', (d) => {\n      d3.select('.grid').\n      datum(d).\n      call(grid).\n      selectAll('.row').\n      on({\n        mouseover(dd) {\n          chart.highlight([dd]);\n        },\n        mouseout: chart.unhighlight\n      });\n    });\n  }\n}\n\nParallelCoordinates.displayName = 'ParallelCoordinates';\nParallelCoordinates.propTypes = propTypes;const _default =\n\nParallelCoordinates;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ParallelCoordinates.js\");reactHotLoader.register(ParallelCoordinates, \"ParallelCoordinates\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ParallelCoordinates.js\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ParallelCoordinates.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["d3","PropTypes","getSequentialSchemeRegistry","parcoords","divgrid","propTypes","data","arrayOf","object","width","number","height","colorMetric","string","includeSeries","bool","linearColorScheme","metrics","series","showDatatable","ParallelCoordinates","element","props","cols","concat","ttypes","forEach","v","colorScale","get","createLinearScale","extent","d","color","container","select","classed","selectAll","remove","effHeight","div","append","style","chart","node","alpha","composite","dimensions","types","render","createAxes","shadows","reorderable","brushMode","grid","datum","call","on","mouseover","highlight","mouseout","unhighlight","dd","displayName","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-parallel-coordinates/src/ParallelCoordinates.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable react/sort-prop-types */\nimport d3 from 'd3';\nimport PropTypes from 'prop-types';\nimport { getSequentialSchemeRegistry } from '@superset-ui/core';\n\nimport parcoords from './vendor/parcoords/d3.parcoords';\nimport divgrid from './vendor/parcoords/divgrid';\n\nconst propTypes = {\n  // Standard tabular data [{ fieldName1: value1, fieldName2: value2 }]\n  data: PropTypes.arrayOf(PropTypes.object),\n  width: PropTypes.number,\n  height: PropTypes.number,\n  colorMetric: PropTypes.string,\n  includeSeries: PropTypes.bool,\n  linearColorScheme: PropTypes.string,\n  metrics: PropTypes.arrayOf(PropTypes.string),\n  series: PropTypes.string,\n  showDatatable: PropTypes.bool,\n};\n\nfunction ParallelCoordinates(element, props) {\n  const {\n    data,\n    width,\n    height,\n    colorMetric,\n    includeSeries,\n    linearColorScheme,\n    metrics,\n    series,\n    showDatatable,\n  } = props;\n\n  const cols = includeSeries ? [series].concat(metrics) : metrics;\n\n  const ttypes = {};\n  ttypes[series] = 'string';\n  metrics.forEach(v => {\n    ttypes[v] = 'number';\n  });\n\n  const colorScale = colorMetric\n    ? getSequentialSchemeRegistry()\n        .get(linearColorScheme)\n        .createLinearScale(d3.extent(data, d => d[colorMetric]))\n    : () => 'grey';\n  const color = d => colorScale(d[colorMetric]);\n  const container = d3\n    .select(element)\n    .classed('superset-legacy-chart-parallel-coordinates', true);\n  container.selectAll('*').remove();\n  const effHeight = showDatatable ? height / 2 : height;\n\n  const div = container\n    .append('div')\n    .style('height', `${effHeight}px`)\n    .classed('parcoords', true);\n\n  const chart = parcoords()(div.node())\n    .width(width)\n    .color(color)\n    .alpha(0.5)\n    .composite('darken')\n    .height(effHeight)\n    .data(data)\n    .dimensions(cols)\n    .types(ttypes)\n    .render()\n    .createAxes()\n    .shadows()\n    .reorderable()\n    .brushMode('1D-axes');\n\n  if (showDatatable) {\n    // create data table, row hover highlighting\n    const grid = divgrid();\n    container\n      .append('div')\n      .style('height', `${effHeight}px`)\n      .datum(data)\n      .call(grid)\n      .classed('parcoords grid', true)\n      .selectAll('.row')\n      .on({\n        mouseover(d) {\n          chart.highlight([d]);\n        },\n        mouseout: chart.unhighlight,\n      });\n    // update data table on brush event\n    chart.on('brush', d => {\n      d3.select('.grid')\n        .datum(d)\n        .call(grid)\n        .selectAll('.row')\n        .on({\n          mouseover(dd) {\n            chart.highlight([dd]);\n          },\n          mouseout: chart.unhighlight,\n        });\n    });\n  }\n}\n\nParallelCoordinates.displayName = 'ParallelCoordinates';\nParallelCoordinates.propTypes = propTypes;\n\nexport default ParallelCoordinates;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}