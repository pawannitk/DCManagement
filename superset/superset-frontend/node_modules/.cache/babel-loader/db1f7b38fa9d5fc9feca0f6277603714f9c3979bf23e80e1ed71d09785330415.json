{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { getColumnLabel, isDefined } from '@superset-ui/core';\nimport { getCrossFilterIndicator } from '../../selectors';\nexport const crossFiltersSelector = (props) => {\n  const { dataMask, chartConfiguration, dashboardLayout, verboseMaps } = props;\n  const chartsIds = Object.keys(chartConfiguration);\n  return chartsIds.\n  map((chartId) => {\n    const id = Number(chartId);\n    const filterIndicator = getCrossFilterIndicator(id, dataMask[id], dashboardLayout);\n    if (isDefined(filterIndicator.column) &&\n    isDefined(filterIndicator.value)) {var _verboseMaps$id;\n      const verboseColName = ((_verboseMaps$id = verboseMaps[id]) == null ? void 0 : _verboseMaps$id[getColumnLabel(filterIndicator.column)]) ||\n      filterIndicator.column;\n      return { ...filterIndicator, column: verboseColName, emitterId: id };\n    }\n    return null;\n  }).\n  filter(Boolean);\n};const _default =\ncrossFiltersSelector;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(crossFiltersSelector, \"crossFiltersSelector\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/selectors.ts\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/selectors.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["getColumnLabel","isDefined","getCrossFilterIndicator","crossFiltersSelector","props","dataMask","chartConfiguration","dashboardLayout","verboseMaps","chartsIds","Object","keys","map","chartId","id","Number","filterIndicator","column","value","_verboseMaps$id","verboseColName","emitterId","filter","Boolean","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/CrossFilters/selectors.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport {\n  DataMaskStateWithId,\n  getColumnLabel,\n  isDefined,\n  JsonObject,\n} from '@superset-ui/core';\nimport { DashboardLayout } from 'src/dashboard/types';\nimport { CrossFilterIndicator, getCrossFilterIndicator } from '../../selectors';\n\nexport const crossFiltersSelector = (props: {\n  dataMask: DataMaskStateWithId;\n  chartConfiguration: JsonObject;\n  dashboardLayout: DashboardLayout;\n  verboseMaps: { [key: string]: Record<string, string> };\n}): CrossFilterIndicator[] => {\n  const { dataMask, chartConfiguration, dashboardLayout, verboseMaps } = props;\n  const chartsIds = Object.keys(chartConfiguration);\n\n  return chartsIds\n    .map(chartId => {\n      const id = Number(chartId);\n      const filterIndicator = getCrossFilterIndicator(\n        id,\n        dataMask[id],\n        dashboardLayout,\n      );\n      if (\n        isDefined(filterIndicator.column) &&\n        isDefined(filterIndicator.value)\n      ) {\n        const verboseColName =\n          verboseMaps[id]?.[getColumnLabel(filterIndicator.column)] ||\n          filterIndicator.column;\n        return { ...filterIndicator, column: verboseColName, emitterId: id };\n      }\n      return null;\n    })\n    .filter(Boolean) as CrossFilterIndicator[];\n};\n\nexport default crossFiltersSelector;\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,SAEEA,cAAc,EACdC,SAAS,QAEJ,mBAAmB;AAE1B,SAA+BC,uBAAuB,QAAQ,iBAAiB;AAE/E,OAAO,MAAMC,oBAAoB,GAAGA,CAACC,KAKpC,KAA4B;EAC3B,MAAM,EAAEC,QAAQ,EAAEC,kBAAkB,EAAEC,eAAe,EAAEC,WAAW,EAAE,GAAGJ,KAAK;EAC5E,MAAMK,SAAS,GAAGC,MAAM,CAACC,IAAI,CAACL,kBAAkB,CAAC;EAEjD,OAAOG,SAAS;EACbG,GAAG,CAAC,CAAAC,OAAO,KAAG;IACb,MAAMC,EAAE,GAAGC,MAAM,CAACF,OAAO,CAAC;IAC1B,MAAMG,eAAe,GAAGd,uBAAuB,CAC7CY,EAAE,EACFT,QAAQ,CAACS,EAAE,CAAC,EACZP,eAAe,CAChB;IACD,IACEN,SAAS,CAACe,eAAe,CAACC,MAAM,CAAC;IACjChB,SAAS,CAACe,eAAe,CAACE,KAAK,CAAC,EAChC,KAAAC,eAAA;MACA,MAAMC,cAAc,GAClB,EAAAD,eAAA,GAAAX,WAAW,CAACM,EAAE,CAAC,qBAAfK,eAAA,CAAkBnB,cAAc,CAACgB,eAAe,CAACC,MAAM,CAAC,CAAC;MACzDD,eAAe,CAACC,MAAM;MACxB,OAAO,EAAE,GAAGD,eAAe,EAAEC,MAAM,EAAEG,cAAc,EAAEC,SAAS,EAAEP,EAAE,EAAE;;IAEtE,OAAO,IAAI;EACb,CAAC,CAAC;EACDQ,MAAM,CAACC,OAAO,CAA2B;AAC9C,CAAC,CAAC,MAAAC,QAAA;AAEarB,oBAAoB,CAAnC,eAAAqB,QAAA,CAAoC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA/BvB1B,oBAAoB,+JAAAsB,cAAA,CAAAI,QAAA,CAAAL,QAAA,0KAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}