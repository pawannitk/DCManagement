{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useContext, useEffect, useRef, useState } from 'react';\nimport { css, getExtensionsRegistry, styled, t } from '@superset-ui/core';\nimport { useUiConfig } from 'src/components/UiConfigContext';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useSelector } from 'react-redux';\nimport EditableTitle from 'src/components/EditableTitle';\nimport SliceHeaderControls from 'src/dashboard/components/SliceHeaderControls';\nimport FiltersBadge from 'src/dashboard/components/FiltersBadge';\nimport Icons from 'src/components/Icons';\nimport { getSliceHeaderTooltip } from 'src/dashboard/util/getSliceHeaderTooltip';\nimport { DashboardPageIdContext } from 'src/dashboard/containers/DashboardPage';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst extensionsRegistry = getExtensionsRegistry();\nconst annotationsLoading = t('Annotation layers are still loading.');\nconst annotationsError = t('One ore more annotation layers failed loading.');\nconst CrossFilterIcon = styled(Icons.ApartmentOutlined)`\n  ${({ theme }) => `\n    cursor: default;\n    color: ${theme.colors.primary.base};\n    line-height: 1.8;\n  `}\n`;\nconst ChartHeaderStyles = styled.div`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.l}px;\n    font-weight: ${theme.typography.weights.bold};\n    margin-bottom: ${theme.gridUnit}px;\n    display: flex;\n    max-width: 100%;\n    align-items: flex-start;\n    min-height: 0;\n\n    & > .header-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 100%;\n      flex-grow: 1;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n\n      & > span.ant-tooltip-open {\n        display: inline;\n      }\n    }\n\n    & > .header-controls {\n      display: flex;\n      align-items: center;\n      height: 24px;\n\n      & > * {\n        margin-left: ${theme.gridUnit * 2}px;\n      }\n    }\n\n    .dropdown.btn-group {\n      pointer-events: none;\n      vertical-align: top;\n      & > * {\n        pointer-events: auto;\n      }\n    }\n\n    .dropdown-toggle.btn.btn-default {\n      background: none;\n      border: none;\n      box-shadow: none;\n    }\n\n    .dropdown-menu.dropdown-menu-right {\n      top: ${theme.gridUnit * 5}px;\n    }\n\n    .divider {\n      margin: ${theme.gridUnit}px 0;\n    }\n\n    .refresh-tooltip {\n      display: block;\n      height: ${theme.gridUnit * 4}px;\n      margin: ${theme.gridUnit}px 0;\n      color: ${theme.colors.text.label};\n    }\n  `}\n`;\nconst SliceHeader = ({ innerRef = null, forceRefresh = () => ({}), updateSliceName = () => ({}), toggleExpandSlice = () => ({}), logExploreChart = () => ({}), logEvent, exportCSV = () => ({}), exportXLSX = () => ({}), editMode = false, annotationQuery = {}, annotationError = {}, cachedDttm = null, updatedDttm = null, isCached = [], isExpanded = false, sliceName = '', supersetCanExplore = false, supersetCanShare = false, supersetCanCSV = false, exportFullCSV, exportFullXLSX, slice, componentId, dashboardId, addSuccessToast, addDangerToast, handleToggleFullSize, isFullSize, chartStatus, formData, width, height }) => {\n  const SliceHeaderExtension = extensionsRegistry.get('dashboard.slice.header');\n  const uiConfig = useUiConfig();\n  const dashboardPageId = useContext(DashboardPageIdContext);\n  const [headerTooltip, setHeaderTooltip] = useState(null);\n  const headerRef = useRef(null);\n  // TODO: change to indicator field after it will be implemented\n  const crossFilterValue = useSelector((state) => {var _state$dataMask$slice, _state$dataMask$slice2;return (_state$dataMask$slice = state.dataMask[slice == null ? void 0 : slice.slice_id]) == null ? void 0 : (_state$dataMask$slice2 = _state$dataMask$slice.filterState) == null ? void 0 : _state$dataMask$slice2.value;});\n  const isCrossFiltersEnabled = useSelector(({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled);\n  const canExplore = !editMode && supersetCanExplore;\n  useEffect(() => {\n    const headerElement = headerRef.current;\n    if (canExplore) {\n      setHeaderTooltip(getSliceHeaderTooltip(sliceName));\n    } else\n    if (headerElement && (\n    headerElement.scrollWidth > headerElement.offsetWidth ||\n    headerElement.scrollHeight > headerElement.offsetHeight)) {\n      setHeaderTooltip(sliceName != null ? sliceName : null);\n    } else\n    {\n      setHeaderTooltip(null);\n    }\n  }, [sliceName, width, height, canExplore]);\n  const exploreUrl = `/explore/?dashboard_page_id=${dashboardPageId}&slice_id=${slice.slice_id}`;\n  return ___EmotionJSX(ChartHeaderStyles, { \"data-test\": \"slice-header\", ref: innerRef },\n  ___EmotionJSX(\"div\", { className: \"header-title\", ref: headerRef },\n  ___EmotionJSX(Tooltip, { title: headerTooltip },\n  ___EmotionJSX(EditableTitle, { title: sliceName || (\n    editMode ?\n    '---' // this makes an empty title clickable\n    : ''), canEdit: editMode, onSaveTitle: updateSliceName, showTooltip: false, url: canExplore ? exploreUrl : undefined })\n  ),\n  !!Object.values(annotationQuery).length && ___EmotionJSX(Tooltip, { id: \"annotations-loading-tooltip\", placement: \"top\", title: annotationsLoading },\n  ___EmotionJSX(\"i\", { role: \"img\", \"aria-label\": annotationsLoading, className: \"fa fa-refresh warning\" })\n  ),\n  !!Object.values(annotationError).length && ___EmotionJSX(Tooltip, { id: \"annotation-errors-tooltip\", placement: \"top\", title: annotationsError },\n  ___EmotionJSX(\"i\", { role: \"img\", \"aria-label\": annotationsError, className: \"fa fa-exclamation-circle danger\" })\n  )\n  ),\n  ___EmotionJSX(\"div\", { className: \"header-controls\" },\n  !editMode && ___EmotionJSX(React.Fragment, null,\n  SliceHeaderExtension && ___EmotionJSX(SliceHeaderExtension, { sliceId: slice.slice_id, dashboardId: dashboardId }),\n  crossFilterValue && ___EmotionJSX(Tooltip, { placement: \"top\", title: t('This chart applies cross-filters to charts whose datasets contain columns with the same name.') },\n  ___EmotionJSX(CrossFilterIcon, { iconSize: \"m\" })\n  ),\n  !uiConfig.hideChartControls && ___EmotionJSX(FiltersBadge, { chartId: slice.slice_id }),\n  !uiConfig.hideChartControls && ___EmotionJSX(SliceHeaderControls, { slice: slice, isCached: isCached, isExpanded: isExpanded, cachedDttm: cachedDttm, updatedDttm: updatedDttm, toggleExpandSlice: toggleExpandSlice, forceRefresh: forceRefresh, logExploreChart: logExploreChart, logEvent: logEvent, exportCSV: exportCSV, exportFullCSV: exportFullCSV, exportXLSX: exportXLSX, exportFullXLSX: exportFullXLSX, supersetCanExplore: supersetCanExplore, supersetCanShare: supersetCanShare, supersetCanCSV: supersetCanCSV, componentId: componentId, dashboardId: dashboardId, addSuccessToast: addSuccessToast, addDangerToast: addDangerToast, handleToggleFullSize: handleToggleFullSize, isFullSize: isFullSize, isDescriptionExpanded: isExpanded, chartStatus: chartStatus, formData: formData, exploreUrl: exploreUrl, crossFiltersEnabled: isCrossFiltersEnabled })\n  )\n  )\n  );\n};__signature__(SliceHeader, \"useUiConfig{uiConfig}\\nuseContext{dashboardPageId}\\nuseState{[headerTooltip, setHeaderTooltip](null)}\\nuseRef{headerRef}\\nuseSelector{crossFilterValue}\\nuseSelector{isCrossFiltersEnabled}\\nuseEffect{}\", () => [useUiConfig, useSelector, useSelector]);const _default =\nSliceHeader;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(extensionsRegistry, \"extensionsRegistry\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(annotationsLoading, \"annotationsLoading\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(annotationsError, \"annotationsError\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(CrossFilterIcon, \"CrossFilterIcon\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(ChartHeaderStyles, \"ChartHeaderStyles\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(SliceHeader, \"SliceHeader\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useContext","useEffect","useRef","useState","css","getExtensionsRegistry","styled","t","useUiConfig","Tooltip","useSelector","EditableTitle","SliceHeaderControls","FiltersBadge","Icons","getSliceHeaderTooltip","DashboardPageIdContext","jsx","___EmotionJSX","extensionsRegistry","annotationsLoading","annotationsError","CrossFilterIcon","ApartmentOutlined","theme","colors","primary","base","ChartHeaderStyles","div","typography","sizes","l","weights","bold","gridUnit","text","label","SliceHeader","innerRef","forceRefresh","updateSliceName","toggleExpandSlice","logExploreChart","logEvent","exportCSV","exportXLSX","editMode","annotationQuery","annotationError","cachedDttm","updatedDttm","isCached","isExpanded","sliceName","supersetCanExplore","supersetCanShare","supersetCanCSV","exportFullCSV","exportFullXLSX","slice","componentId","dashboardId","addSuccessToast","addDangerToast","handleToggleFullSize","isFullSize","chartStatus","formData","width","height","SliceHeaderExtension","get","uiConfig","dashboardPageId","headerTooltip","setHeaderTooltip","headerRef","crossFilterValue","state","_state$dataMask$slice","_state$dataMask$slice2","dataMask","slice_id","filterState","value","isCrossFiltersEnabled","dashboardInfo","crossFiltersEnabled","canExplore","headerElement","current","scrollWidth","offsetWidth","scrollHeight","offsetHeight","exploreUrl","ref","className","title","canEdit","onSaveTitle","showTooltip","url","undefined","Object","values","length","id","placement","role","Fragment","sliceId","iconSize","hideChartControls","chartId","isDescriptionExpanded","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/SliceHeader/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  FC,\n  ReactNode,\n  useContext,\n  useEffect,\n  useRef,\n  useState,\n} from 'react';\nimport { css, getExtensionsRegistry, styled, t } from '@superset-ui/core';\nimport { useUiConfig } from 'src/components/UiConfigContext';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { useSelector } from 'react-redux';\nimport EditableTitle from 'src/components/EditableTitle';\nimport SliceHeaderControls, {\n  SliceHeaderControlsProps,\n} from 'src/dashboard/components/SliceHeaderControls';\nimport FiltersBadge from 'src/dashboard/components/FiltersBadge';\nimport Icons from 'src/components/Icons';\nimport { RootState } from 'src/dashboard/types';\nimport { getSliceHeaderTooltip } from 'src/dashboard/util/getSliceHeaderTooltip';\nimport { DashboardPageIdContext } from 'src/dashboard/containers/DashboardPage';\n\nconst extensionsRegistry = getExtensionsRegistry();\n\ntype SliceHeaderProps = SliceHeaderControlsProps & {\n  innerRef?: string;\n  updateSliceName?: (arg0: string) => void;\n  editMode?: boolean;\n  annotationQuery?: object;\n  annotationError?: object;\n  sliceName?: string;\n  filters: object;\n  handleToggleFullSize: () => void;\n  formData: object;\n  width: number;\n  height: number;\n};\n\nconst annotationsLoading = t('Annotation layers are still loading.');\nconst annotationsError = t('One ore more annotation layers failed loading.');\nconst CrossFilterIcon = styled(Icons.ApartmentOutlined)`\n  ${({ theme }) => `\n    cursor: default;\n    color: ${theme.colors.primary.base};\n    line-height: 1.8;\n  `}\n`;\n\nconst ChartHeaderStyles = styled.div`\n  ${({ theme }) => css`\n    font-size: ${theme.typography.sizes.l}px;\n    font-weight: ${theme.typography.weights.bold};\n    margin-bottom: ${theme.gridUnit}px;\n    display: flex;\n    max-width: 100%;\n    align-items: flex-start;\n    min-height: 0;\n\n    & > .header-title {\n      overflow: hidden;\n      text-overflow: ellipsis;\n      max-width: 100%;\n      flex-grow: 1;\n      display: -webkit-box;\n      -webkit-line-clamp: 2;\n      -webkit-box-orient: vertical;\n\n      & > span.ant-tooltip-open {\n        display: inline;\n      }\n    }\n\n    & > .header-controls {\n      display: flex;\n      align-items: center;\n      height: 24px;\n\n      & > * {\n        margin-left: ${theme.gridUnit * 2}px;\n      }\n    }\n\n    .dropdown.btn-group {\n      pointer-events: none;\n      vertical-align: top;\n      & > * {\n        pointer-events: auto;\n      }\n    }\n\n    .dropdown-toggle.btn.btn-default {\n      background: none;\n      border: none;\n      box-shadow: none;\n    }\n\n    .dropdown-menu.dropdown-menu-right {\n      top: ${theme.gridUnit * 5}px;\n    }\n\n    .divider {\n      margin: ${theme.gridUnit}px 0;\n    }\n\n    .refresh-tooltip {\n      display: block;\n      height: ${theme.gridUnit * 4}px;\n      margin: ${theme.gridUnit}px 0;\n      color: ${theme.colors.text.label};\n    }\n  `}\n`;\n\nconst SliceHeader: FC<SliceHeaderProps> = ({\n  innerRef = null,\n  forceRefresh = () => ({}),\n  updateSliceName = () => ({}),\n  toggleExpandSlice = () => ({}),\n  logExploreChart = () => ({}),\n  logEvent,\n  exportCSV = () => ({}),\n  exportXLSX = () => ({}),\n  editMode = false,\n  annotationQuery = {},\n  annotationError = {},\n  cachedDttm = null,\n  updatedDttm = null,\n  isCached = [],\n  isExpanded = false,\n  sliceName = '',\n  supersetCanExplore = false,\n  supersetCanShare = false,\n  supersetCanCSV = false,\n  exportFullCSV,\n  exportFullXLSX,\n  slice,\n  componentId,\n  dashboardId,\n  addSuccessToast,\n  addDangerToast,\n  handleToggleFullSize,\n  isFullSize,\n  chartStatus,\n  formData,\n  width,\n  height,\n}) => {\n  const SliceHeaderExtension = extensionsRegistry.get('dashboard.slice.header');\n  const uiConfig = useUiConfig();\n  const dashboardPageId = useContext(DashboardPageIdContext);\n  const [headerTooltip, setHeaderTooltip] = useState<ReactNode | null>(null);\n  const headerRef = useRef<HTMLDivElement>(null);\n  // TODO: change to indicator field after it will be implemented\n  const crossFilterValue = useSelector<RootState, any>(\n    state => state.dataMask[slice?.slice_id]?.filterState?.value,\n  );\n  const isCrossFiltersEnabled = useSelector<RootState, boolean>(\n    ({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled,\n  );\n\n  const canExplore = !editMode && supersetCanExplore;\n\n  useEffect(() => {\n    const headerElement = headerRef.current;\n    if (canExplore) {\n      setHeaderTooltip(getSliceHeaderTooltip(sliceName));\n    } else if (\n      headerElement &&\n      (headerElement.scrollWidth > headerElement.offsetWidth ||\n        headerElement.scrollHeight > headerElement.offsetHeight)\n    ) {\n      setHeaderTooltip(sliceName ?? null);\n    } else {\n      setHeaderTooltip(null);\n    }\n  }, [sliceName, width, height, canExplore]);\n\n  const exploreUrl = `/explore/?dashboard_page_id=${dashboardPageId}&slice_id=${slice.slice_id}`;\n\n  return (\n    <ChartHeaderStyles data-test=\"slice-header\" ref={innerRef}>\n      <div className=\"header-title\" ref={headerRef}>\n        <Tooltip title={headerTooltip}>\n          <EditableTitle\n            title={\n              sliceName ||\n              (editMode\n                ? '---' // this makes an empty title clickable\n                : '')\n            }\n            canEdit={editMode}\n            onSaveTitle={updateSliceName}\n            showTooltip={false}\n            url={canExplore ? exploreUrl : undefined}\n          />\n        </Tooltip>\n        {!!Object.values(annotationQuery).length && (\n          <Tooltip\n            id=\"annotations-loading-tooltip\"\n            placement=\"top\"\n            title={annotationsLoading}\n          >\n            <i\n              role=\"img\"\n              aria-label={annotationsLoading}\n              className=\"fa fa-refresh warning\"\n            />\n          </Tooltip>\n        )}\n        {!!Object.values(annotationError).length && (\n          <Tooltip\n            id=\"annotation-errors-tooltip\"\n            placement=\"top\"\n            title={annotationsError}\n          >\n            <i\n              role=\"img\"\n              aria-label={annotationsError}\n              className=\"fa fa-exclamation-circle danger\"\n            />\n          </Tooltip>\n        )}\n      </div>\n      <div className=\"header-controls\">\n        {!editMode && (\n          <>\n            {SliceHeaderExtension && (\n              <SliceHeaderExtension\n                sliceId={slice.slice_id}\n                dashboardId={dashboardId}\n              />\n            )}\n            {crossFilterValue && (\n              <Tooltip\n                placement=\"top\"\n                title={t(\n                  'This chart applies cross-filters to charts whose datasets contain columns with the same name.',\n                )}\n              >\n                <CrossFilterIcon iconSize=\"m\" />\n              </Tooltip>\n            )}\n            {!uiConfig.hideChartControls && (\n              <FiltersBadge chartId={slice.slice_id} />\n            )}\n            {!uiConfig.hideChartControls && (\n              <SliceHeaderControls\n                slice={slice}\n                isCached={isCached}\n                isExpanded={isExpanded}\n                cachedDttm={cachedDttm}\n                updatedDttm={updatedDttm}\n                toggleExpandSlice={toggleExpandSlice}\n                forceRefresh={forceRefresh}\n                logExploreChart={logExploreChart}\n                logEvent={logEvent}\n                exportCSV={exportCSV}\n                exportFullCSV={exportFullCSV}\n                exportXLSX={exportXLSX}\n                exportFullXLSX={exportFullXLSX}\n                supersetCanExplore={supersetCanExplore}\n                supersetCanShare={supersetCanShare}\n                supersetCanCSV={supersetCanCSV}\n                componentId={componentId}\n                dashboardId={dashboardId}\n                addSuccessToast={addSuccessToast}\n                addDangerToast={addDangerToast}\n                handleToggleFullSize={handleToggleFullSize}\n                isFullSize={isFullSize}\n                isDescriptionExpanded={isExpanded}\n                chartStatus={chartStatus}\n                formData={formData}\n                exploreUrl={exploreUrl}\n                crossFiltersEnabled={isCrossFiltersEnabled}\n              />\n            )}\n          </>\n        )}\n      </div>\n    </ChartHeaderStyles>\n  );\n};\n\nexport default SliceHeader;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}