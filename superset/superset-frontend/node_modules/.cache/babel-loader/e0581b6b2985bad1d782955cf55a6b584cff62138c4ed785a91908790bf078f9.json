{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport moment from 'moment';\nimport { t, styled } from '@superset-ui/core';\nimport TableView, { EmptyWrapperType } from 'src/components/TableView';\nimport { TagsList } from 'src/components/Tags';\nimport FacePile from 'src/components/FacePile';\nimport { EmptyStateBig } from 'src/components/EmptyState';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst MAX_TAGS_TO_SHOW = 3;\nconst PAGE_SIZE = 10;\nconst AllEntitiesTableContainer = styled.div`\n  text-align: left;\n  border-radius: ${({ theme }) => theme.gridUnit * 1}px 0;\n  .table {\n    table-layout: fixed;\n  }\n  .td {\n    width: 33%;\n  }\n  .entity-title {\n    font-family: Inter;\n    font-size: ${({ theme }) => theme.typography.sizes.m}px;\n    font-weight: ${({ theme }) => theme.typography.weights.medium};\n    line-height: 17px;\n    letter-spacing: 0px;\n    text-align: left;\n    margin: ${({ theme }) => theme.gridUnit * 4}px 0;\n  }\n`;\nexport default function AllEntitiesTable({ search = '', setShowTagModal, objects }) {\n  const showListViewObjs = objects.dashboard.length > 0 ||\n  objects.chart.length > 0 ||\n  objects.query.length > 0;\n  const renderTable = (type) => {\n    const data = objects[type].map((o) => ({\n      [type]: ___EmotionJSX(\"a\", { href: o.url }, o.name),\n      modified: moment.utc(o.changed_on).fromNow(),\n      tags: o.tags,\n      owners: o.owners\n    }));\n    return ___EmotionJSX(TableView, { className: \"table-condensed\", emptyWrapperType: EmptyWrapperType.Small, data: data, pageSize: PAGE_SIZE, columns: [\n      {\n        accessor: type,\n        Header: 'Title'\n      },\n      {\n        Cell: ({ row: { original: { tags = [] } } }) =>\n        // Only show custom type tags\n        ___EmotionJSX(TagsList, { tags: tags.filter((tag) => tag.type === 'TagTypes.custom' || tag.type === 1), maxTags: MAX_TAGS_TO_SHOW }),\n        Header: t('Tags'),\n        accessor: 'tags',\n        disableSortBy: true\n      },\n      {\n        Cell: ({ row: { original: { owners = [] } } }) => ___EmotionJSX(FacePile, { users: owners }),\n        Header: t('Owners'),\n        accessor: 'owners',\n        disableSortBy: true,\n        size: 'xl'\n      }] }\n    );\n  };\n  return ___EmotionJSX(AllEntitiesTableContainer, null,\n  showListViewObjs ? ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(\"div\", { className: \"entity-title\" }, t('Dashboards')),\n  renderTable('dashboard'),\n  ___EmotionJSX(\"div\", { className: \"entity-title\" }, t('Charts')),\n  renderTable('chart'),\n  ___EmotionJSX(\"div\", { className: \"entity-title\" }, t('Queries')),\n  renderTable('query')\n  ) : ___EmotionJSX(EmptyStateBig, { image: \"dashboard.svg\", title: t('No entities have this tag currently assigned'), buttonAction: () => setShowTagModal(true), buttonText: t('Add tag to entities') })\n  );\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(MAX_TAGS_TO_SHOW, \"MAX_TAGS_TO_SHOW\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/allEntities/AllEntitiesTable.tsx\");reactHotLoader.register(PAGE_SIZE, \"PAGE_SIZE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/allEntities/AllEntitiesTable.tsx\");reactHotLoader.register(AllEntitiesTableContainer, \"AllEntitiesTableContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/allEntities/AllEntitiesTable.tsx\");reactHotLoader.register(AllEntitiesTable, \"AllEntitiesTable\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/features/allEntities/AllEntitiesTable.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","moment","t","styled","TableView","EmptyWrapperType","TagsList","FacePile","EmptyStateBig","jsx","___EmotionJSX","MAX_TAGS_TO_SHOW","PAGE_SIZE","AllEntitiesTableContainer","div","theme","gridUnit","typography","sizes","m","weights","medium","AllEntitiesTable","search","setShowTagModal","objects","showListViewObjs","dashboard","length","chart","query","renderTable","type","data","map","o","href","url","name","modified","utc","changed_on","fromNow","tags","owners","className","emptyWrapperType","Small","pageSize","columns","accessor","Header","Cell","row","original","filter","tag","maxTags","disableSortBy","users","size","Fragment","image","title","buttonAction","buttonText","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/features/allEntities/AllEntitiesTable.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport moment from 'moment';\nimport { t, styled } from '@superset-ui/core';\nimport TableView, { EmptyWrapperType } from 'src/components/TableView';\nimport { TagsList } from 'src/components/Tags';\nimport FacePile from 'src/components/FacePile';\nimport Tag from 'src/types/TagType';\nimport Owner from 'src/types/Owner';\nimport { EmptyStateBig } from 'src/components/EmptyState';\n\nconst MAX_TAGS_TO_SHOW = 3;\nconst PAGE_SIZE = 10;\n\nconst AllEntitiesTableContainer = styled.div`\n  text-align: left;\n  border-radius: ${({ theme }) => theme.gridUnit * 1}px 0;\n  .table {\n    table-layout: fixed;\n  }\n  .td {\n    width: 33%;\n  }\n  .entity-title {\n    font-family: Inter;\n    font-size: ${({ theme }) => theme.typography.sizes.m}px;\n    font-weight: ${({ theme }) => theme.typography.weights.medium};\n    line-height: 17px;\n    letter-spacing: 0px;\n    text-align: left;\n    margin: ${({ theme }) => theme.gridUnit * 4}px 0;\n  }\n`;\n\ninterface TaggedObject {\n  id: number;\n  type: string;\n  name: string;\n  url: string;\n  changed_on: moment.MomentInput;\n  created_by: number | undefined;\n  creator: string;\n  owners: Owner[];\n  tags: Tag[];\n}\n\nexport interface TaggedObjects {\n  dashboard: TaggedObject[];\n  chart: TaggedObject[];\n  query: TaggedObject[];\n}\n\ninterface AllEntitiesTableProps {\n  search?: string;\n  setShowTagModal: (show: boolean) => void;\n  objects: TaggedObjects;\n}\n\nexport default function AllEntitiesTable({\n  search = '',\n  setShowTagModal,\n  objects,\n}: AllEntitiesTableProps) {\n  type objectType = 'dashboard' | 'chart' | 'query';\n\n  const showListViewObjs =\n    objects.dashboard.length > 0 ||\n    objects.chart.length > 0 ||\n    objects.query.length > 0;\n\n  const renderTable = (type: objectType) => {\n    const data = objects[type].map((o: TaggedObject) => ({\n      [type]: <a href={o.url}>{o.name}</a>,\n      modified: moment.utc(o.changed_on).fromNow(),\n      tags: o.tags,\n      owners: o.owners,\n    }));\n\n    return (\n      <TableView\n        className=\"table-condensed\"\n        emptyWrapperType={EmptyWrapperType.Small}\n        data={data}\n        pageSize={PAGE_SIZE}\n        columns={[\n          {\n            accessor: type,\n            Header: 'Title',\n          },\n          {\n            Cell: ({\n              row: {\n                original: { tags = [] },\n              },\n            }: {\n              row: {\n                original: {\n                  tags: Tag[];\n                };\n              };\n            }) => (\n              // Only show custom type tags\n              <TagsList\n                tags={tags.filter(\n                  (tag: Tag) =>\n                    tag.type === 'TagTypes.custom' || tag.type === 1,\n                )}\n                maxTags={MAX_TAGS_TO_SHOW}\n              />\n            ),\n            Header: t('Tags'),\n            accessor: 'tags',\n            disableSortBy: true,\n          },\n          {\n            Cell: ({\n              row: {\n                original: { owners = [] },\n              },\n            }: any) => <FacePile users={owners} />,\n            Header: t('Owners'),\n            accessor: 'owners',\n            disableSortBy: true,\n            size: 'xl',\n          },\n        ]}\n      />\n    );\n  };\n\n  return (\n    <AllEntitiesTableContainer>\n      {showListViewObjs ? (\n        <>\n          <div className=\"entity-title\">{t('Dashboards')}</div>\n          {renderTable('dashboard')}\n          <div className=\"entity-title\">{t('Charts')}</div>\n          {renderTable('chart')}\n          <div className=\"entity-title\">{t('Queries')}</div>\n          {renderTable('query')}\n        </>\n      ) : (\n        <EmptyStateBig\n          image=\"dashboard.svg\"\n          title={t('No entities have this tag currently assigned')}\n          buttonAction={() => setShowTagModal(true)}\n          buttonText={t('Add tag to entities')}\n        />\n      )}\n    </AllEntitiesTableContainer>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}