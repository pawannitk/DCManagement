{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useMemo } from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport { Select } from 'src/components';\nimport { FormLabel } from 'src/components/Form';\nimport { SELECT_WIDTH } from './utils';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst SortContainer = styled.div`\n  display: inline-flex;\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  align-items: center;\n  text-align: left;\n  width: ${SELECT_WIDTH}px;\n`;\nexport const CardSortSelect = ({ initialSort, onChange, options }) => {\n  const defaultSort = initialSort &&\n  options.find(({ id, desc }) => id === initialSort[0].id && desc === initialSort[0].desc) ||\n  options[0];\n  const [value, setValue] = useState({\n    label: defaultSort.label,\n    value: defaultSort.value\n  });\n  const formattedOptions = useMemo(() => options.map((option) => ({ label: option.label, value: option.value })), [options]);\n  const handleOnChange = (selected) => {\n    setValue(selected);\n    const originalOption = options.find(({ value }) => value === selected.value);\n    if (originalOption) {\n      const sortBy = [\n      {\n        id: originalOption.id,\n        desc: originalOption.desc\n      }];\n\n      onChange(sortBy);\n    }\n  };\n  return ___EmotionJSX(SortContainer, null,\n  ___EmotionJSX(Select, { ariaLabel: t('Sort'), header: ___EmotionJSX(FormLabel, null, t('Sort')), labelInValue: true, onChange: handleOnChange, options: formattedOptions, showSearch: true, value: value })\n  );\n};__signature__(CardSortSelect, \"useState{[value, setValue]({\\n        label: defaultSort.label,\\n        value: defaultSort.value,\\n    })}\\nuseMemo{formattedOptions}\");;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(SortContainer, \"SortContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ListView/CardSortSelect.tsx\");reactHotLoader.register(CardSortSelect, \"CardSortSelect\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ListView/CardSortSelect.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useState","useMemo","styled","t","Select","FormLabel","SELECT_WIDTH","jsx","___EmotionJSX","SortContainer","div","theme","typography","sizes","s","CardSortSelect","initialSort","onChange","options","defaultSort","find","id","desc","value","setValue","label","formattedOptions","map","option","handleOnChange","selected","originalOption","sortBy","ariaLabel","header","labelInValue","showSearch","__signature__","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ListView/CardSortSelect.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useMemo } from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport { Select } from 'src/components';\nimport { FormLabel } from 'src/components/Form';\nimport { SELECT_WIDTH } from './utils';\nimport { CardSortSelectOption, SortColumn } from './types';\n\nconst SortContainer = styled.div`\n  display: inline-flex;\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  align-items: center;\n  text-align: left;\n  width: ${SELECT_WIDTH}px;\n`;\n\ninterface CardViewSelectSortProps {\n  onChange: (value: SortColumn[]) => void;\n  options: Array<CardSortSelectOption>;\n  initialSort?: SortColumn[];\n}\n\nexport const CardSortSelect = ({\n  initialSort,\n  onChange,\n  options,\n}: CardViewSelectSortProps) => {\n  const defaultSort =\n    (initialSort &&\n      options.find(\n        ({ id, desc }) =>\n          id === initialSort[0].id && desc === initialSort[0].desc,\n      )) ||\n    options[0];\n\n  const [value, setValue] = useState({\n    label: defaultSort.label,\n    value: defaultSort.value,\n  });\n\n  const formattedOptions = useMemo(\n    () => options.map(option => ({ label: option.label, value: option.value })),\n    [options],\n  );\n\n  const handleOnChange = (selected: { label: string; value: string }) => {\n    setValue(selected);\n    const originalOption = options.find(\n      ({ value }) => value === selected.value,\n    );\n    if (originalOption) {\n      const sortBy = [\n        {\n          id: originalOption.id,\n          desc: originalOption.desc,\n        },\n      ];\n      onChange(sortBy);\n    }\n  };\n\n  return (\n    <SortContainer>\n      <Select\n        ariaLabel={t('Sort')}\n        header={<FormLabel>{t('Sort')}</FormLabel>}\n        labelInValue\n        onChange={handleOnChange}\n        options={formattedOptions}\n        showSearch\n        value={value}\n      />\n    </SortContainer>\n  );\n};\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,OAAO,QAAQ,OAAO;AAChD,SAASC,MAAM,EAAEC,CAAC,QAAQ,mBAAmB;AAC7C,SAASC,MAAM,QAAQ,gBAAgB;AACvC,SAASC,SAAS,QAAQ,qBAAqB;AAC/C,SAASC,YAAY,QAAQ,SAAS,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAGvC,MAAMC,aAAa,GAAGP,MAAM,CAACQ,GAAG;;eAEjB,CAAC,EAAEC,KAAK,EAAE,KAAKA,KAAK,CAACC,UAAU,CAACC,KAAK,CAACC,CAAC;;;WAG3CR,YAAY;CACtB;AAQD,OAAO,MAAMS,cAAc,GAAGA,CAAC,EAC7BC,WAAW,EACXC,QAAQ,EACRC,OAAO,EACiB,KAAI;EAC5B,MAAMC,WAAW,GACdH,WAAW;EACVE,OAAO,CAACE,IAAI,CACV,CAAC,EAAEC,EAAE,EAAEC,IAAI,EAAE,KACXD,EAAE,KAAKL,WAAW,CAAC,CAAC,CAAC,CAACK,EAAE,IAAIC,IAAI,KAAKN,WAAW,CAAC,CAAC,CAAC,CAACM,IAAI,CAC3D;EACHJ,OAAO,CAAC,CAAC,CAAC;EAEZ,MAAM,CAACK,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,CAAC;IACjCyB,KAAK,EAAEN,WAAW,CAACM,KAAK;IACxBF,KAAK,EAAEJ,WAAW,CAACI;GACpB,CAAC;EAEF,MAAMG,gBAAgB,GAAGzB,OAAO,CAC9B,MAAMiB,OAAO,CAACS,GAAG,CAAC,CAAAC,MAAM,MAAK,EAAEH,KAAK,EAAEG,MAAM,CAACH,KAAK,EAAEF,KAAK,EAAEK,MAAM,CAACL,KAAK,EAAE,CAAC,CAAC,EAC3E,CAACL,OAAO,CAAC,CACV;EAED,MAAMW,cAAc,GAAGA,CAACC,QAA0C,KAAI;IACpEN,QAAQ,CAACM,QAAQ,CAAC;IAClB,MAAMC,cAAc,GAAGb,OAAO,CAACE,IAAI,CACjC,CAAC,EAAEG,KAAK,EAAE,KAAKA,KAAK,KAAKO,QAAQ,CAACP,KAAK,CACxC;IACD,IAAIQ,cAAc,EAAE;MAClB,MAAMC,MAAM,GAAG;MACb;QACEX,EAAE,EAAEU,cAAc,CAACV,EAAE;QACrBC,IAAI,EAAES,cAAc,CAACT;OACtB,CACF;;MACDL,QAAQ,CAACe,MAAM,CAAC;;EAEpB,CAAC;EAED,OACExB,aAAA,CAACC,aAAa;EACZD,aAAA,CAACJ,MAAM,IACL6B,SAAS,EAAE9B,CAAC,CAAC,MAAM,CAAE,EACrB+B,MAAM,EAAE1B,aAAA,CAACH,SAAS,QAAEF,CAAC,CAAC,MAAM,CAAa,CAAE,EAC3CgC,YAAY,QACZlB,QAAQ,EAAEY,cAAe,EACzBX,OAAO,EAAEQ,gBAAiB,EAC1BU,UAAU,QACVb,KAAK,EAAEA,KAAM;EAEF,CAAC;AAEpB,CAAC,CAACc,aAAA,CApDWtB,cAAc,+JAAAuB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAdrBjC,aAAa,wHAAA6B,cAAA,CAAAI,QAAA,CAcN3B,cAAc,iJAAA4B,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}