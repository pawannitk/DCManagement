{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Tag as AntdTag } from 'antd';\nimport { styled, useCSSTextTruncation } from '@superset-ui/core';\nimport { Tooltip } from '../Tooltip';\nimport { CustomCloseIcon } from '../Tags/Tag';\nimport { SELECT_ALL_VALUE } from './utils';\nimport { NoElement } from './styles';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledTag = styled(AntdTag)`\n  & .ant-tag-close-icon {\n    display: inline-flex;\n    align-items: center;\n    margin-left: ${({ theme }) => theme.gridUnit}px;\n  }\n\n  & .tag-content {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n// TODO: use antd Tag props instead of any. Currently it's causing a typescript error\nconst Tag = (props) => {\n  const [tagRef, tagIsTruncated] = useCSSTextTruncation();\n  return ___EmotionJSX(Tooltip, { title: tagIsTruncated ? props.children : null },\n  ___EmotionJSX(StyledTag, _extends({ closeIcon: props != null && props.closable ? CustomCloseIcon : undefined }, props, { className: \"ant-select-selection-item\" }),\n  ___EmotionJSX(\"span\", { className: \"tag-content\", ref: tagRef },\n  props.children\n  )\n  )\n  );\n};\n/**\n * Custom tag renderer\n */__signature__(Tag, \"useCSSTextTruncation{[tagRef, tagIsTruncated]}\", () => [useCSSTextTruncation]);\nexport const customTagRender = (props) => {\n  const { label, value } = props;\n  const onPreventMouseDown = (event) => {\n    // if close icon is clicked, stop propagation to avoid opening the dropdown\n    const target = event.target;\n    if (target.tagName === 'svg' ||\n    target.tagName === 'path' ||\n    target.tagName === 'span' &&\n    target.className.includes('ant-tag-close-icon')) {\n      event.stopPropagation();\n    }\n  };\n  if (value !== SELECT_ALL_VALUE) {\n    return ___EmotionJSX(Tag, _extends({ onMouseDown: onPreventMouseDown }, props),\n    label\n    );\n  }\n  return ___EmotionJSX(NoElement, null);\n};;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledTag, \"StyledTag\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/Select/CustomTag.tsx\");reactHotLoader.register(Tag, \"Tag\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/Select/CustomTag.tsx\");reactHotLoader.register(customTagRender, \"customTagRender\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/Select/CustomTag.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","Tag","AntdTag","styled","useCSSTextTruncation","Tooltip","CustomCloseIcon","SELECT_ALL_VALUE","NoElement","jsx","___EmotionJSX","StyledTag","theme","gridUnit","props","tagRef","tagIsTruncated","title","children","_extends","closeIcon","closable","undefined","className","ref","__signature__","customTagRender","label","value","onPreventMouseDown","event","target","tagName","includes","stopPropagation","onMouseDown","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/components/Select/CustomTag.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { Tag as AntdTag } from 'antd';\nimport { styled, useCSSTextTruncation } from '@superset-ui/core';\nimport { Tooltip } from '../Tooltip';\nimport { CustomCloseIcon } from '../Tags/Tag';\nimport { CustomTagProps } from './types';\nimport { SELECT_ALL_VALUE } from './utils';\nimport { NoElement } from './styles';\n\nconst StyledTag = styled(AntdTag)`\n  & .ant-tag-close-icon {\n    display: inline-flex;\n    align-items: center;\n    margin-left: ${({ theme }) => theme.gridUnit}px;\n  }\n\n  & .tag-content {\n    overflow: hidden;\n    text-overflow: ellipsis;\n  }\n`;\n\n// TODO: use antd Tag props instead of any. Currently it's causing a typescript error\nconst Tag = (props: any) => {\n  const [tagRef, tagIsTruncated] = useCSSTextTruncation<HTMLSpanElement>();\n  return (\n    <Tooltip title={tagIsTruncated ? props.children : null}>\n      <StyledTag\n        closeIcon={props?.closable ? CustomCloseIcon : undefined}\n        {...props}\n        className=\"ant-select-selection-item\"\n      >\n        <span className=\"tag-content\" ref={tagRef}>\n          {props.children}\n        </span>\n      </StyledTag>\n    </Tooltip>\n  );\n};\n\n/**\n * Custom tag renderer\n */\nexport const customTagRender = (props: CustomTagProps) => {\n  const { label, value } = props;\n\n  const onPreventMouseDown = (event: React.MouseEvent<HTMLElement>) => {\n    // if close icon is clicked, stop propagation to avoid opening the dropdown\n    const target = event.target as HTMLElement;\n    if (\n      target.tagName === 'svg' ||\n      target.tagName === 'path' ||\n      (target.tagName === 'span' &&\n        target.className.includes('ant-tag-close-icon'))\n    ) {\n      event.stopPropagation();\n    }\n  };\n\n  if (value !== SELECT_ALL_VALUE) {\n    return (\n      <Tag onMouseDown={onPreventMouseDown} {...(props as object)}>\n        {label}\n      </Tag>\n    );\n  }\n  return <NoElement />;\n};\n"],"mappings":"sWAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,GAAG,IAAIC,OAAO,QAAQ,MAAM;AACrC,SAASC,MAAM,EAAEC,oBAAoB,QAAQ,mBAAmB;AAChE,SAASC,OAAO,QAAQ,YAAY;AACpC,SAASC,eAAe,QAAQ,aAAa;AAE7C,SAASC,gBAAgB,QAAQ,SAAS;AAC1C,SAASC,SAAS,QAAQ,UAAU,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAErC,MAAMC,SAAS,GAAGR,MAAM,CAACD,OAAO,CAAC;;;;mBAId,CAAC,EAAEU,KAAK,EAAE,KAAKA,KAAK,CAACC,QAAQ;;;;;;;CAO/C;AAED;AACA,MAAMZ,GAAG,GAAGA,CAACa,KAAU,KAAI;EACzB,MAAM,CAACC,MAAM,EAAEC,cAAc,CAAC,GAAGZ,oBAAoB,EAAmB;EACxE,OACEM,aAAA,CAACL,OAAO,IAACY,KAAK,EAAED,cAAc,GAAGF,KAAK,CAACI,QAAQ,GAAG,IAAK;EACrDR,aAAA,CAACC,SAAS,EAAAQ,QAAA,GACRC,SAAS,EAAEN,KAAK,YAALA,KAAK,CAAEO,QAAQ,GAAGf,eAAe,GAAGgB,SAAU,IACrDR,KAAK,IACTS,SAAS,EAAC,2BAA2B;EAErCb,aAAA,WAAMa,SAAS,EAAC,aAAa,EAACC,GAAG,EAAET,MAAO;EACvCD,KAAK,CAACI;EACH;EACG;EACJ,CAAC;AAEd,CAAC;AAED;;GAAAO,aAAA,CAjBMxB,GAAG,2DAC0BG,oBAAoB;AAmBvD,OAAO,MAAMsB,eAAe,GAAGA,CAACZ,KAAqB,KAAI;EACvD,MAAM,EAAEa,KAAK,EAAEC,KAAK,EAAE,GAAGd,KAAK;EAE9B,MAAMe,kBAAkB,GAAGA,CAACC,KAAoC,KAAI;IAClE;IACA,MAAMC,MAAM,GAAGD,KAAK,CAACC,MAAqB;IAC1C,IACEA,MAAM,CAACC,OAAO,KAAK,KAAK;IACxBD,MAAM,CAACC,OAAO,KAAK,MAAM;IACxBD,MAAM,CAACC,OAAO,KAAK,MAAM;IACxBD,MAAM,CAACR,SAAS,CAACU,QAAQ,CAAC,oBAAoB,CAAE,EAClD;MACAH,KAAK,CAACI,eAAe,EAAE;;EAE3B,CAAC;EAED,IAAIN,KAAK,KAAKrB,gBAAgB,EAAE;IAC9B,OACEG,aAAA,CAACT,GAAG,EAAAkB,QAAA,GAACgB,WAAW,EAAEN,kBAAmB,IAAMf,KAAgB;IACxDa;IACE,CAAC;;EAGV,OAAOjB,aAAA,CAACF,SAAS,OAAG;AACtB,CAAC,CAAC,mBAAA4B,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAhB,SAAA,MAAAc,cAAA,WAAAA,cAAA,CAAAG,QAAA,CA1DI5B,SAAS,6GAAAyB,cAAA,CAAAG,QAAA,CAcTtC,GAAG,uGAAAmC,cAAA,CAAAG,QAAA,CAoBIb,eAAe,2IAAAc,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAlB,SAAA,CAAAkB,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}