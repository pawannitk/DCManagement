{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { logging, t } from '@superset-ui/core';\nimport { Menu } from 'src/components/Menu';\nimport { LOG_ACTIONS_DASHBOARD_DOWNLOAD_AS_IMAGE } from 'src/logger/LogUtils';\nimport downloadAsImage from 'src/utils/downloadAsImage';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nexport default function DownloadAsImage({ text, logEvent, dashboardTitle, addDangerToast, ...rest }) {\n  const SCREENSHOT_NODE_SELECTOR = '.dashboard';\n  const onDownloadImage = async (e) => {\n    try {\n      downloadAsImage(SCREENSHOT_NODE_SELECTOR, dashboardTitle, true)(e);\n    }\n    catch (error) {\n      logging.error(error);\n      addDangerToast(t('Sorry, something went wrong. Try again later.'));\n    }\n    logEvent == null ? void 0 : logEvent(LOG_ACTIONS_DASHBOARD_DOWNLOAD_AS_IMAGE);\n  };\n  return ___EmotionJSX(Menu.Item, _extends({ key: \"download-image\" }, rest),\n  ___EmotionJSX(\"div\", { onClick: onDownloadImage, role: \"button\", tabIndex: 0 },\n  text\n  )\n  );\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DownloadAsImage, \"DownloadAsImage\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/menu/DownloadMenuItems/DownloadAsImage.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","logging","t","Menu","LOG_ACTIONS_DASHBOARD_DOWNLOAD_AS_IMAGE","downloadAsImage","jsx","___EmotionJSX","DownloadAsImage","text","logEvent","dashboardTitle","addDangerToast","rest","SCREENSHOT_NODE_SELECTOR","onDownloadImage","e","error","Item","_extends","key","onClick","role","tabIndex","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/menu/DownloadMenuItems/DownloadAsImage.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { SyntheticEvent } from 'react';\nimport { logging, t } from '@superset-ui/core';\nimport { Menu } from 'src/components/Menu';\nimport { LOG_ACTIONS_DASHBOARD_DOWNLOAD_AS_IMAGE } from 'src/logger/LogUtils';\nimport downloadAsImage from 'src/utils/downloadAsImage';\n\nexport default function DownloadAsImage({\n  text,\n  logEvent,\n  dashboardTitle,\n  addDangerToast,\n  ...rest\n}: {\n  text: string;\n  addDangerToast: Function;\n  dashboardTitle: string;\n  logEvent?: Function;\n}) {\n  const SCREENSHOT_NODE_SELECTOR = '.dashboard';\n  const onDownloadImage = async (e: SyntheticEvent) => {\n    try {\n      downloadAsImage(SCREENSHOT_NODE_SELECTOR, dashboardTitle, true)(e);\n    } catch (error) {\n      logging.error(error);\n      addDangerToast(t('Sorry, something went wrong. Try again later.'));\n    }\n    logEvent?.(LOG_ACTIONS_DASHBOARD_DOWNLOAD_AS_IMAGE);\n  };\n\n  return (\n    <Menu.Item key=\"download-image\" {...rest}>\n      <div onClick={onDownloadImage} role=\"button\" tabIndex={0}>\n        {text}\n      </div>\n    </Menu.Item>\n  );\n}\n"],"mappings":"sWAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAyB,MAAM,OAAO;AAC7C,SAASC,OAAO,EAAEC,CAAC,QAAQ,mBAAmB;AAC9C,SAASC,IAAI,QAAQ,qBAAqB;AAC1C,SAASC,uCAAuC,QAAQ,qBAAqB;AAC7E,OAAOC,eAAe,MAAM,2BAA2B,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAExD,eAAc,SAAUC,eAAeA,CAAC,EACtCC,IAAI,EACJC,QAAQ,EACRC,cAAc,EACdC,cAAc,EACd,GAAGC,IAAI,EAMR;EACC,MAAMC,wBAAwB,GAAG,YAAY;EAC7C,MAAMC,eAAe,GAAG,MAAAA,CAAOC,CAAiB,KAAI;IAClD,IAAI;MACFX,eAAe,CAACS,wBAAwB,EAAEH,cAAc,EAAE,IAAI,CAAC,CAACK,CAAC,CAAC;;IAClE,OAAOC,KAAK,EAAE;MACdhB,OAAO,CAACgB,KAAK,CAACA,KAAK,CAAC;MACpBL,cAAc,CAACV,CAAC,CAAC,+CAA+C,CAAC,CAAC;;IAEpEQ,QAAQ,oBAARA,QAAQ,CAAGN,uCAAuC,CAAC;EACrD,CAAC;EAED,OACEG,aAAA,CAACJ,IAAI,CAACe,IAAI,EAAAC,QAAA,GAACC,GAAG,EAAC,gBAAgB,IAAKP,IAAI;EACtCN,aAAA,UAAKc,OAAO,EAAEN,eAAgB,EAACO,IAAI,EAAC,QAAQ,EAACC,QAAQ,EAAE,CAAE;EACtDd;EACE;EACI,CAAC;AAEhB,CAAC,mBAAAe,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA9BuBpB,eAAe,2KAAAqB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}