{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nexport var NativeFilterType;\n(function (NativeFilterType) {\n  NativeFilterType[\"NativeFilter\"] = \"NATIVE_FILTER\";\n  NativeFilterType[\"Divider\"] = \"DIVIDER\";\n})(NativeFilterType || (NativeFilterType = {}));\nexport var DataMaskType;\n(function (DataMaskType) {\n  DataMaskType[\"NativeFilters\"] = \"nativeFilters\";\n  DataMaskType[\"CrossFilters\"] = \"crossFilters\";\n})(DataMaskType || (DataMaskType = {}));\nexport function isNativeFilter(filterElement) {\n  return filterElement.type === NativeFilterType.NativeFilter;\n}\nexport function isNativeFilterWithDataMask(filterElement) {var _filterElement$dataMa, _filterElement$dataMa2;\n  return isNativeFilter(filterElement) && ((_filterElement$dataMa =\n  filterElement.dataMask) == null ? void 0 : (_filterElement$dataMa2 = _filterElement$dataMa.filterState) == null ? void 0 : _filterElement$dataMa2.value);\n}\nexport function isFilterDivider(filterElement) {\n  return filterElement.type === NativeFilterType.Divider;\n}const _default =\n{};export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(NativeFilterType, \"NativeFilterType\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/types/Dashboard.ts\");reactHotLoader.register(DataMaskType, \"DataMaskType\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/types/Dashboard.ts\");reactHotLoader.register(isNativeFilter, \"isNativeFilter\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/types/Dashboard.ts\");reactHotLoader.register(isNativeFilterWithDataMask, \"isNativeFilterWithDataMask\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/types/Dashboard.ts\");reactHotLoader.register(isFilterDivider, \"isFilterDivider\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/types/Dashboard.ts\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/types/Dashboard.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["NativeFilterType","DataMaskType","isNativeFilter","filterElement","type","NativeFilter","isNativeFilterWithDataMask","_filterElement$dataMa","_filterElement$dataMa2","dataMask","filterState","value","isFilterDivider","Divider","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-core/src/query/types/Dashboard.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { AdhocFilter, DataMask } from '@superset-ui/core';\n\nexport interface NativeFilterColumn {\n  name: string;\n  displayName?: string;\n}\n\nexport interface NativeFilterScope {\n  rootPath: string[];\n  excluded: number[];\n}\n\n/** The target of a filter is the datasource/column being filtered */\nexport interface NativeFilterTarget {\n  datasetId: number;\n  column: NativeFilterColumn;\n\n  // maybe someday support this?\n  // show values from these columns in the filter options selector\n  // clarityColumns?: Column[];\n}\n\nexport enum NativeFilterType {\n  NativeFilter = 'NATIVE_FILTER',\n  Divider = 'DIVIDER',\n}\n\nexport enum DataMaskType {\n  NativeFilters = 'nativeFilters',\n  CrossFilters = 'crossFilters',\n}\n\nexport type DataMaskState = { [id: string]: DataMask };\n\nexport type DataMaskWithId = { id: string } & DataMask;\nexport type DataMaskStateWithId = { [filterId: string]: DataMaskWithId };\n\nexport type Filter = {\n  cascadeParentIds: string[];\n  defaultDataMask: DataMask;\n  id: string; // randomly generated at filter creation\n  name: string;\n  scope: NativeFilterScope;\n  filterType: string;\n  // for now there will only ever be one target\n  // when multiple targets are supported, change this to Target[]\n  targets: [Partial<NativeFilterTarget>];\n  controlValues: {\n    [key: string]: any;\n  };\n  sortMetric?: string | null;\n  adhoc_filters?: AdhocFilter[];\n  granularity_sqla?: string;\n  granularity?: string;\n  time_grain_sqla?: string;\n  time_range?: string;\n  requiredFirst?: boolean;\n  tabsInScope?: string[];\n  chartsInScope?: number[];\n  type: typeof NativeFilterType.NativeFilter;\n  description: string;\n};\n\nexport type FilterWithDataMask = Filter & { dataMask: DataMaskWithId };\n\nexport type Divider = Partial<Omit<Filter, 'id' | 'type'>> & {\n  id: string;\n  title: string;\n  description: string;\n  type: typeof NativeFilterType.Divider;\n};\n\nexport function isNativeFilter(\n  filterElement: Filter | Divider,\n): filterElement is Filter {\n  return filterElement.type === NativeFilterType.NativeFilter;\n}\n\nexport function isNativeFilterWithDataMask(\n  filterElement: Filter | Divider,\n): filterElement is FilterWithDataMask {\n  return (\n    isNativeFilter(filterElement) &&\n    (filterElement as FilterWithDataMask).dataMask?.filterState?.value\n  );\n}\n\nexport function isFilterDivider(\n  filterElement: Filter | Divider,\n): filterElement is Divider {\n  return filterElement.type === NativeFilterType.Divider;\n}\n\nexport type FilterConfiguration = Array<Filter | Divider>;\n\nexport type Filters = {\n  [filterId: string]: Filter | Divider;\n};\n\nexport type PartialFilters = {\n  [filterId: string]: Partial<Filters[keyof Filters]>;\n};\n\nexport type NativeFiltersState = {\n  filters: Filters;\n  focusedFilterId?: string;\n  hoveredFilterId?: string;\n};\n\nexport type DashboardComponentMetadata = {\n  nativeFilters: NativeFiltersState;\n  dataMask: DataMaskStateWithId;\n};\n\nexport default {};\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAyCA,WAAYA,gBAGX;AAHD,WAAYA,gBAAgB;EAC1BA,gBAAA,kCAA8B;EAC9BA,gBAAA,uBAAmB;AACrB,CAAC,EAHWA,gBAAgB,KAAhBA,gBAAgB;AAK5B,WAAYC,YAGX;AAHD,WAAYA,YAAY;EACtBA,YAAA,mCAA+B;EAC/BA,YAAA,iCAA6B;AAC/B,CAAC,EAHWA,YAAY,KAAZA,YAAY;AA6CxB,OAAM,SAAUC,cAAcA,CAC5BC,aAA+B;EAE/B,OAAOA,aAAa,CAACC,IAAI,KAAKJ,gBAAgB,CAACK,YAAY;AAC7D;AAEA,OAAM,SAAUC,0BAA0BA,CACxCH,aAA+B,OAAAI,qBAAA,EAAAC,sBAAA;EAE/B,OACEN,cAAc,CAACC,aAAa,CAAC,MAAAI,qBAAA;EAC5BJ,aAAoC,CAACM,QAAQ,sBAAAD,sBAAA,GAA7CD,qBAAA,CAA+CG,WAAW,qBAA1DF,sBAAA,CAA4DG,KAAK;AAEtE;AAEA,OAAM,SAAUC,eAAeA,CAC7BT,aAA+B;EAE/B,OAAOA,aAAa,CAACC,IAAI,KAAKJ,gBAAgB,CAACa,OAAO;AACxD,CAAC,MAAAC,QAAA;AAuBc,EAAE,CAAjB,eAAAA,QAAA,CAAkB,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA5FNnB,gBAGX,uIAAAe,cAAA,CAAAI,QAAA,CAEWlB,YAGX,mIAAAc,cAAA,CAAAI,QAAA,CA0CejB,cAAc,qIAAAa,cAAA,CAAAI,QAAA,CAMdb,0BAA0B,iJAAAS,cAAA,CAAAI,QAAA,CAS1BP,eAAe,sIAAAG,cAAA,CAAAI,QAAA,CAAAL,QAAA,sJAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}