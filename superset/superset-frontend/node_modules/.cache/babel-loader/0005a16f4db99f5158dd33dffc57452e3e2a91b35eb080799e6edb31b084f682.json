{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint global-require: 0 */\nimport $ from 'jquery';\nimport { SupersetClient, getClientErrorObject } from '@superset-ui/core';\nimport setupErrorMessages from 'src/setup/setupErrorMessages';\nfunction showApiMessage(resp) {\n  const template = '<div class=\"alert\"> ' +\n  '<button type=\"button\" class=\"close\" ' +\n  'data-dismiss=\"alert\">\\xD7</button> </div>';\n  const severity = resp.severity || 'info';\n  $(template).\n  addClass(`alert-${severity}`).\n  append(resp.message || '').\n  appendTo($('#alert-container'));\n}\nfunction toggleCheckbox(apiUrlPrefix, selector) {\n  SupersetClient.get({\n    endpoint: apiUrlPrefix + $(selector)[0].checked\n  }).\n  then(() => undefined).\n  catch((response) => getClientErrorObject(response).then((parsedResp) => {\n    if (parsedResp != null && parsedResp.message) {\n      showApiMessage(parsedResp);\n    }\n  }));\n}\nexport default function setupApp() {\n  $(document).ready(function () {\n    $(':checkbox[data-checkbox-api-prefix]').change(function () {\n      const $this = $(this);\n      const prefix = $this.data('checkbox-api-prefix');\n      const id = $this.attr('id');\n      toggleCheckbox(prefix, `#${id}`);\n    });\n    // for language picker dropdown\n    $('#language-picker a').click(function (ev) {\n      ev.preventDefault();\n      SupersetClient.get({\n        url: ev.currentTarget.href,\n        parseMethod: null\n      }).then(() => {\n        window.location.reload();\n      });\n    });\n  });\n  // A set of hacks to allow apps to run within a FAB template\n  // this allows for the server side generated menus to function\n  window.$ = $;\n  window.jQuery = $;\n  require('bootstrap');\n  // setup appwide custom error messages\n  setupErrorMessages();\n};(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(showApiMessage, \"showApiMessage\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/setup/setupApp.ts\");reactHotLoader.register(toggleCheckbox, \"toggleCheckbox\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/setup/setupApp.ts\");reactHotLoader.register(setupApp, \"setupApp\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/setup/setupApp.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["$","SupersetClient","getClientErrorObject","setupErrorMessages","showApiMessage","resp","template","severity","addClass","append","message","appendTo","toggleCheckbox","apiUrlPrefix","selector","get","endpoint","checked","then","undefined","catch","response","parsedResp","setupApp","document","ready","change","$this","prefix","data","id","attr","click","ev","preventDefault","url","currentTarget","href","parseMethod","window","location","reload","jQuery","require","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/setup/setupApp.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint global-require: 0 */\nimport $ from 'jquery';\nimport {\n  SupersetClient,\n  getClientErrorObject,\n  ClientErrorObject,\n} from '@superset-ui/core';\nimport setupErrorMessages from 'src/setup/setupErrorMessages';\n\n// eslint-disable-next-line @typescript-eslint/no-unused-vars\ndeclare global {\n  interface Window {\n    $: any;\n    jQuery: any;\n  }\n}\n\nfunction showApiMessage(resp: ClientErrorObject) {\n  const template =\n    '<div class=\"alert\"> ' +\n    '<button type=\"button\" class=\"close\" ' +\n    'data-dismiss=\"alert\">\\xD7</button> </div>';\n  const severity = resp.severity || 'info';\n  $(template)\n    .addClass(`alert-${severity}`)\n    .append(resp.message || '')\n    .appendTo($('#alert-container'));\n}\n\nfunction toggleCheckbox(apiUrlPrefix: string, selector: string) {\n  SupersetClient.get({\n    endpoint: apiUrlPrefix + ($(selector)[0] as HTMLInputElement).checked,\n  })\n    .then(() => undefined)\n    .catch(response =>\n      getClientErrorObject(response).then(parsedResp => {\n        if (parsedResp?.message) {\n          showApiMessage(parsedResp);\n        }\n      }),\n    );\n}\n\nexport default function setupApp() {\n  $(document).ready(function () {\n    $(':checkbox[data-checkbox-api-prefix]').change(function (\n      this: HTMLElement,\n    ) {\n      const $this = $(this);\n      const prefix = $this.data('checkbox-api-prefix');\n      const id = $this.attr('id');\n      toggleCheckbox(prefix, `#${id}`);\n    });\n\n    // for language picker dropdown\n    $('#language-picker a').click(function (\n      ev: JQuery.ClickEvent<\n        HTMLLinkElement,\n        null,\n        HTMLLinkElement,\n        HTMLLinkElement\n      >,\n    ) {\n      ev.preventDefault();\n      SupersetClient.get({\n        url: ev.currentTarget.href,\n        parseMethod: null,\n      }).then(() => {\n        window.location.reload();\n      });\n    });\n  });\n\n  // A set of hacks to allow apps to run within a FAB template\n  // this allows for the server side generated menus to function\n  window.$ = $;\n  window.jQuery = $;\n  require('bootstrap');\n\n  // setup appwide custom error messages\n  setupErrorMessages();\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA;AACA,OAAOA,CAAC,MAAM,QAAQ;AACtB,SACEC,cAAc,EACdC,oBAAoB,QAEf,mBAAmB;AAC1B,OAAOC,kBAAkB,MAAM,8BAA8B;AAU7D,SAASC,cAAcA,CAACC,IAAuB;EAC7C,MAAMC,QAAQ,GACZ,sBAAsB;EACtB,sCAAsC;EACtC,2CAA2C;EAC7C,MAAMC,QAAQ,GAAGF,IAAI,CAACE,QAAQ,IAAI,MAAM;EACxCP,CAAC,CAACM,QAAQ,CAAC;EACRE,QAAQ,CAAC,SAASD,QAAQ,EAAE,CAAC;EAC7BE,MAAM,CAACJ,IAAI,CAACK,OAAO,IAAI,EAAE,CAAC;EAC1BC,QAAQ,CAACX,CAAC,CAAC,kBAAkB,CAAC,CAAC;AACpC;AAEA,SAASY,cAAcA,CAACC,YAAoB,EAAEC,QAAgB;EAC5Db,cAAc,CAACc,GAAG,CAAC;IACjBC,QAAQ,EAAEH,YAAY,GAAIb,CAAC,CAACc,QAAQ,CAAC,CAAC,CAAC,CAAsB,CAACG;GAC/D,CAAC;EACCC,IAAI,CAAC,MAAMC,SAAS,CAAC;EACrBC,KAAK,CAAC,CAAAC,QAAQ,KACbnB,oBAAoB,CAACmB,QAAQ,CAAC,CAACH,IAAI,CAAC,CAAAI,UAAU,KAAG;IAC/C,IAAIA,UAAU,YAAVA,UAAU,CAAEZ,OAAO,EAAE;MACvBN,cAAc,CAACkB,UAAU,CAAC;;EAE9B,CAAC,CAAC,CACH;AACL;AAEA,eAAc,SAAUC,QAAQA,CAAA;EAC9BvB,CAAC,CAACwB,QAAQ,CAAC,CAACC,KAAK,CAAC;IAChBzB,CAAC,CAAC,qCAAqC,CAAC,CAAC0B,MAAM,CAAC;MAG9C,MAAMC,KAAK,GAAG3B,CAAC,CAAC,IAAI,CAAC;MACrB,MAAM4B,MAAM,GAAGD,KAAK,CAACE,IAAI,CAAC,qBAAqB,CAAC;MAChD,MAAMC,EAAE,GAAGH,KAAK,CAACI,IAAI,CAAC,IAAI,CAAC;MAC3BnB,cAAc,CAACgB,MAAM,EAAE,IAAIE,EAAE,EAAE,CAAC;IAClC,CAAC,CAAC;IAEF;IACA9B,CAAC,CAAC,oBAAoB,CAAC,CAACgC,KAAK,CAAC,UAC5BC,EAKC;MAEDA,EAAE,CAACC,cAAc,EAAE;MACnBjC,cAAc,CAACc,GAAG,CAAC;QACjBoB,GAAG,EAAEF,EAAE,CAACG,aAAa,CAACC,IAAI;QAC1BC,WAAW,EAAE;OACd,CAAC,CAACpB,IAAI,CAAC,MAAK;QACXqB,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;MAC1B,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF;EACA;EACAF,MAAM,CAACvC,CAAC,GAAGA,CAAC;EACZuC,MAAM,CAACG,MAAM,GAAG1C,CAAC;EACjB2C,OAAO,CAAC,WAAW,CAAC;EAEpB;EACAxC,kBAAkB,EAAE;AACtB,CAAC,mBAAAyC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAA3B,SAAA,MAAAyB,cAAA,WAAAA,cAAA,CAAAG,QAAA,CAhEQ3C,cAAc,oGAAAwC,cAAA,CAAAG,QAAA,CAYdnC,cAAc,oGAAAgC,cAAA,CAAAG,QAAA,CAcCxB,QAAQ,sHAAAyB,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAA7B,SAAA,CAAA6B,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}