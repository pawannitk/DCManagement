{"ast":null,"code":"import _reject from \"lodash/reject\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport { isFeatureEnabled, FeatureFlag, getExtensionsRegistry, styled, t } from '@superset-ui/core';\nimport rison from 'rison';\nimport Collapse from 'src/components/Collapse';\n\nimport { dangerouslyGetItemDoNotUse, dangerouslySetItemDoNotUse, getItem, LocalStorageKeys, setItem } from 'src/utils/localStorageHelpers';\nimport ListViewCard from 'src/components/ListViewCard';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport { CardContainer, createErrorHandler, getRecentActivityObjs, getUserOwnedObjects, loadingCardCount, mq } from 'src/views/CRUD/utils';\nimport { AntdSwitch } from 'src/components';\nimport getBootstrapData from 'src/utils/getBootstrapData';\nimport { TableTab } from 'src/views/CRUD/types';\nimport SubMenu from 'src/features/home/SubMenu';\nimport { userHasPermission } from 'src/dashboard/util/permissionUtils';\nimport ActivityTable from 'src/features/home/ActivityTable';\nimport ChartTable from 'src/features/home/ChartTable';\nimport SavedQueries from 'src/features/home/SavedQueries';\nimport DashboardTable from 'src/features/home/DashboardTable';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst extensionsRegistry = getExtensionsRegistry();\nconst DEFAULT_TAB_ARR = ['2', '3'];\nconst WelcomeContainer = styled.div`\n  background-color: ${({ theme }) => theme.colors.grayscale.light4};\n  .ant-row.menu {\n    margin-top: -15px;\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\n    &:after {\n      content: '';\n      display: block;\n      border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n      margin: 0px ${({ theme }) => theme.gridUnit * 6}px;\n      position: relative;\n      width: 100%;\n      ${mq[1]} {\n        margin-top: 5px;\n        margin: 0px 2px;\n      }\n    }\n    .ant-menu.ant-menu-light.ant-menu-root.ant-menu-horizontal {\n      padding-left: ${({ theme }) => theme.gridUnit * 8}px;\n    }\n    button {\n      padding: 3px 21px;\n    }\n  }\n  .ant-card-meta-description {\n    margin-top: ${({ theme }) => theme.gridUnit}px;\n  }\n  .ant-card.ant-card-bordered {\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  }\n  .ant-collapse-item .ant-collapse-content {\n    margin-bottom: ${({ theme }) => theme.gridUnit * -6}px;\n  }\n  div.ant-collapse-item:last-child.ant-collapse-item-active\n    .ant-collapse-header {\n    padding-bottom: ${({ theme }) => theme.gridUnit * 3}px;\n  }\n  div.ant-collapse-item:last-child .ant-collapse-header {\n    padding-bottom: ${({ theme }) => theme.gridUnit * 9}px;\n  }\n  .loading-cards {\n    margin-top: ${({ theme }) => theme.gridUnit * 8}px;\n    .ant-card-cover > div {\n      height: 168px;\n    }\n  }\n`;\nconst WelcomeNav = styled.div`\n  ${({ theme }) => `\n    .switch {\n      display: flex;\n      flex-direction: row;\n      margin: ${theme.gridUnit * 4}px;\n      span {\n        display: block;\n        margin: ${theme.gridUnit}px;\n        line-height: ${theme.gridUnit * 3.5}px;\n      }\n    }\n  `}\n`;\nconst bootstrapData = getBootstrapData();\nexport const LoadingCards = ({ cover }) => ___EmotionJSX(CardContainer, { showThumbnails: cover, className: \"loading-cards\" },\n[...new Array(loadingCardCount)].map((_, index) => ___EmotionJSX(ListViewCard, { key: index, cover: cover ? false : ___EmotionJSX(React.Fragment, null), description: \"\", loading: true }))\n);\nfunction Welcome({ user, addDangerToast }) {\n  const canReadSavedQueries = userHasPermission(user, 'SavedQuery', 'can_read');\n  const userid = user.userId;\n  const id = userid.toString(); // confident that user is not a guest user\n  const params = rison.encode({ page_size: 6 });\n  const recent = `/api/v1/log/recent_activity/?q=${params}`;\n  const [activeChild, setActiveChild] = useState('Loading');\n  const userKey = dangerouslyGetItemDoNotUse(id, null);\n  let defaultChecked = false;\n  const isThumbnailsEnabled = isFeatureEnabled(FeatureFlag.Thumbnails);\n  if (isThumbnailsEnabled) {\n    defaultChecked =\n    (userKey == null ? void 0 : userKey.thumbnails) === undefined ? true : userKey == null ? void 0 : userKey.thumbnails;\n  }\n  const [checked, setChecked] = useState(defaultChecked);\n  const [activityData, setActivityData] = useState(null);\n  const [chartData, setChartData] = useState(null);\n  const [queryData, setQueryData] = useState(null);\n  const [dashboardData, setDashboardData] = useState(null);\n  const [isFetchingActivityData, setIsFetchingActivityData] = useState(true);\n  const collapseState = getItem(LocalStorageKeys.HomepageCollapseState, []);\n  const [activeState, setActiveState] = useState(collapseState);\n  const handleCollapse = (state) => {\n    setActiveState(state);\n    setItem(LocalStorageKeys.HomepageCollapseState, state);\n  };\n  const SubmenuExtension = extensionsRegistry.get('home.submenu');\n  const WelcomeMessageExtension = extensionsRegistry.get('welcome.message');\n  const WelcomeTopExtension = extensionsRegistry.get('welcome.banner');\n  const WelcomeMainExtension = extensionsRegistry.get('welcome.main.replacement');\n  const [otherTabTitle, otherTabFilters] = useMemo(() => {var _bootstrapData$common;\n    const lastTab = (_bootstrapData$common = bootstrapData.common) == null ? void 0 : _bootstrapData$common.conf.\n    WELCOME_PAGE_LAST_TAB;\n    const [customTitle, customFilter] = Array.isArray(lastTab) ?\n    lastTab :\n    [undefined, undefined];\n    if (customTitle && customFilter) {\n      return [t(customTitle), customFilter];\n    }\n    if (lastTab === 'all') {\n      return [t('All'), []];\n    }\n    return [\n    t('Examples'),\n    [\n    {\n      col: 'created_by',\n      opr: 'rel_o_m',\n      value: 0\n    }]];\n\n\n  }, []);\n  useEffect(() => {\n    if (!otherTabFilters) {\n      return;\n    }\n    const activeTab = getItem(LocalStorageKeys.HomepageActivityFilter, null);\n    setActiveState(collapseState.length > 0 ? collapseState : DEFAULT_TAB_ARR);\n    getRecentActivityObjs(user.userId, recent, addDangerToast, otherTabFilters).\n    then((res) => {\n      const data = {};\n      data[TableTab.Other] = res.other;\n      if (res.viewed) {\n        const filtered = _reject(res.viewed, ['item_url', null]).map((r) => r);\n        data[TableTab.Viewed] = filtered;\n        if (!activeTab && data[TableTab.Viewed]) {\n          setActiveChild(TableTab.Viewed);\n        } else\n        if (!activeTab && !data[TableTab.Viewed]) {\n          setActiveChild(TableTab.Created);\n        } else\n\n        setActiveChild(activeTab || TableTab.Created);\n      } else\n      if (!activeTab)\n      setActiveChild(TableTab.Created);else\n\n      setActiveChild(activeTab);\n      setActivityData((activityData) => ({ ...activityData, ...data }));\n    }).\n    catch(createErrorHandler((errMsg) => {\n      setActivityData((activityData) => ({\n        ...activityData,\n        [TableTab.Viewed]: []\n      }));\n      addDangerToast(t('There was an issue fetching your recent activity: %s', errMsg));\n    }));\n    // Sets other activity data in parallel with recents api call\n    const ownSavedQueryFilters = [\n    {\n      col: 'created_by',\n      opr: 'rel_o_m',\n      value: `${id}`\n    }];\n\n    Promise.all([\n    getUserOwnedObjects(id, 'dashboard').\n    then((r) => {\n      setDashboardData(r);\n      return Promise.resolve();\n    }).\n    catch((err) => {\n      setDashboardData([]);\n      addDangerToast(t('There was an issue fetching your dashboards: %s', err));\n      return Promise.resolve();\n    }),\n    getUserOwnedObjects(id, 'chart').\n    then((r) => {\n      setChartData(r);\n      return Promise.resolve();\n    }).\n    catch((err) => {\n      setChartData([]);\n      addDangerToast(t('There was an issue fetching your chart: %s', err));\n      return Promise.resolve();\n    }),\n    canReadSavedQueries ?\n    getUserOwnedObjects(id, 'saved_query', ownSavedQueryFilters).\n    then((r) => {\n      setQueryData(r);\n      return Promise.resolve();\n    }).\n    catch((err) => {\n      setQueryData([]);\n      addDangerToast(t('There was an issue fetching your saved queries: %s', err));\n      return Promise.resolve();\n    }) :\n    Promise.resolve()]\n    ).then(() => {\n      setIsFetchingActivityData(false);\n    });\n  }, [otherTabFilters]);\n  const handleToggle = () => {\n    setChecked(!checked);\n    dangerouslySetItemDoNotUse(id, { thumbnails: !checked });\n  };\n  useEffect(() => {\n    if (!collapseState && queryData != null && queryData.length) {\n      setActiveState((activeState) => [...activeState, '4']);\n    }\n    setActivityData((activityData) => ({\n      ...activityData,\n      Created: [\n      ...((chartData == null ? void 0 : chartData.slice(0, 3)) || []),\n      ...((dashboardData == null ? void 0 : dashboardData.slice(0, 3)) || []),\n      ...((queryData == null ? void 0 : queryData.slice(0, 3)) || [])]\n\n    }));\n  }, [chartData, queryData, dashboardData]);\n  useEffect(() => {var _activityData$TableTa;\n    if (!collapseState && activityData != null && (_activityData$TableTa = activityData[TableTab.Viewed]) != null && _activityData$TableTa.length) {\n      setActiveState((activeState) => ['1', ...activeState]);\n    }\n  }, [activityData]);\n  const isRecentActivityLoading = !(activityData != null && activityData[TableTab.Other]) && !(activityData != null && activityData[TableTab.Viewed]);\n  const menuData = {\n    activeChild: 'Home',\n    name: t('Home')\n  };\n  if (isThumbnailsEnabled) {\n    menuData.buttons = [\n    {\n      name: ___EmotionJSX(WelcomeNav, null,\n      ___EmotionJSX(\"div\", { className: \"switch\" },\n      ___EmotionJSX(AntdSwitch, { checked: checked, onClick: handleToggle }),\n      ___EmotionJSX(\"span\", null, t('Thumbnails'))\n      )\n      ),\n      onClick: handleToggle,\n      buttonStyle: 'link'\n    }];\n\n  }\n  return ___EmotionJSX(React.Fragment, null,\n  SubmenuExtension ? ___EmotionJSX(SubmenuExtension, menuData) : ___EmotionJSX(SubMenu, menuData),\n  ___EmotionJSX(WelcomeContainer, null,\n  WelcomeMessageExtension && ___EmotionJSX(WelcomeMessageExtension, null),\n  WelcomeTopExtension && ___EmotionJSX(WelcomeTopExtension, null),\n  WelcomeMainExtension && ___EmotionJSX(WelcomeMainExtension, null),\n  (!WelcomeTopExtension || !WelcomeMainExtension) && ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(Collapse, { activeKey: activeState, onChange: handleCollapse, ghost: true, bigger: true },\n  ___EmotionJSX(Collapse.Panel, { header: t('Recents'), key: \"1\" },\n  activityData && (\n  activityData[TableTab.Viewed] ||\n  activityData[TableTab.Other] ||\n  activityData[TableTab.Created]) &&\n  activeChild !== 'Loading' ? ___EmotionJSX(ActivityTable, { user: { userId: user.userId } // user is definitely not a guest user on this page\n    , activeChild: activeChild, setActiveChild: setActiveChild, activityData: activityData, isFetchingActivityData: isFetchingActivityData }) : ___EmotionJSX(LoadingCards, null)\n  ),\n  ___EmotionJSX(Collapse.Panel, { header: t('Dashboards'), key: \"2\" },\n  !dashboardData || isRecentActivityLoading ? ___EmotionJSX(LoadingCards, { cover: checked }) : ___EmotionJSX(DashboardTable, { user: user, mine: dashboardData, showThumbnails: checked, otherTabData: activityData == null ? void 0 : activityData[TableTab.Other], otherTabFilters: otherTabFilters, otherTabTitle: otherTabTitle })\n  ),\n  ___EmotionJSX(Collapse.Panel, { header: t('Charts'), key: \"3\" },\n  !chartData || isRecentActivityLoading ? ___EmotionJSX(LoadingCards, { cover: checked }) : ___EmotionJSX(ChartTable, { showThumbnails: checked, user: user, mine: chartData, otherTabData: activityData == null ? void 0 : activityData[TableTab.Other], otherTabFilters: otherTabFilters, otherTabTitle: otherTabTitle })\n  ),\n  canReadSavedQueries && ___EmotionJSX(Collapse.Panel, { header: t('Saved queries'), key: \"4\" },\n  !queryData ? ___EmotionJSX(LoadingCards, { cover: checked }) : ___EmotionJSX(SavedQueries, { showThumbnails: checked, user: user, mine: queryData, featureFlag: isThumbnailsEnabled })\n  )\n  )\n  )\n  )\n  );\n}__signature__(Welcome, \"useState{[activeChild, setActiveChild]('Loading')}\\nuseState{[checked, setChecked](defaultChecked)}\\nuseState{[activityData, setActivityData](null)}\\nuseState{[chartData, setChartData](null)}\\nuseState{[queryData, setQueryData](null)}\\nuseState{[dashboardData, setDashboardData](null)}\\nuseState{[isFetchingActivityData, setIsFetchingActivityData](true)}\\nuseState{[activeState, setActiveState](collapseState)}\\nuseMemo{[otherTabTitle, otherTabFilters]}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\");const _default =\nwithToasts(Welcome);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(extensionsRegistry, \"extensionsRegistry\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");reactHotLoader.register(DEFAULT_TAB_ARR, \"DEFAULT_TAB_ARR\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");reactHotLoader.register(WelcomeContainer, \"WelcomeContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");reactHotLoader.register(WelcomeNav, \"WelcomeNav\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");reactHotLoader.register(bootstrapData, \"bootstrapData\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");reactHotLoader.register(LoadingCards, \"LoadingCards\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");reactHotLoader.register(Welcome, \"Welcome\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useEffect","useMemo","useState","isFeatureEnabled","FeatureFlag","getExtensionsRegistry","styled","t","rison","Collapse","dangerouslyGetItemDoNotUse","dangerouslySetItemDoNotUse","getItem","LocalStorageKeys","setItem","ListViewCard","withToasts","CardContainer","createErrorHandler","getRecentActivityObjs","getUserOwnedObjects","loadingCardCount","mq","AntdSwitch","getBootstrapData","TableTab","SubMenu","userHasPermission","ActivityTable","ChartTable","SavedQueries","DashboardTable","jsx","___EmotionJSX","extensionsRegistry","DEFAULT_TAB_ARR","WelcomeContainer","div","theme","colors","grayscale","light4","light2","gridUnit","WelcomeNav","bootstrapData","LoadingCards","cover","showThumbnails","className","Array","map","_","index","key","Fragment","description","loading","Welcome","user","addDangerToast","canReadSavedQueries","userid","userId","id","toString","params","encode","page_size","recent","activeChild","setActiveChild","userKey","defaultChecked","isThumbnailsEnabled","Thumbnails","thumbnails","undefined","checked","setChecked","activityData","setActivityData","chartData","setChartData","queryData","setQueryData","dashboardData","setDashboardData","isFetchingActivityData","setIsFetchingActivityData","collapseState","HomepageCollapseState","activeState","setActiveState","handleCollapse","state","SubmenuExtension","get","WelcomeMessageExtension","WelcomeTopExtension","WelcomeMainExtension","otherTabTitle","otherTabFilters","_bootstrapData$common","lastTab","common","conf","WELCOME_PAGE_LAST_TAB","customTitle","customFilter","isArray","col","opr","value","activeTab","HomepageActivityFilter","length","then","res","data","Other","other","viewed","filtered","_reject","r","Viewed","Created","catch","errMsg","ownSavedQueryFilters","Promise","all","resolve","err","handleToggle","slice","_activityData$TableTa","isRecentActivityLoading","menuData","name","buttons","onClick","buttonStyle","activeKey","onChange","ghost","bigger","Panel","header","mine","otherTabData","featureFlag","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/Home/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useMemo, useState } from 'react';\nimport {\n  isFeatureEnabled,\n  FeatureFlag,\n  getExtensionsRegistry,\n  JsonObject,\n  styled,\n  t,\n} from '@superset-ui/core';\nimport rison from 'rison';\nimport Collapse from 'src/components/Collapse';\nimport { User } from 'src/types/bootstrapTypes';\nimport { reject } from 'lodash';\nimport {\n  dangerouslyGetItemDoNotUse,\n  dangerouslySetItemDoNotUse,\n  getItem,\n  LocalStorageKeys,\n  setItem,\n} from 'src/utils/localStorageHelpers';\nimport ListViewCard from 'src/components/ListViewCard';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport {\n  CardContainer,\n  createErrorHandler,\n  getRecentActivityObjs,\n  getUserOwnedObjects,\n  loadingCardCount,\n  mq,\n} from 'src/views/CRUD/utils';\nimport { AntdSwitch } from 'src/components';\nimport getBootstrapData from 'src/utils/getBootstrapData';\nimport { TableTab } from 'src/views/CRUD/types';\nimport SubMenu, { SubMenuProps } from 'src/features/home/SubMenu';\nimport { userHasPermission } from 'src/dashboard/util/permissionUtils';\nimport { WelcomePageLastTab } from 'src/features/home/types';\nimport ActivityTable from 'src/features/home/ActivityTable';\nimport ChartTable from 'src/features/home/ChartTable';\nimport SavedQueries from 'src/features/home/SavedQueries';\nimport DashboardTable from 'src/features/home/DashboardTable';\n\nconst extensionsRegistry = getExtensionsRegistry();\n\ninterface WelcomeProps {\n  user: User;\n  addDangerToast: (arg0: string) => void;\n}\n\nexport interface ActivityData {\n  [TableTab.Created]?: JsonObject[];\n  [TableTab.Edited]?: JsonObject[];\n  [TableTab.Viewed]?: JsonObject[];\n  [TableTab.Other]?: JsonObject[];\n}\n\ninterface LoadingProps {\n  cover?: boolean;\n}\n\nconst DEFAULT_TAB_ARR = ['2', '3'];\n\nconst WelcomeContainer = styled.div`\n  background-color: ${({ theme }) => theme.colors.grayscale.light4};\n  .ant-row.menu {\n    margin-top: -15px;\n    background-color: ${({ theme }) => theme.colors.grayscale.light4};\n    &:after {\n      content: '';\n      display: block;\n      border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n      margin: 0px ${({ theme }) => theme.gridUnit * 6}px;\n      position: relative;\n      width: 100%;\n      ${mq[1]} {\n        margin-top: 5px;\n        margin: 0px 2px;\n      }\n    }\n    .ant-menu.ant-menu-light.ant-menu-root.ant-menu-horizontal {\n      padding-left: ${({ theme }) => theme.gridUnit * 8}px;\n    }\n    button {\n      padding: 3px 21px;\n    }\n  }\n  .ant-card-meta-description {\n    margin-top: ${({ theme }) => theme.gridUnit}px;\n  }\n  .ant-card.ant-card-bordered {\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  }\n  .ant-collapse-item .ant-collapse-content {\n    margin-bottom: ${({ theme }) => theme.gridUnit * -6}px;\n  }\n  div.ant-collapse-item:last-child.ant-collapse-item-active\n    .ant-collapse-header {\n    padding-bottom: ${({ theme }) => theme.gridUnit * 3}px;\n  }\n  div.ant-collapse-item:last-child .ant-collapse-header {\n    padding-bottom: ${({ theme }) => theme.gridUnit * 9}px;\n  }\n  .loading-cards {\n    margin-top: ${({ theme }) => theme.gridUnit * 8}px;\n    .ant-card-cover > div {\n      height: 168px;\n    }\n  }\n`;\n\nconst WelcomeNav = styled.div`\n  ${({ theme }) => `\n    .switch {\n      display: flex;\n      flex-direction: row;\n      margin: ${theme.gridUnit * 4}px;\n      span {\n        display: block;\n        margin: ${theme.gridUnit}px;\n        line-height: ${theme.gridUnit * 3.5}px;\n      }\n    }\n  `}\n`;\n\nconst bootstrapData = getBootstrapData();\n\nexport const LoadingCards = ({ cover }: LoadingProps) => (\n  <CardContainer showThumbnails={cover} className=\"loading-cards\">\n    {[...new Array(loadingCardCount)].map((_, index) => (\n      <ListViewCard\n        key={index}\n        cover={cover ? false : <></>}\n        description=\"\"\n        loading\n      />\n    ))}\n  </CardContainer>\n);\n\nfunction Welcome({ user, addDangerToast }: WelcomeProps) {\n  const canReadSavedQueries = userHasPermission(user, 'SavedQuery', 'can_read');\n  const userid = user.userId;\n  const id = userid!.toString(); // confident that user is not a guest user\n  const params = rison.encode({ page_size: 6 });\n  const recent = `/api/v1/log/recent_activity/?q=${params}`;\n  const [activeChild, setActiveChild] = useState('Loading');\n  const userKey = dangerouslyGetItemDoNotUse(id, null);\n  let defaultChecked = false;\n  const isThumbnailsEnabled = isFeatureEnabled(FeatureFlag.Thumbnails);\n  if (isThumbnailsEnabled) {\n    defaultChecked =\n      userKey?.thumbnails === undefined ? true : userKey?.thumbnails;\n  }\n  const [checked, setChecked] = useState(defaultChecked);\n  const [activityData, setActivityData] = useState<ActivityData | null>(null);\n  const [chartData, setChartData] = useState<Array<object> | null>(null);\n  const [queryData, setQueryData] = useState<Array<object> | null>(null);\n  const [dashboardData, setDashboardData] = useState<Array<object> | null>(\n    null,\n  );\n  const [isFetchingActivityData, setIsFetchingActivityData] = useState(true);\n\n  const collapseState = getItem(LocalStorageKeys.HomepageCollapseState, []);\n  const [activeState, setActiveState] = useState<Array<string>>(collapseState);\n\n  const handleCollapse = (state: Array<string>) => {\n    setActiveState(state);\n    setItem(LocalStorageKeys.HomepageCollapseState, state);\n  };\n\n  const SubmenuExtension = extensionsRegistry.get('home.submenu');\n  const WelcomeMessageExtension = extensionsRegistry.get('welcome.message');\n  const WelcomeTopExtension = extensionsRegistry.get('welcome.banner');\n  const WelcomeMainExtension = extensionsRegistry.get(\n    'welcome.main.replacement',\n  );\n\n  const [otherTabTitle, otherTabFilters] = useMemo(() => {\n    const lastTab = bootstrapData.common?.conf\n      .WELCOME_PAGE_LAST_TAB as WelcomePageLastTab;\n    const [customTitle, customFilter] = Array.isArray(lastTab)\n      ? lastTab\n      : [undefined, undefined];\n    if (customTitle && customFilter) {\n      return [t(customTitle), customFilter];\n    }\n    if (lastTab === 'all') {\n      return [t('All'), []];\n    }\n    return [\n      t('Examples'),\n      [\n        {\n          col: 'created_by',\n          opr: 'rel_o_m',\n          value: 0,\n        },\n      ],\n    ];\n  }, []);\n\n  useEffect(() => {\n    if (!otherTabFilters) {\n      return;\n    }\n    const activeTab = getItem(LocalStorageKeys.HomepageActivityFilter, null);\n    setActiveState(collapseState.length > 0 ? collapseState : DEFAULT_TAB_ARR);\n    getRecentActivityObjs(user.userId!, recent, addDangerToast, otherTabFilters)\n      .then(res => {\n        const data: ActivityData | null = {};\n        data[TableTab.Other] = res.other;\n        if (res.viewed) {\n          const filtered = reject(res.viewed, ['item_url', null]).map(r => r);\n          data[TableTab.Viewed] = filtered;\n          if (!activeTab && data[TableTab.Viewed]) {\n            setActiveChild(TableTab.Viewed);\n          } else if (!activeTab && !data[TableTab.Viewed]) {\n            setActiveChild(TableTab.Created);\n          } else setActiveChild(activeTab || TableTab.Created);\n        } else if (!activeTab) setActiveChild(TableTab.Created);\n        else setActiveChild(activeTab);\n        setActivityData(activityData => ({ ...activityData, ...data }));\n      })\n      .catch(\n        createErrorHandler((errMsg: unknown) => {\n          setActivityData(activityData => ({\n            ...activityData,\n            [TableTab.Viewed]: [],\n          }));\n          addDangerToast(\n            t('There was an issue fetching your recent activity: %s', errMsg),\n          );\n        }),\n      );\n\n    // Sets other activity data in parallel with recents api call\n    const ownSavedQueryFilters = [\n      {\n        col: 'created_by',\n        opr: 'rel_o_m',\n        value: `${id}`,\n      },\n    ];\n    Promise.all([\n      getUserOwnedObjects(id, 'dashboard')\n        .then(r => {\n          setDashboardData(r);\n          return Promise.resolve();\n        })\n        .catch((err: unknown) => {\n          setDashboardData([]);\n          addDangerToast(\n            t('There was an issue fetching your dashboards: %s', err),\n          );\n          return Promise.resolve();\n        }),\n      getUserOwnedObjects(id, 'chart')\n        .then(r => {\n          setChartData(r);\n          return Promise.resolve();\n        })\n        .catch((err: unknown) => {\n          setChartData([]);\n          addDangerToast(t('There was an issue fetching your chart: %s', err));\n          return Promise.resolve();\n        }),\n      canReadSavedQueries\n        ? getUserOwnedObjects(id, 'saved_query', ownSavedQueryFilters)\n            .then(r => {\n              setQueryData(r);\n              return Promise.resolve();\n            })\n            .catch((err: unknown) => {\n              setQueryData([]);\n              addDangerToast(\n                t('There was an issue fetching your saved queries: %s', err),\n              );\n              return Promise.resolve();\n            })\n        : Promise.resolve(),\n    ]).then(() => {\n      setIsFetchingActivityData(false);\n    });\n  }, [otherTabFilters]);\n\n  const handleToggle = () => {\n    setChecked(!checked);\n    dangerouslySetItemDoNotUse(id, { thumbnails: !checked });\n  };\n\n  useEffect(() => {\n    if (!collapseState && queryData?.length) {\n      setActiveState(activeState => [...activeState, '4']);\n    }\n    setActivityData(activityData => ({\n      ...activityData,\n      Created: [\n        ...(chartData?.slice(0, 3) || []),\n        ...(dashboardData?.slice(0, 3) || []),\n        ...(queryData?.slice(0, 3) || []),\n      ],\n    }));\n  }, [chartData, queryData, dashboardData]);\n\n  useEffect(() => {\n    if (!collapseState && activityData?.[TableTab.Viewed]?.length) {\n      setActiveState(activeState => ['1', ...activeState]);\n    }\n  }, [activityData]);\n\n  const isRecentActivityLoading =\n    !activityData?.[TableTab.Other] && !activityData?.[TableTab.Viewed];\n\n  const menuData: SubMenuProps = {\n    activeChild: 'Home',\n    name: t('Home'),\n  };\n\n  if (isThumbnailsEnabled) {\n    menuData.buttons = [\n      {\n        name: (\n          <WelcomeNav>\n            <div className=\"switch\">\n              <AntdSwitch checked={checked} onClick={handleToggle} />\n              <span>{t('Thumbnails')}</span>\n            </div>\n          </WelcomeNav>\n        ),\n        onClick: handleToggle,\n        buttonStyle: 'link',\n      },\n    ];\n  }\n\n  return (\n    <>\n      {SubmenuExtension ? (\n        <SubmenuExtension {...menuData} />\n      ) : (\n        <SubMenu {...menuData} />\n      )}\n      <WelcomeContainer>\n        {WelcomeMessageExtension && <WelcomeMessageExtension />}\n        {WelcomeTopExtension && <WelcomeTopExtension />}\n        {WelcomeMainExtension && <WelcomeMainExtension />}\n        {(!WelcomeTopExtension || !WelcomeMainExtension) && (\n          <>\n            <Collapse\n              activeKey={activeState}\n              onChange={handleCollapse}\n              ghost\n              bigger\n            >\n              <Collapse.Panel header={t('Recents')} key=\"1\">\n                {activityData &&\n                (activityData[TableTab.Viewed] ||\n                  activityData[TableTab.Other] ||\n                  activityData[TableTab.Created]) &&\n                activeChild !== 'Loading' ? (\n                  <ActivityTable\n                    user={{ userId: user.userId! }} // user is definitely not a guest user on this page\n                    activeChild={activeChild}\n                    setActiveChild={setActiveChild}\n                    activityData={activityData}\n                    isFetchingActivityData={isFetchingActivityData}\n                  />\n                ) : (\n                  <LoadingCards />\n                )}\n              </Collapse.Panel>\n              <Collapse.Panel header={t('Dashboards')} key=\"2\">\n                {!dashboardData || isRecentActivityLoading ? (\n                  <LoadingCards cover={checked} />\n                ) : (\n                  <DashboardTable\n                    user={user}\n                    mine={dashboardData}\n                    showThumbnails={checked}\n                    otherTabData={activityData?.[TableTab.Other]}\n                    otherTabFilters={otherTabFilters}\n                    otherTabTitle={otherTabTitle}\n                  />\n                )}\n              </Collapse.Panel>\n              <Collapse.Panel header={t('Charts')} key=\"3\">\n                {!chartData || isRecentActivityLoading ? (\n                  <LoadingCards cover={checked} />\n                ) : (\n                  <ChartTable\n                    showThumbnails={checked}\n                    user={user}\n                    mine={chartData}\n                    otherTabData={activityData?.[TableTab.Other]}\n                    otherTabFilters={otherTabFilters}\n                    otherTabTitle={otherTabTitle}\n                  />\n                )}\n              </Collapse.Panel>\n              {canReadSavedQueries && (\n                <Collapse.Panel header={t('Saved queries')} key=\"4\">\n                  {!queryData ? (\n                    <LoadingCards cover={checked} />\n                  ) : (\n                    <SavedQueries\n                      showThumbnails={checked}\n                      user={user}\n                      mine={queryData}\n                      featureFlag={isThumbnailsEnabled}\n                    />\n                  )}\n                </Collapse.Panel>\n              )}\n            </Collapse>\n          </>\n        )}\n      </WelcomeContainer>\n    </>\n  );\n}\n\nexport default withToasts(Welcome);\n"],"mappings":"4UAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,OAAO,EAAEC,QAAQ,QAAQ,OAAO;AAC3D,SACEC,gBAAgB,EAChBC,WAAW,EACXC,qBAAqB,EAErBC,MAAM,EACNC,CAAC,QACI,mBAAmB;AAC1B,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,QAAQ,MAAM,yBAAyB;;AAG9C,SACEC,0BAA0B,EAC1BC,0BAA0B,EAC1BC,OAAO,EACPC,gBAAgB,EAChBC,OAAO,QACF,+BAA+B;AACtC,OAAOC,YAAY,MAAM,6BAA6B;AACtD,OAAOC,UAAU,MAAM,yCAAyC;AAChE,SACEC,aAAa,EACbC,kBAAkB,EAClBC,qBAAqB,EACrBC,mBAAmB,EACnBC,gBAAgB,EAChBC,EAAE,QACG,sBAAsB;AAC7B,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,OAAOC,gBAAgB,MAAM,4BAA4B;AACzD,SAASC,QAAQ,QAAQ,sBAAsB;AAC/C,OAAOC,OAAyB,MAAM,2BAA2B;AACjE,SAASC,iBAAiB,QAAQ,oCAAoC;AAEtE,OAAOC,aAAa,MAAM,iCAAiC;AAC3D,OAAOC,UAAU,MAAM,8BAA8B;AACrD,OAAOC,YAAY,MAAM,gCAAgC;AACzD,OAAOC,cAAc,MAAM,kCAAkC,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAE9D,MAAMC,kBAAkB,GAAG7B,qBAAqB,EAAE;AAkBlD,MAAM8B,eAAe,GAAG,CAAC,GAAG,EAAE,GAAG,CAAC;AAElC,MAAMC,gBAAgB,GAAG9B,MAAM,CAAC+B,GAAG;sBACb,CAAC,EAAEC,KAAK,EAAE,KAAKA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,MAAM;;;wBAG1C,CAAC,EAAEH,KAAK,EAAE,KAAKA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACC,MAAM;;;;0BAI1C,CAAC,EAAEH,KAAK,EAAE,KAAKA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACE,MAAM;oBAClD,CAAC,EAAEJ,KAAK,EAAE,KAAKA,KAAK,CAACK,QAAQ,GAAG,CAAC;;;QAG7CrB,EAAE,CAAC,CAAC,CAAC;;;;;;sBAMS,CAAC,EAAEgB,KAAK,EAAE,KAAKA,KAAK,CAACK,QAAQ,GAAG,CAAC;;;;;;;kBAOrC,CAAC,EAAEL,KAAK,EAAE,KAAKA,KAAK,CAACK,QAAQ;;;wBAGvB,CAAC,EAAEL,KAAK,EAAE,KAAKA,KAAK,CAACC,MAAM,CAACC,SAAS,CAACE,MAAM;;;qBAG/C,CAAC,EAAEJ,KAAK,EAAE,KAAKA,KAAK,CAACK,QAAQ,GAAG,CAAC,CAAC;;;;sBAIjC,CAAC,EAAEL,KAAK,EAAE,KAAKA,KAAK,CAACK,QAAQ,GAAG,CAAC;;;sBAGjC,CAAC,EAAEL,KAAK,EAAE,KAAKA,KAAK,CAACK,QAAQ,GAAG,CAAC;;;kBAGrC,CAAC,EAAEL,KAAK,EAAE,KAAKA,KAAK,CAACK,QAAQ,GAAG,CAAC;;;;;CAKlD;AAED,MAAMC,UAAU,GAAGtC,MAAM,CAAC+B,GAAG;IACzB,CAAC,EAAEC,KAAK,EAAE,KAAK;;;;gBAIHA,KAAK,CAACK,QAAQ,GAAG,CAAC;;;kBAGhBL,KAAK,CAACK,QAAQ;uBACTL,KAAK,CAACK,QAAQ,GAAG,GAAG;;;GAGxC;CACF;AAED,MAAME,aAAa,GAAGrB,gBAAgB,EAAE;AAExC,OAAO,MAAMsB,YAAY,GAAGA,CAAC,EAAEC,KAAK,EAAgB,KAClDd,aAAA,CAAChB,aAAa,IAAC+B,cAAc,EAAED,KAAM,EAACE,SAAS,EAAC,eAAe;AAC5D,CAAC,GAAG,IAAIC,KAAK,CAAC7B,gBAAgB,CAAC,CAAC,CAAC8B,GAAG,CAAC,CAACC,CAAC,EAAEC,KAAK,KAC7CpB,aAAA,CAAClB,YAAY,IACXuC,GAAG,EAAED,KAAM,EACXN,KAAK,EAAEA,KAAK,GAAG,KAAK,GAAGd,aAAA,CAAAlC,KAAA,CAAAwD,QAAA,MAAE,CAAI,EAC7BC,WAAW,EAAC,EAAE,EACdC,OAAO,SAEV;AACY,CAChB;AAED,SAASC,OAAOA,CAAC,EAAEC,IAAI,EAAEC,cAAc,EAAgB;EACrD,MAAMC,mBAAmB,GAAGlC,iBAAiB,CAACgC,IAAI,EAAE,YAAY,EAAE,UAAU,CAAC;EAC7E,MAAMG,MAAM,GAAGH,IAAI,CAACI,MAAM;EAC1B,MAAMC,EAAE,GAAGF,MAAO,CAACG,QAAQ,EAAE,CAAC,CAAC;EAC/B,MAAMC,MAAM,GAAG1D,KAAK,CAAC2D,MAAM,CAAC,EAAEC,SAAS,EAAE,CAAC,EAAE,CAAC;EAC7C,MAAMC,MAAM,GAAG,kCAAkCH,MAAM,EAAE;EACzD,MAAM,CAACI,WAAW,EAAEC,cAAc,CAAC,GAAGrE,QAAQ,CAAC,SAAS,CAAC;EACzD,MAAMsE,OAAO,GAAG9D,0BAA0B,CAACsD,EAAE,EAAE,IAAI,CAAC;EACpD,IAAIS,cAAc,GAAG,KAAK;EAC1B,MAAMC,mBAAmB,GAAGvE,gBAAgB,CAACC,WAAW,CAACuE,UAAU,CAAC;EACpE,IAAID,mBAAmB,EAAE;IACvBD,cAAc;IACZ,CAAAD,OAAO,oBAAPA,OAAO,CAAEI,UAAU,MAAKC,SAAS,GAAG,IAAI,GAAGL,OAAO,oBAAPA,OAAO,CAAEI,UAAU;;EAElE,MAAM,CAACE,OAAO,EAAEC,UAAU,CAAC,GAAG7E,QAAQ,CAACuE,cAAc,CAAC;EACtD,MAAM,CAACO,YAAY,EAAEC,eAAe,CAAC,GAAG/E,QAAQ,CAAsB,IAAI,CAAC;EAC3E,MAAM,CAACgF,SAAS,EAAEC,YAAY,CAAC,GAAGjF,QAAQ,CAAuB,IAAI,CAAC;EACtE,MAAM,CAACkF,SAAS,EAAEC,YAAY,CAAC,GAAGnF,QAAQ,CAAuB,IAAI,CAAC;EACtE,MAAM,CAACoF,aAAa,EAAEC,gBAAgB,CAAC,GAAGrF,QAAQ,CAChD,IAAI,CACL;EACD,MAAM,CAACsF,sBAAsB,EAAEC,yBAAyB,CAAC,GAAGvF,QAAQ,CAAC,IAAI,CAAC;EAE1E,MAAMwF,aAAa,GAAG9E,OAAO,CAACC,gBAAgB,CAAC8E,qBAAqB,EAAE,EAAE,CAAC;EACzE,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG3F,QAAQ,CAAgBwF,aAAa,CAAC;EAE5E,MAAMI,cAAc,GAAGA,CAACC,KAAoB,KAAI;IAC9CF,cAAc,CAACE,KAAK,CAAC;IACrBjF,OAAO,CAACD,gBAAgB,CAAC8E,qBAAqB,EAAEI,KAAK,CAAC;EACxD,CAAC;EAED,MAAMC,gBAAgB,GAAG9D,kBAAkB,CAAC+D,GAAG,CAAC,cAAc,CAAC;EAC/D,MAAMC,uBAAuB,GAAGhE,kBAAkB,CAAC+D,GAAG,CAAC,iBAAiB,CAAC;EACzE,MAAME,mBAAmB,GAAGjE,kBAAkB,CAAC+D,GAAG,CAAC,gBAAgB,CAAC;EACpE,MAAMG,oBAAoB,GAAGlE,kBAAkB,CAAC+D,GAAG,CACjD,0BAA0B,CAC3B;EAED,MAAM,CAACI,aAAa,EAAEC,eAAe,CAAC,GAAGrG,OAAO,CAAC,MAAK,KAAAsG,qBAAA;IACpD,MAAMC,OAAO,IAAAD,qBAAA,GAAG1D,aAAa,CAAC4D,MAAM,qBAApBF,qBAAA,CAAsBG,IAAI;IACvCC,qBAA2C;IAC9C,MAAM,CAACC,WAAW,EAAEC,YAAY,CAAC,GAAG3D,KAAK,CAAC4D,OAAO,CAACN,OAAO,CAAC;IACtDA,OAAO;IACP,CAAC3B,SAAS,EAAEA,SAAS,CAAC;IAC1B,IAAI+B,WAAW,IAAIC,YAAY,EAAE;MAC/B,OAAO,CAACtG,CAAC,CAACqG,WAAW,CAAC,EAAEC,YAAY,CAAC;;IAEvC,IAAIL,OAAO,KAAK,KAAK,EAAE;MACrB,OAAO,CAACjG,CAAC,CAAC,KAAK,CAAC,EAAE,EAAE,CAAC;;IAEvB,OAAO;IACLA,CAAC,CAAC,UAAU,CAAC;IACb;IACE;MACEwG,GAAG,EAAE,YAAY;MACjBC,GAAG,EAAE,SAAS;MACdC,KAAK,EAAE;KACR,CACF,CACF;;;EACH,CAAC,EAAE,EAAE,CAAC;EAENjH,SAAS,CAAC,MAAK;IACb,IAAI,CAACsG,eAAe,EAAE;MACpB;;IAEF,MAAMY,SAAS,GAAGtG,OAAO,CAACC,gBAAgB,CAACsG,sBAAsB,EAAE,IAAI,CAAC;IACxEtB,cAAc,CAACH,aAAa,CAAC0B,MAAM,GAAG,CAAC,GAAG1B,aAAa,GAAGvD,eAAe,CAAC;IAC1EhB,qBAAqB,CAACwC,IAAI,CAACI,MAAO,EAAEM,MAAM,EAAET,cAAc,EAAE0C,eAAe,CAAC;IACzEe,IAAI,CAAC,CAAAC,GAAG,KAAG;MACV,MAAMC,IAAI,GAAwB,EAAE;MACpCA,IAAI,CAAC9F,QAAQ,CAAC+F,KAAK,CAAC,GAAGF,GAAG,CAACG,KAAK;MAChC,IAAIH,GAAG,CAACI,MAAM,EAAE;QACd,MAAMC,QAAQ,GAAGC,OAAA,CAAON,GAAG,CAACI,MAAM,EAAE,CAAC,UAAU,EAAE,IAAI,CAAC,CAAC,CAACvE,GAAG,CAAC,CAAA0E,CAAC,KAAIA,CAAC,CAAC;QACnEN,IAAI,CAAC9F,QAAQ,CAACqG,MAAM,CAAC,GAAGH,QAAQ;QAChC,IAAI,CAACT,SAAS,IAAIK,IAAI,CAAC9F,QAAQ,CAACqG,MAAM,CAAC,EAAE;UACvCvD,cAAc,CAAC9C,QAAQ,CAACqG,MAAM,CAAC;SAChC;QAAM,IAAI,CAACZ,SAAS,IAAI,CAACK,IAAI,CAAC9F,QAAQ,CAACqG,MAAM,CAAC,EAAE;UAC/CvD,cAAc,CAAC9C,QAAQ,CAACsG,OAAO,CAAC;SACjC;;QAAMxD,cAAc,CAAC2C,SAAS,IAAIzF,QAAQ,CAACsG,OAAO,CAAC;OACrD;MAAM,IAAI,CAACb,SAAS;MAAE3C,cAAc,CAAC9C,QAAQ,CAACsG,OAAO,CAAC,CAAC;;MACnDxD,cAAc,CAAC2C,SAAS,CAAC;MAC9BjC,eAAe,CAAC,CAAAD,YAAY,MAAK,EAAE,GAAGA,YAAY,EAAE,GAAGuC,IAAI,EAAE,CAAC,CAAC;IACjE,CAAC,CAAC;IACDS,KAAK,CACJ9G,kBAAkB,CAAC,CAAC+G,MAAe,KAAI;MACrChD,eAAe,CAAC,CAAAD,YAAY,MAAK;QAC/B,GAAGA,YAAY;QACf,CAACvD,QAAQ,CAACqG,MAAM,GAAG;OACpB,CAAC,CAAC;MACHlE,cAAc,CACZrD,CAAC,CAAC,sDAAsD,EAAE0H,MAAM,CAAC,CAClE;IACH,CAAC,CAAC,CACH;IAEH;IACA,MAAMC,oBAAoB,GAAG;IAC3B;MACEnB,GAAG,EAAE,YAAY;MACjBC,GAAG,EAAE,SAAS;MACdC,KAAK,EAAE,GAAGjD,EAAE;KACb,CACF;;IACDmE,OAAO,CAACC,GAAG,CAAC;IACVhH,mBAAmB,CAAC4C,EAAE,EAAE,WAAW,CAAC;IACjCqD,IAAI,CAAC,CAAAQ,CAAC,KAAG;MACRtC,gBAAgB,CAACsC,CAAC,CAAC;MACnB,OAAOM,OAAO,CAACE,OAAO,EAAE;IAC1B,CAAC,CAAC;IACDL,KAAK,CAAC,CAACM,GAAY,KAAI;MACtB/C,gBAAgB,CAAC,EAAE,CAAC;MACpB3B,cAAc,CACZrD,CAAC,CAAC,iDAAiD,EAAE+H,GAAG,CAAC,CAC1D;MACD,OAAOH,OAAO,CAACE,OAAO,EAAE;IAC1B,CAAC,CAAC;IACJjH,mBAAmB,CAAC4C,EAAE,EAAE,OAAO,CAAC;IAC7BqD,IAAI,CAAC,CAAAQ,CAAC,KAAG;MACR1C,YAAY,CAAC0C,CAAC,CAAC;MACf,OAAOM,OAAO,CAACE,OAAO,EAAE;IAC1B,CAAC,CAAC;IACDL,KAAK,CAAC,CAACM,GAAY,KAAI;MACtBnD,YAAY,CAAC,EAAE,CAAC;MAChBvB,cAAc,CAACrD,CAAC,CAAC,4CAA4C,EAAE+H,GAAG,CAAC,CAAC;MACpE,OAAOH,OAAO,CAACE,OAAO,EAAE;IAC1B,CAAC,CAAC;IACJxE,mBAAmB;IACfzC,mBAAmB,CAAC4C,EAAE,EAAE,aAAa,EAAEkE,oBAAoB,CAAC;IACzDb,IAAI,CAAC,CAAAQ,CAAC,KAAG;MACRxC,YAAY,CAACwC,CAAC,CAAC;MACf,OAAOM,OAAO,CAACE,OAAO,EAAE;IAC1B,CAAC,CAAC;IACDL,KAAK,CAAC,CAACM,GAAY,KAAI;MACtBjD,YAAY,CAAC,EAAE,CAAC;MAChBzB,cAAc,CACZrD,CAAC,CAAC,oDAAoD,EAAE+H,GAAG,CAAC,CAC7D;MACD,OAAOH,OAAO,CAACE,OAAO,EAAE;IAC1B,CAAC,CAAC;IACJF,OAAO,CAACE,OAAO,EAAE;IACtB,CAAC,CAAChB,IAAI,CAAC,MAAK;MACX5B,yBAAyB,CAAC,KAAK,CAAC;IAClC,CAAC,CAAC;EACJ,CAAC,EAAE,CAACa,eAAe,CAAC,CAAC;EAErB,MAAMiC,YAAY,GAAGA,CAAA,KAAK;IACxBxD,UAAU,CAAC,CAACD,OAAO,CAAC;IACpBnE,0BAA0B,CAACqD,EAAE,EAAE,EAAEY,UAAU,EAAE,CAACE,OAAO,EAAE,CAAC;EAC1D,CAAC;EAED9E,SAAS,CAAC,MAAK;IACb,IAAI,CAAC0F,aAAa,IAAIN,SAAS,YAATA,SAAS,CAAEgC,MAAM,EAAE;MACvCvB,cAAc,CAAC,CAAAD,WAAW,KAAI,CAAC,GAAGA,WAAW,EAAE,GAAG,CAAC,CAAC;;IAEtDX,eAAe,CAAC,CAAAD,YAAY,MAAK;MAC/B,GAAGA,YAAY;MACf+C,OAAO,EAAE;MACP,IAAI,CAAA7C,SAAS,oBAATA,SAAS,CAAEsD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI,EAAE,CAAC;MACjC,IAAI,CAAAlD,aAAa,oBAAbA,aAAa,CAAEkD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI,EAAE,CAAC;MACrC,IAAI,CAAApD,SAAS,oBAATA,SAAS,CAAEoD,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,KAAI,EAAE,CAAC;;KAEpC,CAAC,CAAC;EACL,CAAC,EAAE,CAACtD,SAAS,EAAEE,SAAS,EAAEE,aAAa,CAAC,CAAC;EAEzCtF,SAAS,CAAC,MAAK,KAAAyI,qBAAA;IACb,IAAI,CAAC/C,aAAa,IAAIV,YAAY,aAAAyD,qBAAA,GAAZzD,YAAY,CAAGvD,QAAQ,CAACqG,MAAM,CAAC,aAA/BW,qBAAA,CAAiCrB,MAAM,EAAE;MAC7DvB,cAAc,CAAC,CAAAD,WAAW,KAAI,CAAC,GAAG,EAAE,GAAGA,WAAW,CAAC,CAAC;;EAExD,CAAC,EAAE,CAACZ,YAAY,CAAC,CAAC;EAElB,MAAM0D,uBAAuB,GAC3B,EAAC1D,YAAY,YAAZA,YAAY,CAAGvD,QAAQ,CAAC+F,KAAK,CAAC,KAAI,EAACxC,YAAY,YAAZA,YAAY,CAAGvD,QAAQ,CAACqG,MAAM,CAAC;EAErE,MAAMa,QAAQ,GAAiB;IAC7BrE,WAAW,EAAE,MAAM;IACnBsE,IAAI,EAAErI,CAAC,CAAC,MAAM;GACf;EAED,IAAImE,mBAAmB,EAAE;IACvBiE,QAAQ,CAACE,OAAO,GAAG;IACjB;MACED,IAAI,EACF3G,aAAA,CAACW,UAAU;MACTX,aAAA,UAAKgB,SAAS,EAAC,QAAQ;MACrBhB,aAAA,CAACV,UAAU,IAACuD,OAAO,EAAEA,OAAQ,EAACgE,OAAO,EAAEP,YAAa,GACpD;MAAAtG,aAAA,eAAO1B,CAAC,CAAC,YAAY,CAAQ;MAC1B;MACK,CACb;MACDuI,OAAO,EAAEP,YAAY;MACrBQ,WAAW,EAAE;KACd,CACF;;;EAGH,OACE9G,aAAA,CAAAlC,KAAA,CAAAwD,QAAA;EACGyC,gBAAgB,GACf/D,aAAA,CAAC+D,gBAAgB,EAAK2C,QAAS,CAAG,GAElC1G,aAAA,CAACP,OAAO,EAAKiH,QAAS,CACvB;EACD1G,aAAA,CAACG,gBAAgB;EACd8D,uBAAuB,IAAIjE,aAAA,CAACiE,uBAAuB,OAAG;EACtDC,mBAAmB,IAAIlE,aAAA,CAACkE,mBAAmB,OAAG;EAC9CC,oBAAoB,IAAInE,aAAA,CAACmE,oBAAoB,OAAG;EAChD,CAAC,CAACD,mBAAmB,IAAI,CAACC,oBAAoB,KAC7CnE,aAAA,CAAAlC,KAAA,CAAAwD,QAAA;EACEtB,aAAA,CAACxB,QAAQ,IACPuI,SAAS,EAAEpD,WAAY,EACvBqD,QAAQ,EAAEnD,cAAe,EACzBoD,KAAK,QACLC,MAAM;EAENlH,aAAA,CAACxB,QAAQ,CAAC2I,KAAK,IAACC,MAAM,EAAE9I,CAAC,CAAC,SAAS,CAAE,EAAC+C,GAAG,EAAC,GAAG;EAC1C0B,YAAY;EACZA,YAAY,CAACvD,QAAQ,CAACqG,MAAM,CAAC;EAC5B9C,YAAY,CAACvD,QAAQ,CAAC+F,KAAK,CAAC;EAC5BxC,YAAY,CAACvD,QAAQ,CAACsG,OAAO,CAAC,CAAC;EACjCzD,WAAW,KAAK,SAAS,GACvBrC,aAAA,CAACL,aAAa,IACZ+B,IAAI,EAAE,EAAEI,MAAM,EAAEJ,IAAI,CAACI,MAAO,EAAG,CAAC;IAAA,EAChCO,WAAW,EAAEA,WAAY,EACzBC,cAAc,EAAEA,cAAe,EAC/BS,YAAY,EAAEA,YAAa,EAC3BQ,sBAAsB,EAAEA,sBAAuB,GAC/C,GAEFvD,aAAA,CAACa,YAAY;EAED,CAChB;EAAAb,aAAA,CAACxB,QAAQ,CAAC2I,KAAK,IAACC,MAAM,EAAE9I,CAAC,CAAC,YAAY,CAAE,EAAC+C,GAAG,EAAC,GAAG;EAC7C,CAACgC,aAAa,IAAIoD,uBAAuB,GACxCzG,aAAA,CAACa,YAAY,IAACC,KAAK,EAAE+B,OAAQ,GAAG,GAEhC7C,aAAA,CAACF,cAAc,IACb4B,IAAI,EAAEA,IAAK,EACX2F,IAAI,EAAEhE,aAAc,EACpBtC,cAAc,EAAE8B,OAAQ,EACxByE,YAAY,EAAEvE,YAAY,oBAAZA,YAAY,CAAGvD,QAAQ,CAAC+F,KAAK,CAAE,EAC7ClB,eAAe,EAAEA,eAAgB,EACjCD,aAAa,EAAEA,aAAc;EAGnB,CAChB;EAAApE,aAAA,CAACxB,QAAQ,CAAC2I,KAAK,IAACC,MAAM,EAAE9I,CAAC,CAAC,QAAQ,CAAE,EAAC+C,GAAG,EAAC,GAAG;EACzC,CAAC4B,SAAS,IAAIwD,uBAAuB,GACpCzG,aAAA,CAACa,YAAY,IAACC,KAAK,EAAE+B,OAAQ,GAAG,GAEhC7C,aAAA,CAACJ,UAAU,IACTmB,cAAc,EAAE8B,OAAQ,EACxBnB,IAAI,EAAEA,IAAK,EACX2F,IAAI,EAAEpE,SAAU,EAChBqE,YAAY,EAAEvE,YAAY,oBAAZA,YAAY,CAAGvD,QAAQ,CAAC+F,KAAK,CAAE,EAC7ClB,eAAe,EAAEA,eAAgB,EACjCD,aAAa,EAAEA,aAAc;EAGnB,CAChB;EAACxC,mBAAmB,IAClB5B,aAAA,CAACxB,QAAQ,CAAC2I,KAAK,IAACC,MAAM,EAAE9I,CAAC,CAAC,eAAe,CAAE,EAAC+C,GAAG,EAAC,GAAG;EAChD,CAAC8B,SAAS,GACTnD,aAAA,CAACa,YAAY,IAACC,KAAK,EAAE+B,OAAQ,GAAG,GAEhC7C,aAAA,CAACH,YAAY,IACXkB,cAAc,EAAE8B,OAAQ,EACxBnB,IAAI,EAAEA,IAAK,EACX2F,IAAI,EAAElE,SAAU,EAChBoE,WAAW,EAAE9E,mBAAoB;EAGvB;EAEV;EACZ;EAEc;EACpB,CAAG;AAEP,CAAC+E,aAAA,CAxRQ/F,OAAO,wfAAAgG,QAAA;AA0RD1I,UAAU,CAAC0C,OAAO,CAAC,CAAlC,eAAAgG,QAAA,CAAmC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAhF,SAAA,MAAA8E,cAAA,WAAAA,cAAA,CAAAG,QAAA,CA5X7B5H,kBAAkB,2GAAAyH,cAAA,CAAAG,QAAA,CAkBlB3H,eAAe,wGAAAwH,cAAA,CAAAG,QAAA,CAEf1H,gBAAgB,yGAAAuH,cAAA,CAAAG,QAAA,CAgDhBlH,UAAU,mGAAA+G,cAAA,CAAAG,QAAA,CAeVjH,aAAa,sGAAA8G,cAAA,CAAAG,QAAA,CAENhH,YAAY,qGAAA6G,cAAA,CAAAG,QAAA,CAahBpG,OAAO,gGAAAiG,cAAA,CAAAG,QAAA,CAAAJ,QAAA,wHAAAK,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAlF,SAAA,CAAAkF,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}