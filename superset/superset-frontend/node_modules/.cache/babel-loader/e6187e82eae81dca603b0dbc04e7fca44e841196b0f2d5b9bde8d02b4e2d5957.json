{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  onUndo: PropTypes.func.isRequired,\n  onRedo: PropTypes.func.isRequired\n};\n\nclass UndoRedoKeyListeners extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleKeydown = this.handleKeydown.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown(event) {\n    const controlOrCommand = event.ctrlKey || event.metaKey;\n    if (controlOrCommand) {\n      const isZChar = event.key === 'z' || event.keyCode === 90;\n      const isYChar = event.key === 'y' || event.keyCode === 89;\n      const isEditingMarkdown =\n      document && document.querySelector('.dashboard-markdown--editing');\n      const isEditingTitle =\n      document && document.querySelector('.editable-title--editing');\n\n      if (!isEditingMarkdown && !isEditingTitle && (isZChar || isYChar)) {\n        event.preventDefault();\n        const func = isZChar ? this.props.onUndo : this.props.onRedo;\n        func();\n      }\n    }\n  }\n\n  render() {\n    return null;\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nUndoRedoKeyListeners.propTypes = propTypes;const _default =\n\nUndoRedoKeyListeners;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/UndoRedoKeyListeners/index.jsx\");reactHotLoader.register(UndoRedoKeyListeners, \"UndoRedoKeyListeners\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/UndoRedoKeyListeners/index.jsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/UndoRedoKeyListeners/index.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","PropTypes","propTypes","onUndo","func","isRequired","onRedo","UndoRedoKeyListeners","PureComponent","constructor","props","handleKeydown","bind","componentDidMount","document","addEventListener","componentWillUnmount","removeEventListener","event","controlOrCommand","ctrlKey","metaKey","isZChar","key","keyCode","isYChar","isEditingMarkdown","querySelector","isEditingTitle","preventDefault","render","__reactstandin__regenerateByEval","code","eval","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/UndoRedoKeyListeners/index.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nconst propTypes = {\n  onUndo: PropTypes.func.isRequired,\n  onRedo: PropTypes.func.isRequired,\n};\n\nclass UndoRedoKeyListeners extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.handleKeydown = this.handleKeydown.bind(this);\n  }\n\n  componentDidMount() {\n    document.addEventListener('keydown', this.handleKeydown);\n  }\n\n  componentWillUnmount() {\n    document.removeEventListener('keydown', this.handleKeydown);\n  }\n\n  handleKeydown(event) {\n    const controlOrCommand = event.ctrlKey || event.metaKey;\n    if (controlOrCommand) {\n      const isZChar = event.key === 'z' || event.keyCode === 90;\n      const isYChar = event.key === 'y' || event.keyCode === 89;\n      const isEditingMarkdown =\n        document && document.querySelector('.dashboard-markdown--editing');\n      const isEditingTitle =\n        document && document.querySelector('.editable-title--editing');\n\n      if (!isEditingMarkdown && !isEditingTitle && (isZChar || isYChar)) {\n        event.preventDefault();\n        const func = isZChar ? this.props.onUndo : this.props.onRedo;\n        func();\n      }\n    }\n  }\n\n  render() {\n    return null;\n  }\n}\n\nUndoRedoKeyListeners.propTypes = propTypes;\n\nexport default UndoRedoKeyListeners;\n"],"mappings":"wSAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,KAAK,MAAM,OAAO;AACzB,OAAOC,SAAS,MAAM,YAAY;;AAElC,MAAMC,SAAS,GAAG;EAChBC,MAAM,EAAEF,SAAS,CAACG,IAAI,CAACC,UAAU;EACjCC,MAAM,EAAEL,SAAS,CAACG,IAAI,CAACC;AACzB,CAAC;;AAED,MAAME,oBAAoB,SAASP,KAAK,CAACQ,aAAa,CAAC;EACrDC,WAAWA,CAACC,KAAK,EAAE;IACjB,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,aAAa,GAAG,IAAI,CAACA,aAAa,CAACC,IAAI,CAAC,IAAI,CAAC;EACpD;;EAEAC,iBAAiBA,CAAA,EAAG;IAClBC,QAAQ,CAACC,gBAAgB,CAAC,SAAS,EAAE,IAAI,CAACJ,aAAa,CAAC;EAC1D;;EAEAK,oBAAoBA,CAAA,EAAG;IACrBF,QAAQ,CAACG,mBAAmB,CAAC,SAAS,EAAE,IAAI,CAACN,aAAa,CAAC;EAC7D;;EAEAA,aAAaA,CAACO,KAAK,EAAE;IACnB,MAAMC,gBAAgB,GAAGD,KAAK,CAACE,OAAO,IAAIF,KAAK,CAACG,OAAO;IACvD,IAAIF,gBAAgB,EAAE;MACpB,MAAMG,OAAO,GAAGJ,KAAK,CAACK,GAAG,KAAK,GAAG,IAAIL,KAAK,CAACM,OAAO,KAAK,EAAE;MACzD,MAAMC,OAAO,GAAGP,KAAK,CAACK,GAAG,KAAK,GAAG,IAAIL,KAAK,CAACM,OAAO,KAAK,EAAE;MACzD,MAAME,iBAAiB;MACrBZ,QAAQ,IAAIA,QAAQ,CAACa,aAAa,CAAC,8BAA8B,CAAC;MACpE,MAAMC,cAAc;MAClBd,QAAQ,IAAIA,QAAQ,CAACa,aAAa,CAAC,0BAA0B,CAAC;;MAEhE,IAAI,CAACD,iBAAiB,IAAI,CAACE,cAAc,KAAKN,OAAO,IAAIG,OAAO,CAAC,EAAE;QACjEP,KAAK,CAACW,cAAc,CAAC,CAAC;QACtB,MAAMzB,IAAI,GAAGkB,OAAO,GAAG,IAAI,CAACZ,KAAK,CAACP,MAAM,GAAG,IAAI,CAACO,KAAK,CAACJ,MAAM;QAC5DF,IAAI,CAAC,CAAC;MACR;IACF;EACF;;EAEA0B,MAAMA,CAAA,EAAG;IACP,OAAO,IAAI;EACb,CAAC;EAAAC,iCAAAR,GAAA,EAAAS,IAAA;IAAA,KAAAT,GAAA,IAAAU,IAAA,CAAAD,IAAA,GACH;AAEAzB,oBAAoB,CAACL,SAAS,GAAGA,SAAS,CAAC,MAAAgC,QAAA;;AAE5B3B,oBAAoB,CAAnC,eAAA2B,QAAA,CAAoC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA5C9BrC,SAAS,iIAAAiC,cAAA,CAAAI,QAAA,CAKThC,oBAAoB,4IAAA4B,cAAA,CAAAI,QAAA,CAAAL,QAAA,uJAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}