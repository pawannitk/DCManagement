{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport sql from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport { t } from '@superset-ui/core';\nimport ModalTrigger from 'src/components/ModalTrigger';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nSyntaxHighlighter.registerLanguage('sql', sql);\nconst shrinkSql = (sql, maxLines, maxWidth) => {\n  const ssql = sql || '';\n  let lines = ssql.split('\\n');\n  if (lines.length >= maxLines) {\n    lines = lines.slice(0, maxLines);\n    lines.push('{...}');\n  }\n  return lines.\n  map((line) => {\n    if (line.length > maxWidth) {\n      return `${line.slice(0, maxWidth)}{...}`;\n    }\n    return line;\n  }).\n  join('\\n');\n};\nfunction TriggerNode({ shrink, sql, maxLines, maxWidth }) {\n  return ___EmotionJSX(SyntaxHighlighter, { language: \"sql\", style: github },\n  shrink ? shrinkSql(sql, maxLines, maxWidth) : sql\n  );\n}\nfunction HighlightSqlModal({ rawSql, sql }) {\n  return ___EmotionJSX(\"div\", null,\n  ___EmotionJSX(\"h4\", null, t('Source SQL')),\n  ___EmotionJSX(SyntaxHighlighter, { language: \"sql\", style: github },\n  sql\n  ),\n  rawSql && rawSql !== sql && ___EmotionJSX(\"div\", null,\n  ___EmotionJSX(\"h4\", null, t('Executed SQL')),\n  ___EmotionJSX(SyntaxHighlighter, { language: \"sql\", style: github },\n  rawSql\n  )\n  )\n  );\n}\nfunction HighlightedSql({ sql, rawSql, maxWidth = 50, maxLines = 5, shrink = false }) {\n  return ___EmotionJSX(ModalTrigger, { modalTitle: t('SQL'), modalBody: ___EmotionJSX(HighlightSqlModal, { rawSql: rawSql, sql: sql }), triggerNode: ___EmotionJSX(TriggerNode, { shrink: shrink, sql: sql, maxLines: maxLines, maxWidth: maxWidth }) });\n}const _default =\nHighlightedSql;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(shrinkSql, \"shrinkSql\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/HighlightedSql/index.tsx\");reactHotLoader.register(TriggerNode, \"TriggerNode\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/HighlightedSql/index.tsx\");reactHotLoader.register(HighlightSqlModal, \"HighlightSqlModal\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/HighlightedSql/index.tsx\");reactHotLoader.register(HighlightedSql, \"HighlightedSql\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/HighlightedSql/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/HighlightedSql/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","SyntaxHighlighter","sql","github","t","ModalTrigger","jsx","___EmotionJSX","registerLanguage","shrinkSql","maxLines","maxWidth","ssql","lines","split","length","slice","push","map","line","join","TriggerNode","shrink","language","style","HighlightSqlModal","rawSql","HighlightedSql","modalTitle","modalBody","triggerNode","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/components/HighlightedSql/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport SyntaxHighlighter from 'react-syntax-highlighter/dist/cjs/light';\nimport sql from 'react-syntax-highlighter/dist/cjs/languages/hljs/sql';\nimport github from 'react-syntax-highlighter/dist/cjs/styles/hljs/github';\nimport { t } from '@superset-ui/core';\nimport ModalTrigger from 'src/components/ModalTrigger';\n\nSyntaxHighlighter.registerLanguage('sql', sql);\n\nexport interface HighlightedSqlProps {\n  sql: string;\n  rawSql?: string;\n  maxWidth?: number;\n  maxLines?: number;\n  shrink?: any;\n}\n\ninterface HighlightedSqlModalTypes {\n  rawSql?: string;\n  sql: string;\n}\n\ninterface TriggerNodeProps {\n  shrink: boolean;\n  sql: string;\n  maxLines: number;\n  maxWidth: number;\n}\n\nconst shrinkSql = (sql: string, maxLines: number, maxWidth: number) => {\n  const ssql = sql || '';\n  let lines = ssql.split('\\n');\n  if (lines.length >= maxLines) {\n    lines = lines.slice(0, maxLines);\n    lines.push('{...}');\n  }\n  return lines\n    .map(line => {\n      if (line.length > maxWidth) {\n        return `${line.slice(0, maxWidth)}{...}`;\n      }\n      return line;\n    })\n    .join('\\n');\n};\n\nfunction TriggerNode({ shrink, sql, maxLines, maxWidth }: TriggerNodeProps) {\n  return (\n    <SyntaxHighlighter language=\"sql\" style={github}>\n      {shrink ? shrinkSql(sql, maxLines, maxWidth) : sql}\n    </SyntaxHighlighter>\n  );\n}\n\nfunction HighlightSqlModal({ rawSql, sql }: HighlightedSqlModalTypes) {\n  return (\n    <div>\n      <h4>{t('Source SQL')}</h4>\n      <SyntaxHighlighter language=\"sql\" style={github}>\n        {sql}\n      </SyntaxHighlighter>\n      {rawSql && rawSql !== sql && (\n        <div>\n          <h4>{t('Executed SQL')}</h4>\n          <SyntaxHighlighter language=\"sql\" style={github}>\n            {rawSql}\n          </SyntaxHighlighter>\n        </div>\n      )}\n    </div>\n  );\n}\n\nfunction HighlightedSql({\n  sql,\n  rawSql,\n  maxWidth = 50,\n  maxLines = 5,\n  shrink = false,\n}: HighlightedSqlProps) {\n  return (\n    <ModalTrigger\n      modalTitle={t('SQL')}\n      modalBody={<HighlightSqlModal rawSql={rawSql} sql={sql} />}\n      triggerNode={\n        <TriggerNode\n          shrink={shrink}\n          sql={sql}\n          maxLines={maxLines}\n          maxWidth={maxWidth}\n        />\n      }\n    />\n  );\n}\n\nexport default HighlightedSql;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}