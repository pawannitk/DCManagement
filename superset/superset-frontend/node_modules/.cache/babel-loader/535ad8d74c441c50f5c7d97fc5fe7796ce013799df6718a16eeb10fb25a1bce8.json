{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport { deepEqual } from '../utils/deep-equal';\nexport default class LayerExtension {\n  static get componentName() {\n    return Object.prototype.hasOwnProperty.call(this, 'extensionName') ? this.extensionName : '';\n  }\n\n  constructor(opts) {\n    _defineProperty(this, \"opts\", void 0);\n\n    if (opts) {\n      this.opts = opts;\n    }\n  }\n\n  equals(extension) {\n    if (this === extension) {\n      return true;\n    }\n\n    return this.constructor === extension.constructor && deepEqual(this.opts, extension.opts, 1);\n  }\n\n  getShaders(extension) {\n    return null;\n  }\n\n  getSubLayerProps(extension) {\n    const {\n      defaultProps\n    } = extension.constructor;\n    const newProps = {\n      updateTriggers: {}\n    };\n\n    for (const key in defaultProps) {\n      if (key in this.props) {\n        const propDef = defaultProps[key];\n        const propValue = this.props[key];\n        newProps[key] = propValue;\n\n        if (propDef && propDef.type === 'accessor') {\n          newProps.updateTriggers[key] = this.props.updateTriggers[key];\n\n          if (typeof propValue === 'function') {\n            newProps[key] = this.getSubLayerAccessor(propValue);\n          }\n        }\n      }\n    }\n\n    return newProps;\n  }\n\n  initializeState(context, extension) {}\n\n  updateState(params, extension) {}\n\n  onNeedsRedraw(extension) {}\n\n  getNeedsPickingBuffer(extension) {\n    return false;\n  }\n\n  draw(params, extension) {}\n\n  finalizeState(context, extension) {} // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\n\n_defineProperty(LayerExtension, \"defaultProps\", {});\n\n_defineProperty(LayerExtension, \"extensionName\", 'LayerExtension');;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(LayerExtension, \"LayerExtension\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-preset-chart-deckgl/node_modules/@deck.gl/core/dist/esm/lib/layer-extension.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["deepEqual","LayerExtension","componentName","Object","prototype","hasOwnProperty","call","extensionName","constructor","opts","_defineProperty","equals","extension","getShaders","getSubLayerProps","defaultProps","newProps","updateTriggers","key","props","propDef","propValue","type","getSubLayerAccessor","initializeState","context","updateState","params","onNeedsRedraw","getNeedsPickingBuffer","draw","finalizeState","__reactstandin__regenerateByEval","code","eval","leaveModule","reactHotLoaderGlobal","undefined","module"],"sources":["../../../src/lib/layer-extension.ts"],"sourcesContent":["// Copyright (c) 2015 - 2017 Uber Technologies, Inc.\n//\n// Permission is hereby granted, free of charge, to any person obtaining a copy\n// of this software and associated documentation files (the \"Software\"), to deal\n// in the Software without restriction, including without limitation the rights\n// to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n// copies of the Software, and to permit persons to whom the Software is\n// furnished to do so, subject to the following conditions:\n//\n// The above copyright notice and this permission notice shall be included in\n// all copies or substantial portions of the Software.\n//\n// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n// IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n// FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n// AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n// LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n// OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n// THE SOFTWARE.\nimport {deepEqual} from '../utils/deep-equal';\nimport type Layer from './layer';\nimport type CompositeLayer from './composite-layer';\nimport type {UpdateParameters} from './layer';\nimport type {LayerContext} from './layer-manager';\n\nexport default abstract class LayerExtension<OptionsT = unknown> {\n  static defaultProps = {};\n  static extensionName = 'LayerExtension';\n\n  static get componentName() {\n    return Object.prototype.hasOwnProperty.call(this, 'extensionName') ? this.extensionName : '';\n  }\n\n  opts!: OptionsT;\n\n  constructor(opts?: OptionsT) {\n    if (opts) {\n      this.opts = opts;\n    }\n  }\n\n  /** Returns true if two extensions are equivalent */\n  equals(extension: LayerExtension<OptionsT>): boolean {\n    if (this === extension) {\n      return true;\n    }\n\n    // Compare extensions shallowly\n    return this.constructor === extension.constructor && deepEqual(this.opts, extension.opts, 1);\n  }\n\n  /** Only called if attached to a primitive layer */\n  getShaders(this: Layer, extension: this): any {\n    return null;\n  }\n\n  /** Only called if attached to a CompositeLayer */\n  getSubLayerProps(this: CompositeLayer, extension: this): any {\n    const {defaultProps} = extension.constructor as typeof LayerExtension;\n    const newProps = {\n      updateTriggers: {}\n    };\n\n    /* eslint-disable max-depth */\n    for (const key in defaultProps) {\n      if (key in this.props) {\n        const propDef = defaultProps[key];\n        const propValue = this.props[key];\n        newProps[key] = propValue;\n        if (propDef && propDef.type === 'accessor') {\n          newProps.updateTriggers[key] = this.props.updateTriggers[key];\n          if (typeof propValue === 'function') {\n            newProps[key] = this.getSubLayerAccessor(propValue);\n          }\n        }\n      }\n    }\n    /* eslint-enable max-depth */\n    return newProps;\n  }\n\n  /* eslint-disable @typescript-eslint/no-empty-function */\n  initializeState(this: Layer, context: LayerContext, extension: this): void {}\n\n  updateState(this: Layer, params: UpdateParameters<Layer>, extension: this): void {}\n\n  onNeedsRedraw(this: Layer, extension: this): void {}\n\n  getNeedsPickingBuffer(this: Layer, extension: this): boolean {\n    return false;\n  }\n\n  draw(this: Layer, params: any, extension: this): void {}\n\n  finalizeState(this: Layer, context: LayerContext, extension: this): void {}\n}\n"],"mappings":";AAmBA,SAAQA,SAAR,QAAwB,qBAAxB;AAMA,eAAe,MAAeC,cAAf,CAAkD;EAIvC,WAAbC,aAAaA,CAAA,EAAG;IACzB,OAAOC,MAAM,CAACC,SAAP,CAAiBC,cAAjB,CAAgCC,IAAhC,CAAqC,IAArC,EAA2C,eAA3C,IAA8D,KAAKC,aAAnE,GAAmF,EAA1F;EACD;;EAIDC,WAAWA,CAACC,IAAD,EAAkB;IAAAC,eAAA;;IAC3B,IAAID,IAAJ,EAAU;MACR,KAAKA,IAAL,GAAYA,IAAZ;IACD;EACF;;EAGDE,MAAMA,CAACC,SAAD,EAA+C;IACnD,IAAI,SAASA,SAAb,EAAwB;MACtB,OAAO,IAAP;IACD;;IAGD,OAAO,KAAKJ,WAAL,KAAqBI,SAAS,CAACJ,WAA/B,IAA8CR,SAAS,CAAC,KAAKS,IAAN,EAAYG,SAAS,CAACH,IAAtB,EAA4B,CAA5B,CAA9D;EACD;;EAGDI,UAAUA,CAAcD,SAAd,EAAoC;IAC5C,OAAO,IAAP;EACD;;EAGDE,gBAAgBA,CAAuBF,SAAvB,EAA6C;IAC3D,MAAM;MAACG;IAAD,IAAiBH,SAAS,CAACJ,WAAjC;IACA,MAAMQ,QAAQ,GAAG;MACfC,cAAc,EAAE;IADD,CAAjB;;IAKA,KAAK,MAAMC,GAAX,IAAkBH,YAAlB,EAAgC;MAC9B,IAAIG,GAAG,IAAI,KAAKC,KAAhB,EAAuB;QACrB,MAAMC,OAAO,GAAGL,YAAY,CAACG,GAAD,CAA5B;QACA,MAAMG,SAAS,GAAG,KAAKF,KAAL,CAAWD,GAAX,CAAlB;QACAF,QAAQ,CAACE,GAAD,CAAR,GAAgBG,SAAhB;;QACA,IAAID,OAAO,IAAIA,OAAO,CAACE,IAAR,KAAiB,UAAhC,EAA4C;UAC1CN,QAAQ,CAACC,cAAT,CAAwBC,GAAxB,IAA+B,KAAKC,KAAL,CAAWF,cAAX,CAA0BC,GAA1B,CAA/B;;UACA,IAAI,OAAOG,SAAP,KAAqB,UAAzB,EAAqC;YACnCL,QAAQ,CAACE,GAAD,CAAR,GAAgB,KAAKK,mBAAL,CAAyBF,SAAzB,CAAhB;UACD;QACF;MACF;IACF;;IAED,OAAOL,QAAP;EACD;;EAGDQ,eAAeA,CAAcC,OAAd,EAAqCb,SAArC,EAA4D,CAAE;;EAE7Ec,WAAWA,CAAcC,MAAd,EAA+Cf,SAA/C,EAAsE,CAAE;;EAEnFgB,aAAaA,CAAchB,SAAd,EAAqC,CAAE;;EAEpDiB,qBAAqBA,CAAcjB,SAAd,EAAwC;IAC3D,OAAO,KAAP;EACD;;EAEDkB,IAAIA,CAAcH,MAAd,EAA2Bf,SAA3B,EAAkD,CAAE;;EAExDmB,aAAaA,CAAcN,OAAd,EAAqCb,SAArC,EAA4D,CAAE;EAAAoB,iCAAAd,GAAA,EAAAe,IAAA;IAAA,KAAAf,GAAA,IAAAgB,IAAA,CAAAD,IAAA,GArEZ;;gBAAnChC,c,kBACN,E;;gBADMA,c,mBAEL,gB,mLAFKA,cAAf,oMAAAkC,WAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAD,WAAA,GAAAE,SAAA,CAAAF,WAAA,IAAAA,WAAA,CAAAG,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}