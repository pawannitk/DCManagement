{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { t } from '@superset-ui/core';\nconst untitledQueryRegex = /^Untitled Query (\\d+)$/; // Literal notation isn't recompiled\nconst untitledQuery = 'Untitled Query ';\nexport const newQueryTabName = (queryEditors, initialTitle = `${untitledQuery}1`) => {\n  const resultTitle = t(initialTitle);\n  if (queryEditors.length > 0) {\n    const mappedUntitled = queryEditors.filter((qe) => {var _qe$name;return (_qe$name = qe.name) == null ? void 0 : _qe$name.match(untitledQueryRegex);});\n    const untitledQueryNumbers = mappedUntitled.map((qe) => +qe.name.replace(untitledQuery, ''));\n    if (untitledQueryNumbers.length > 0) {\n      // When there are query tabs open, and at least one is called \"Untitled Query #\"\n      // Where # is a valid number\n      const largestNumber = Math.max(...untitledQueryNumbers);\n      return t('%s%s', untitledQuery, largestNumber + 1);\n    }\n    return resultTitle;\n  }\n  return resultTitle;\n};;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(untitledQueryRegex, \"untitledQueryRegex\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/utils/newQueryTabName.ts\");reactHotLoader.register(untitledQuery, \"untitledQuery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/utils/newQueryTabName.ts\");reactHotLoader.register(newQueryTabName, \"newQueryTabName\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/utils/newQueryTabName.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["t","untitledQueryRegex","untitledQuery","newQueryTabName","queryEditors","initialTitle","resultTitle","length","mappedUntitled","filter","qe","_qe$name","name","match","untitledQueryNumbers","map","replace","largestNumber","Math","max","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/SqlLab/utils/newQueryTabName.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport { t } from '@superset-ui/core';\nimport { QueryEditor } from '../types';\n\nconst untitledQueryRegex = /^Untitled Query (\\d+)$/; // Literal notation isn't recompiled\nconst untitledQuery = 'Untitled Query ';\n\nexport const newQueryTabName = (\n  queryEditors: QueryEditor[],\n  initialTitle = `${untitledQuery}1`,\n): string => {\n  const resultTitle = t(initialTitle);\n\n  if (queryEditors.length > 0) {\n    const mappedUntitled = queryEditors.filter(\n      qe => qe.name?.match(untitledQueryRegex),\n    );\n    const untitledQueryNumbers = mappedUntitled.map(\n      qe => +qe.name.replace(untitledQuery, ''),\n    );\n    if (untitledQueryNumbers.length > 0) {\n      // When there are query tabs open, and at least one is called \"Untitled Query #\"\n      // Where # is a valid number\n      const largestNumber: number = Math.max(...untitledQueryNumbers);\n      return t('%s%s', untitledQuery, largestNumber + 1);\n    }\n    return resultTitle;\n  }\n\n  return resultTitle;\n};\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAmBA,SAASA,CAAC,QAAQ,mBAAmB;AAGrC,MAAMC,kBAAkB,GAAG,wBAAwB,CAAC,CAAC;AACrD,MAAMC,aAAa,GAAG,iBAAiB;AAEvC,OAAO,MAAMC,eAAe,GAAGA,CAC7BC,YAA2B,EAC3BC,YAAY,GAAG,GAAGH,aAAa,GAAG,KACxB;EACV,MAAMI,WAAW,GAAGN,CAAC,CAACK,YAAY,CAAC;EAEnC,IAAID,YAAY,CAACG,MAAM,GAAG,CAAC,EAAE;IAC3B,MAAMC,cAAc,GAAGJ,YAAY,CAACK,MAAM,CACxC,CAAAC,EAAE,UAAAC,QAAA,SAAAA,QAAA,GAAID,EAAE,CAACE,IAAI,qBAAPD,QAAA,CAASE,KAAK,CAACZ,kBAAkB,CAAC,GACzC;IACD,MAAMa,oBAAoB,GAAGN,cAAc,CAACO,GAAG,CAC7C,CAAAL,EAAE,KAAI,CAACA,EAAE,CAACE,IAAI,CAACI,OAAO,CAACd,aAAa,EAAE,EAAE,CAAC,CAC1C;IACD,IAAIY,oBAAoB,CAACP,MAAM,GAAG,CAAC,EAAE;MACnC;MACA;MACA,MAAMU,aAAa,GAAWC,IAAI,CAACC,GAAG,CAAC,GAAGL,oBAAoB,CAAC;MAC/D,OAAOd,CAAC,CAAC,MAAM,EAAEE,aAAa,EAAEe,aAAa,GAAG,CAAC,CAAC;;IAEpD,OAAOX,WAAW;;EAGpB,OAAOA,WAAW;AACpB,CAAC,CAAC,mBAAAc,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA1BIvB,kBAAkB,sHAAAmB,cAAA,CAAAI,QAAA,CAClBtB,aAAa,iHAAAkB,cAAA,CAAAI,QAAA,CAENrB,eAAe,2IAAAsB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}