{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { DragLayer } from 'react-dnd';\n\nimport AddSliceCard from '../AddSliceCard';\nimport { slicePropShape } from '../../util/propShapes';\nimport {\n  NEW_COMPONENT_SOURCE_TYPE,\n  CHART_TYPE } from\n'../../util/componentTypes';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst staticCardStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  top: 0,\n  left: 0,\n  zIndex: 101, // this should be higher than top-level tabs\n  width: 376 - 2 * 16\n};\n\nconst propTypes = {\n  dragItem: PropTypes.shape({\n    index: PropTypes.number.isRequired\n  }),\n  slices: PropTypes.arrayOf(slicePropShape),\n  isDragging: PropTypes.bool.isRequired,\n  currentOffset: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired\n  })\n};\n\nconst defaultProps = {\n  currentOffset: null,\n  dragItem: null,\n  slices: null\n};\n\nfunction AddSliceDragPreview({ dragItem, slices, isDragging, currentOffset }) {\n  if (!isDragging || !currentOffset || !dragItem || !slices) return null;\n\n  const slice = slices[dragItem.index];\n\n  // make sure it's a new component and a chart\n  const shouldRender =\n  slice &&\n  dragItem.parentType === NEW_COMPONENT_SOURCE_TYPE &&\n  dragItem.type === CHART_TYPE;\n\n  return !shouldRender ? null :\n  ___EmotionJSX(AddSliceCard, {\n    style: {\n      ...staticCardStyles,\n      transform: `translate(${currentOffset.x}px, ${currentOffset.y}px)`\n    },\n    sliceName: slice.slice_name,\n    lastModified: slice.changed_on_humanized,\n    visType: slice.viz_type,\n    datasourceUrl: slice.datasource_url,\n    datasourceName: slice.datasource_name }\n  );\n\n}\n\nAddSliceDragPreview.propTypes = propTypes;\nAddSliceDragPreview.defaultProps = defaultProps;\n\n// This injects these props into the component\nconst _default = DragLayer((monitor) => ({\n  dragItem: monitor.getItem(),\n  currentOffset: monitor.getSourceClientOffset(),\n  isDragging: monitor.isDragging()\n}))(AddSliceDragPreview);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(staticCardStyles, \"staticCardStyles\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/dnd/AddSliceDragPreview.jsx\");reactHotLoader.register(propTypes, \"propTypes\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/dnd/AddSliceDragPreview.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/dnd/AddSliceDragPreview.jsx\");reactHotLoader.register(AddSliceDragPreview, \"AddSliceDragPreview\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/dnd/AddSliceDragPreview.jsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/dnd/AddSliceDragPreview.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","PropTypes","DragLayer","AddSliceCard","slicePropShape","NEW_COMPONENT_SOURCE_TYPE","CHART_TYPE","jsx","___EmotionJSX","staticCardStyles","position","pointerEvents","top","left","zIndex","width","propTypes","dragItem","shape","index","number","isRequired","slices","arrayOf","isDragging","bool","currentOffset","x","y","defaultProps","AddSliceDragPreview","slice","shouldRender","parentType","type","style","transform","sliceName","slice_name","lastModified","changed_on_humanized","visType","viz_type","datasourceUrl","datasource_url","datasourceName","datasource_name","_default","monitor","getItem","getSourceClientOffset","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/dnd/AddSliceDragPreview.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { DragLayer } from 'react-dnd';\n\nimport AddSliceCard from '../AddSliceCard';\nimport { slicePropShape } from '../../util/propShapes';\nimport {\n  NEW_COMPONENT_SOURCE_TYPE,\n  CHART_TYPE,\n} from '../../util/componentTypes';\n\nconst staticCardStyles = {\n  position: 'fixed',\n  pointerEvents: 'none',\n  top: 0,\n  left: 0,\n  zIndex: 101, // this should be higher than top-level tabs\n  width: 376 - 2 * 16,\n};\n\nconst propTypes = {\n  dragItem: PropTypes.shape({\n    index: PropTypes.number.isRequired,\n  }),\n  slices: PropTypes.arrayOf(slicePropShape),\n  isDragging: PropTypes.bool.isRequired,\n  currentOffset: PropTypes.shape({\n    x: PropTypes.number.isRequired,\n    y: PropTypes.number.isRequired,\n  }),\n};\n\nconst defaultProps = {\n  currentOffset: null,\n  dragItem: null,\n  slices: null,\n};\n\nfunction AddSliceDragPreview({ dragItem, slices, isDragging, currentOffset }) {\n  if (!isDragging || !currentOffset || !dragItem || !slices) return null;\n\n  const slice = slices[dragItem.index];\n\n  // make sure it's a new component and a chart\n  const shouldRender =\n    slice &&\n    dragItem.parentType === NEW_COMPONENT_SOURCE_TYPE &&\n    dragItem.type === CHART_TYPE;\n\n  return !shouldRender ? null : (\n    <AddSliceCard\n      style={{\n        ...staticCardStyles,\n        transform: `translate(${currentOffset.x}px, ${currentOffset.y}px)`,\n      }}\n      sliceName={slice.slice_name}\n      lastModified={slice.changed_on_humanized}\n      visType={slice.viz_type}\n      datasourceUrl={slice.datasource_url}\n      datasourceName={slice.datasource_name}\n    />\n  );\n}\n\nAddSliceDragPreview.propTypes = propTypes;\nAddSliceDragPreview.defaultProps = defaultProps;\n\n// This injects these props into the component\nexport default DragLayer(monitor => ({\n  dragItem: monitor.getItem(),\n  currentOffset: monitor.getSourceClientOffset(),\n  isDragging: monitor.isDragging(),\n}))(AddSliceDragPreview);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}