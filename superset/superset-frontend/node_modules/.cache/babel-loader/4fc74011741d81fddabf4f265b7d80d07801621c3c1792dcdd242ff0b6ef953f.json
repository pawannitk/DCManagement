{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useContext, useMemo, useState } from 'react';\nimport { createHtmlPortalNode, InPortal, OutPortal } from 'react-reverse-portal';\nimport { styled, truncationCSS } from '@superset-ui/core';\nimport { FormItem as StyledFormItem, Form } from 'src/components/Form';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { checkIsMissingRequiredValue } from '../utils';\nimport FilterValue from './FilterValue';\nimport { FilterCard } from '../../FilterCard';\nimport { FilterBarScrollContext } from '../Vertical';\nimport { FilterCardPlacement } from '../../FilterCard/types';\nimport { useIsFilterInScope } from '../../state';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledIcon = styled.div`\n  position: absolute;\n  right: 0;\n`;\nconst VerticalFilterControlTitle = styled.h4`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  margin: 0;\n  overflow-wrap: anywhere;\n`;\nconst HorizontalFilterControlTitle = styled(VerticalFilterControlTitle)`\n  font-weight: ${({ theme }) => theme.typography.weights.normal};\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  ${truncationCSS};\n`;\nconst HorizontalOverflowFilterControlTitle = styled(HorizontalFilterControlTitle)`\n  max-width: none;\n`;\nconst VerticalFilterControlTitleBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${({ theme }) => theme.gridUnit}px;\n`;\nconst HorizontalFilterControlTitleBox = styled(VerticalFilterControlTitleBox)`\n  margin-bottom: unset;\n`;\nconst HorizontalOverflowFilterControlTitleBox = styled(VerticalFilterControlTitleBox)`\n  width: 100%;\n`;\nconst VerticalFilterControlContainer = styled(Form)`\n  width: 100%;\n  && .ant-form-item-label > label {\n    text-transform: none;\n    width: 100%;\n    padding-right: ${({ theme }) => theme.gridUnit * 11}px;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\nconst HorizontalFilterControlContainer = styled(Form)`\n  && .ant-form-item-label > label {\n    margin-bottom: 0;\n    text-transform: none;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\nconst HorizontalOverflowFilterControlContainer = styled(VerticalFilterControlContainer)`\n  && .ant-form-item-label {\n    line-height: 1;\n    & > label {\n      padding-right: unset;\n    }\n  }\n`;\nconst VerticalFormItem = styled(StyledFormItem)`\n  .ant-form-item-label {\n    overflow: visible;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n  }\n`;\nconst HorizontalFormItem = styled(StyledFormItem)`\n  && {\n    margin-bottom: 0;\n    align-items: center;\n  }\n\n  .ant-form-item-label {\n    overflow: visible;\n    padding-bottom: 0;\n    margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n\n    & > label::after {\n      display: none;\n    }\n  }\n\n  .ant-form-item-control {\n    width: ${({ theme }) => theme.gridUnit * 41}px;\n  }\n`;\nconst HorizontalOverflowFormItem = VerticalFormItem;\nconst useFilterControlDisplay = (orientation, overflow) => useMemo(() => {\n  if (orientation === FilterBarOrientation.Horizontal) {\n    if (overflow) {\n      return {\n        FilterControlContainer: HorizontalOverflowFilterControlContainer,\n        FormItem: HorizontalOverflowFormItem,\n        FilterControlTitleBox: HorizontalOverflowFilterControlTitleBox,\n        FilterControlTitle: HorizontalOverflowFilterControlTitle\n      };\n    }\n    return {\n      FilterControlContainer: HorizontalFilterControlContainer,\n      FormItem: HorizontalFormItem,\n      FilterControlTitleBox: HorizontalFilterControlTitleBox,\n      FilterControlTitle: HorizontalFilterControlTitle\n    };\n  }\n  return {\n    FilterControlContainer: VerticalFilterControlContainer,\n    FormItem: VerticalFormItem,\n    FilterControlTitleBox: VerticalFilterControlTitleBox,\n    FilterControlTitle: VerticalFilterControlTitle\n  };\n}, [orientation, overflow]);__signature__(useFilterControlDisplay, \"useMemo{}\");\nconst ToolTipContainer = styled.div`\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  display: flex;\n`;\nconst RequiredFieldIndicator = () => ___EmotionJSX(\"span\", { css: (theme) => ({\n    color: theme.colors.error.base,\n    fontSize: `${theme.typography.sizes.s}px`,\n    paddingLeft: '1px'\n  }) }, \"*\"\n\n);\nconst DescriptionToolTip = ({ description }) => ___EmotionJSX(ToolTipContainer, null,\n___EmotionJSX(Tooltip, { title: description, placement: \"right\", overlayInnerStyle: {\n    display: '-webkit-box',\n    WebkitLineClamp: 10,\n    WebkitBoxOrient: 'vertical',\n    overflow: 'hidden',\n    textOverflow: 'ellipsis',\n    whiteSpace: 'normal'\n  }, getPopupContainer: (trigger) => trigger.parentElement },\n___EmotionJSX(\"i\", { className: \"fa fa-info-circle text-muted\", css: (theme) => ({\n    paddingLeft: `${theme.gridUnit}px`,\n    cursor: 'pointer'\n  }) })\n)\n);\nconst FilterControl = ({ dataMaskSelected, filter, icon, onFilterSelectionChange, inView, showOverflow, parentRef, orientation = FilterBarOrientation.Vertical, overflow = false }) => {var _filter$dataMask, _filter$controlValues, _filter$controlValues2;\n  const portalNode = useMemo(() => createHtmlPortalNode(), []);\n  const [isFilterActive, setIsFilterActive] = useState(false);\n  const { name = '<undefined>' } = filter;\n  const isFilterInScope = useIsFilterInScope();\n  const isMissingRequiredValue = isFilterInScope(filter) &&\n  checkIsMissingRequiredValue(filter, (_filter$dataMask = filter.dataMask) == null ? void 0 : _filter$dataMask.filterState);\n  const validateStatus = isMissingRequiredValue ? 'error' : undefined;\n  const isRequired = !!((_filter$controlValues = filter.controlValues) != null && _filter$controlValues.enableEmptyFilter);\n  const { FilterControlContainer, FormItem, FilterControlTitleBox, FilterControlTitle } = useFilterControlDisplay(orientation, overflow);\n  const label = useMemo(() => {var _filter$description;return ___EmotionJSX(FilterControlTitleBox, null,\n    ___EmotionJSX(FilterControlTitle, { \"data-test\": \"filter-control-name\" },\n    name\n    ),\n    isRequired && ___EmotionJSX(RequiredFieldIndicator, null),\n    ((_filter$description = filter.description) == null ? void 0 : _filter$description.trim()) && ___EmotionJSX(DescriptionToolTip, { description: filter.description }),\n    ___EmotionJSX(StyledIcon, { \"data-test\": \"filter-icon\" }, icon)\n    );}, [\n  FilterControlTitleBox,\n  FilterControlTitle,\n  name,\n  isRequired,\n  filter.description,\n  icon]\n  );\n  const isScrolling = useContext(FilterBarScrollContext);\n  const filterCardPlacement = useMemo(() => {\n    if (orientation === FilterBarOrientation.Horizontal) {\n      if (overflow) {\n        return FilterCardPlacement.Left;\n      }\n      return FilterCardPlacement.Bottom;\n    }\n    return FilterCardPlacement.Right;\n  }, [orientation, overflow]);\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(InPortal, { node: portalNode },\n  ___EmotionJSX(FilterValue, { dataMaskSelected: dataMaskSelected, filter: filter, showOverflow: showOverflow, onFilterSelectionChange: onFilterSelectionChange, inView: inView, parentRef: parentRef, setFilterActive: setIsFilterActive, orientation: orientation, overflow: overflow, validateStatus: validateStatus })\n  ),\n  ___EmotionJSX(FilterControlContainer, { layout: orientation === FilterBarOrientation.Horizontal && !overflow ?\n    'horizontal' :\n    'vertical' },\n  ___EmotionJSX(FilterCard, { filter: filter, isVisible: !isFilterActive && !isScrolling, placement: filterCardPlacement },\n  ___EmotionJSX(\"div\", null,\n  ___EmotionJSX(FormItem, { label: label, \"aria-label\": name, required: filter == null ? void 0 : (_filter$controlValues2 = filter.controlValues) == null ? void 0 : _filter$controlValues2.enableEmptyFilter, validateStatus: validateStatus },\n  ___EmotionJSX(OutPortal, { node: portalNode })\n  )\n  )\n  )\n  )\n  );\n};__signature__(FilterControl, \"useMemo{portalNode}\\nuseState{[isFilterActive, setIsFilterActive](false)}\\nuseIsFilterInScope{isFilterInScope}\\nuseFilterControlDisplay{{ FilterControlContainer, FormItem, FilterControlTitleBox, FilterControlTitle, }}\\nuseMemo{label}\\nuseContext{isScrolling}\\nuseMemo{filterCardPlacement}\", () => [useIsFilterInScope, useFilterControlDisplay]);const _default = /*#__PURE__*/\nReact.memo(FilterControl);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledIcon, \"StyledIcon\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFilterControlTitle, \"VerticalFilterControlTitle\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFilterControlTitle, \"HorizontalFilterControlTitle\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFilterControlTitle, \"HorizontalOverflowFilterControlTitle\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFilterControlTitleBox, \"VerticalFilterControlTitleBox\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFilterControlTitleBox, \"HorizontalFilterControlTitleBox\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFilterControlTitleBox, \"HorizontalOverflowFilterControlTitleBox\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFilterControlContainer, \"VerticalFilterControlContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFilterControlContainer, \"HorizontalFilterControlContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFilterControlContainer, \"HorizontalOverflowFilterControlContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(VerticalFormItem, \"VerticalFormItem\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalFormItem, \"HorizontalFormItem\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(HorizontalOverflowFormItem, \"HorizontalOverflowFormItem\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(useFilterControlDisplay, \"useFilterControlDisplay\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(ToolTipContainer, \"ToolTipContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(RequiredFieldIndicator, \"RequiredFieldIndicator\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(DescriptionToolTip, \"DescriptionToolTip\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(FilterControl, \"FilterControl\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useContext","useMemo","useState","createHtmlPortalNode","InPortal","OutPortal","styled","truncationCSS","FormItem","StyledFormItem","Form","Tooltip","FilterBarOrientation","checkIsMissingRequiredValue","FilterValue","FilterCard","FilterBarScrollContext","FilterCardPlacement","useIsFilterInScope","jsx","___EmotionJSX","StyledIcon","div","VerticalFilterControlTitle","h4","theme","typography","sizes","s","colors","grayscale","dark1","HorizontalFilterControlTitle","weights","normal","base","HorizontalOverflowFilterControlTitle","VerticalFilterControlTitleBox","gridUnit","HorizontalFilterControlTitleBox","HorizontalOverflowFilterControlTitleBox","VerticalFilterControlContainer","HorizontalFilterControlContainer","HorizontalOverflowFilterControlContainer","VerticalFormItem","HorizontalFormItem","HorizontalOverflowFormItem","useFilterControlDisplay","orientation","overflow","Horizontal","FilterControlContainer","FilterControlTitleBox","FilterControlTitle","__signature__","ToolTipContainer","m","RequiredFieldIndicator","css","color","error","fontSize","paddingLeft","DescriptionToolTip","description","title","placement","overlayInnerStyle","display","WebkitLineClamp","WebkitBoxOrient","textOverflow","whiteSpace","getPopupContainer","trigger","parentElement","className","cursor","FilterControl","dataMaskSelected","filter","icon","onFilterSelectionChange","inView","showOverflow","parentRef","Vertical","_filter$dataMask","_filter$controlValues","_filter$controlValues2","portalNode","isFilterActive","setIsFilterActive","name","isFilterInScope","isMissingRequiredValue","dataMask","filterState","validateStatus","undefined","isRequired","controlValues","enableEmptyFilter","label","_filter$description","trim","isScrolling","filterCardPlacement","Left","Bottom","Right","Fragment","node","setFilterActive","layout","isVisible","required","_default","memo","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/FilterControl.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useContext, useMemo, useState } from 'react';\nimport {\n  createHtmlPortalNode,\n  InPortal,\n  OutPortal,\n} from 'react-reverse-portal';\nimport { styled, SupersetTheme, truncationCSS } from '@superset-ui/core';\nimport { FormItem as StyledFormItem, Form } from 'src/components/Form';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { checkIsMissingRequiredValue } from '../utils';\nimport FilterValue from './FilterValue';\nimport { FilterCard } from '../../FilterCard';\nimport { FilterBarScrollContext } from '../Vertical';\nimport { FilterControlProps } from './types';\nimport { FilterCardPlacement } from '../../FilterCard/types';\nimport { useIsFilterInScope } from '../../state';\n\nconst StyledIcon = styled.div`\n  position: absolute;\n  right: 0;\n`;\n\nconst VerticalFilterControlTitle = styled.h4`\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n  color: ${({ theme }) => theme.colors.grayscale.dark1};\n  margin: 0;\n  overflow-wrap: anywhere;\n`;\n\nconst HorizontalFilterControlTitle = styled(VerticalFilterControlTitle)`\n  font-weight: ${({ theme }) => theme.typography.weights.normal};\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  ${truncationCSS};\n`;\n\nconst HorizontalOverflowFilterControlTitle = styled(\n  HorizontalFilterControlTitle,\n)`\n  max-width: none;\n`;\n\nconst VerticalFilterControlTitleBox = styled.div`\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  justify-content: space-between;\n  margin-bottom: ${({ theme }) => theme.gridUnit}px;\n`;\n\nconst HorizontalFilterControlTitleBox = styled(VerticalFilterControlTitleBox)`\n  margin-bottom: unset;\n`;\n\nconst HorizontalOverflowFilterControlTitleBox = styled(\n  VerticalFilterControlTitleBox,\n)`\n  width: 100%;\n`;\n\nconst VerticalFilterControlContainer = styled(Form)`\n  width: 100%;\n  && .ant-form-item-label > label {\n    text-transform: none;\n    width: 100%;\n    padding-right: ${({ theme }) => theme.gridUnit * 11}px;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nconst HorizontalFilterControlContainer = styled(Form)`\n  && .ant-form-item-label > label {\n    margin-bottom: 0;\n    text-transform: none;\n  }\n  .ant-form-item-tooltip {\n    margin-bottom: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nconst HorizontalOverflowFilterControlContainer = styled(\n  VerticalFilterControlContainer,\n)`\n  && .ant-form-item-label {\n    line-height: 1;\n    & > label {\n      padding-right: unset;\n    }\n  }\n`;\n\nconst VerticalFormItem = styled(StyledFormItem)`\n  .ant-form-item-label {\n    overflow: visible;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n  }\n`;\n\nconst HorizontalFormItem = styled(StyledFormItem)`\n  && {\n    margin-bottom: 0;\n    align-items: center;\n  }\n\n  .ant-form-item-label {\n    overflow: visible;\n    padding-bottom: 0;\n    margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    label.ant-form-item-required:not(.ant-form-item-required-mark-optional) {\n      &::after {\n        display: none;\n      }\n    }\n\n    & > label::after {\n      display: none;\n    }\n  }\n\n  .ant-form-item-control {\n    width: ${({ theme }) => theme.gridUnit * 41}px;\n  }\n`;\n\nconst HorizontalOverflowFormItem = VerticalFormItem;\n\nconst useFilterControlDisplay = (\n  orientation: FilterBarOrientation,\n  overflow: boolean,\n) =>\n  useMemo(() => {\n    if (orientation === FilterBarOrientation.Horizontal) {\n      if (overflow) {\n        return {\n          FilterControlContainer: HorizontalOverflowFilterControlContainer,\n          FormItem: HorizontalOverflowFormItem,\n          FilterControlTitleBox: HorizontalOverflowFilterControlTitleBox,\n          FilterControlTitle: HorizontalOverflowFilterControlTitle,\n        };\n      }\n      return {\n        FilterControlContainer: HorizontalFilterControlContainer,\n        FormItem: HorizontalFormItem,\n        FilterControlTitleBox: HorizontalFilterControlTitleBox,\n        FilterControlTitle: HorizontalFilterControlTitle,\n      };\n    }\n    return {\n      FilterControlContainer: VerticalFilterControlContainer,\n      FormItem: VerticalFormItem,\n      FilterControlTitleBox: VerticalFilterControlTitleBox,\n      FilterControlTitle: VerticalFilterControlTitle,\n    };\n  }, [orientation, overflow]);\n\nconst ToolTipContainer = styled.div`\n  font-size: ${({ theme }) => theme.typography.sizes.m}px;\n  display: flex;\n`;\n\nconst RequiredFieldIndicator = () => (\n  <span\n    css={(theme: SupersetTheme) => ({\n      color: theme.colors.error.base,\n      fontSize: `${theme.typography.sizes.s}px`,\n      paddingLeft: '1px',\n    })}\n  >\n    *\n  </span>\n);\n\nconst DescriptionToolTip = ({ description }: { description: string }) => (\n  <ToolTipContainer>\n    <Tooltip\n      title={description}\n      placement=\"right\"\n      overlayInnerStyle={{\n        display: '-webkit-box',\n        WebkitLineClamp: 10,\n        WebkitBoxOrient: 'vertical',\n        overflow: 'hidden',\n        textOverflow: 'ellipsis',\n        whiteSpace: 'normal',\n      }}\n      getPopupContainer={trigger => trigger.parentElement as HTMLElement}\n    >\n      <i\n        className=\"fa fa-info-circle text-muted\"\n        css={(theme: SupersetTheme) => ({\n          paddingLeft: `${theme.gridUnit}px`,\n          cursor: 'pointer',\n        })}\n      />\n    </Tooltip>\n  </ToolTipContainer>\n);\n\nconst FilterControl = ({\n  dataMaskSelected,\n  filter,\n  icon,\n  onFilterSelectionChange,\n  inView,\n  showOverflow,\n  parentRef,\n  orientation = FilterBarOrientation.Vertical,\n  overflow = false,\n}: FilterControlProps) => {\n  const portalNode = useMemo(() => createHtmlPortalNode(), []);\n  const [isFilterActive, setIsFilterActive] = useState(false);\n\n  const { name = '<undefined>' } = filter;\n\n  const isFilterInScope = useIsFilterInScope();\n  const isMissingRequiredValue =\n    isFilterInScope(filter) &&\n    checkIsMissingRequiredValue(filter, filter.dataMask?.filterState);\n  const validateStatus = isMissingRequiredValue ? 'error' : undefined;\n  const isRequired = !!filter.controlValues?.enableEmptyFilter;\n\n  const {\n    FilterControlContainer,\n    FormItem,\n    FilterControlTitleBox,\n    FilterControlTitle,\n  } = useFilterControlDisplay(orientation, overflow);\n\n  const label = useMemo(\n    () => (\n      <FilterControlTitleBox>\n        <FilterControlTitle data-test=\"filter-control-name\">\n          {name}\n        </FilterControlTitle>\n        {isRequired && <RequiredFieldIndicator />}\n        {filter.description?.trim() && (\n          <DescriptionToolTip description={filter.description} />\n        )}\n        <StyledIcon data-test=\"filter-icon\">{icon}</StyledIcon>\n      </FilterControlTitleBox>\n    ),\n    [\n      FilterControlTitleBox,\n      FilterControlTitle,\n      name,\n      isRequired,\n      filter.description,\n      icon,\n    ],\n  );\n\n  const isScrolling = useContext(FilterBarScrollContext);\n  const filterCardPlacement = useMemo(() => {\n    if (orientation === FilterBarOrientation.Horizontal) {\n      if (overflow) {\n        return FilterCardPlacement.Left;\n      }\n      return FilterCardPlacement.Bottom;\n    }\n    return FilterCardPlacement.Right;\n  }, [orientation, overflow]);\n\n  return (\n    <>\n      <InPortal node={portalNode}>\n        <FilterValue\n          dataMaskSelected={dataMaskSelected}\n          filter={filter}\n          showOverflow={showOverflow}\n          onFilterSelectionChange={onFilterSelectionChange}\n          inView={inView}\n          parentRef={parentRef}\n          setFilterActive={setIsFilterActive}\n          orientation={orientation}\n          overflow={overflow}\n          validateStatus={validateStatus}\n        />\n      </InPortal>\n      <FilterControlContainer\n        layout={\n          orientation === FilterBarOrientation.Horizontal && !overflow\n            ? 'horizontal'\n            : 'vertical'\n        }\n      >\n        <FilterCard\n          filter={filter}\n          isVisible={!isFilterActive && !isScrolling}\n          placement={filterCardPlacement}\n        >\n          <div>\n            <FormItem\n              label={label}\n              aria-label={name}\n              required={filter?.controlValues?.enableEmptyFilter}\n              validateStatus={validateStatus}\n            >\n              <OutPortal node={portalNode} />\n            </FormItem>\n          </div>\n        </FilterCard>\n      </FilterControlContainer>\n    </>\n  );\n};\n\nexport default React.memo(FilterControl);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}