{"ast":null,"code":"import _debounce from \"lodash/debounce\"; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};\n\n\nclass DebouncedMessageQueue {\n  constructor({\n    callback = () => {},\n    sizeThreshold = 1000,\n    delayThreshold = 1000\n  }) {\n    this.queue = [];\n    this.sizeThreshold = sizeThreshold;\n    this.delayThreshold = delayThreshold;\n\n    this.trigger = _debounce(this.trigger.bind(this), this.delayThreshold);\n    this.callback = callback;\n  }\n\n  append(eventData) {\n    this.queue.push(eventData);\n    this.trigger();\n  }\n\n  trigger() {\n    if (this.queue.length > 0) {\n      const events = this.queue.splice(0, this.sizeThreshold);\n      this.callback.call(null, events);\n\n      // If there are remaining items, call it again.\n      if (this.queue.length > 0) {\n        this.trigger();\n      }\n    }\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}const _default =\nDebouncedMessageQueue;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(DebouncedMessageQueue, \"DebouncedMessageQueue\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/utils/DebouncedMessageQueue.js\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/utils/DebouncedMessageQueue.js\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["enterModule","reactHotLoaderGlobal","undefined","module","__signature__","default","signature","a","DebouncedMessageQueue","constructor","callback","sizeThreshold","delayThreshold","queue","trigger","_debounce","bind","append","eventData","push","length","events","splice","call","__reactstandin__regenerateByEval","key","code","eval","_default","reactHotLoader","register","leaveModule"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/utils/DebouncedMessageQueue.js"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { debounce } from 'lodash';\n\nclass DebouncedMessageQueue {\n  constructor({\n    callback = () => {},\n    sizeThreshold = 1000,\n    delayThreshold = 1000,\n  }) {\n    this.queue = [];\n    this.sizeThreshold = sizeThreshold;\n    this.delayThreshold = delayThreshold;\n\n    this.trigger = debounce(this.trigger.bind(this), this.delayThreshold);\n    this.callback = callback;\n  }\n\n  append(eventData) {\n    this.queue.push(eventData);\n    this.trigger();\n  }\n\n  trigger() {\n    if (this.queue.length > 0) {\n      const events = this.queue.splice(0, this.sizeThreshold);\n      this.callback.call(null, events);\n\n      // If there are remaining items, call it again.\n      if (this.queue.length > 0) {\n        this.trigger();\n      }\n    }\n  }\n}\n\nexport default DebouncedMessageQueue;\n"],"mappings":"yCAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAjBA,kBAAAA,WAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAD,WAAA,GAAAE,SAAA,CAAAF,WAAA,IAAAA,WAAA,CAAAG,MAAA,WAAAC,aAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAI,OAAA,CAAAC,SAAA,aAAAC,CAAA,UAAAA,CAAA;;;AAoBA,MAAMC,qBAAqB,CAAC;EAC1BC,WAAWA,CAAC;IACVC,QAAQ,GAAGA,CAAA,KAAM,CAAC,CAAC;IACnBC,aAAa,GAAG,IAAI;IACpBC,cAAc,GAAG;EACnB,CAAC,EAAE;IACD,IAAI,CAACC,KAAK,GAAG,EAAE;IACf,IAAI,CAACF,aAAa,GAAGA,aAAa;IAClC,IAAI,CAACC,cAAc,GAAGA,cAAc;;IAEpC,IAAI,CAACE,OAAO,GAAGC,SAAA,CAAS,IAAI,CAACD,OAAO,CAACE,IAAI,CAAC,IAAI,CAAC,EAAE,IAAI,CAACJ,cAAc,CAAC;IACrE,IAAI,CAACF,QAAQ,GAAGA,QAAQ;EAC1B;;EAEAO,MAAMA,CAACC,SAAS,EAAE;IAChB,IAAI,CAACL,KAAK,CAACM,IAAI,CAACD,SAAS,CAAC;IAC1B,IAAI,CAACJ,OAAO,CAAC,CAAC;EAChB;;EAEAA,OAAOA,CAAA,EAAG;IACR,IAAI,IAAI,CAACD,KAAK,CAACO,MAAM,GAAG,CAAC,EAAE;MACzB,MAAMC,MAAM,GAAG,IAAI,CAACR,KAAK,CAACS,MAAM,CAAC,CAAC,EAAE,IAAI,CAACX,aAAa,CAAC;MACvD,IAAI,CAACD,QAAQ,CAACa,IAAI,CAAC,IAAI,EAAEF,MAAM,CAAC;;MAEhC;MACA,IAAI,IAAI,CAACR,KAAK,CAACO,MAAM,GAAG,CAAC,EAAE;QACzB,IAAI,CAACN,OAAO,CAAC,CAAC;MAChB;IACF;EACF,CAAC;EAAAU,iCAAAC,GAAA,EAAAC,IAAA;IAAA,KAAAD,GAAA,IAAAE,IAAA,CAAAD,IAAA,GACH,CAAC,MAAAE,QAAA;AAEcpB,qBAAqB,CAApC,eAAAoB,QAAA,CAAqC,mBAAAC,cAAA,UAAA5B,oBAAA,mBAAAA,oBAAA,CAAAI,OAAA,GAAAH,SAAA,MAAA2B,cAAA,WAAAA,cAAA,CAAAC,QAAA,CAhC/BtB,qBAAqB,wHAAAqB,cAAA,CAAAC,QAAA,CAAAF,QAAA,kIAAAG,WAAA,UAAA9B,oBAAA,mBAAAA,oBAAA,CAAA8B,WAAA,GAAA7B,SAAA,CAAA6B,WAAA,IAAAA,WAAA,CAAA5B,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}