{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, useLayoutEffect } from 'react';\nimport { css, styled } from '@superset-ui/core';\nimport { Tooltip } from './Tooltip';\nimport { ColumnTypeLabel } from './ColumnTypeLabel/ColumnTypeLabel';\nimport CertifiedIconWithTooltip from './CertifiedIconWithTooltip';\nimport { getColumnLabelText, getColumnTooltipNode, getColumnTypeTooltipNode } from './labelUtils';\nimport { SQLPopover } from './SQLPopover';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyleOverrides = styled.span`\n  display: flex;\n  align-items: center;\n  svg {\n    margin-right: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\nexport function ColumnOption({ column, labelRef, showType = false }) {\n  const { expression, column_name, type_generic } = column;\n  const hasExpression = expression && expression !== column_name;\n  const type = hasExpression ? 'expression' : type_generic;\n  const [tooltipText, setTooltipText] = useState(column.column_name);\n  const [columnTypeTooltipText, setcolumnTypeTooltipText] = useState(column.type);\n  useLayoutEffect(() => {\n    setTooltipText(getColumnTooltipNode(column, labelRef));\n    setcolumnTypeTooltipText(getColumnTypeTooltipNode(column));\n  }, [labelRef, column]);\n  return ___EmotionJSX(StyleOverrides, null,\n  showType && type !== undefined && ___EmotionJSX(Tooltip, { id: \"metric-type-tooltip\", title: columnTypeTooltipText, placement: \"bottomRight\", align: { offset: [8, -2] } },\n  ___EmotionJSX(\"span\", null,\n  ___EmotionJSX(ColumnTypeLabel, { type: type })\n  )\n  ),\n  ___EmotionJSX(Tooltip, { id: \"metric-name-tooltip\", title: tooltipText },\n  ___EmotionJSX(\"span\", { className: \"option-label column-option-label\", css: (theme) => css`\n            margin-right: ${theme.gridUnit}px;\n          `, ref: labelRef },\n  getColumnLabelText(column)\n  )\n  ),\n  hasExpression && ___EmotionJSX(SQLPopover, { sqlExpression: expression }),\n  column.is_certified && ___EmotionJSX(CertifiedIconWithTooltip, { metricName: column.metric_name, certifiedBy: column.certified_by, details: column.certification_details })\n  );\n}__signature__(ColumnOption, \"useState{[tooltipText, setTooltipText](column.column_name)}\\nuseState{[columnTypeTooltipText, setcolumnTypeTooltipText](column.type)}\\nuseLayoutEffect{}\");const _default =\nColumnOption;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyleOverrides, \"StyleOverrides\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-chart-controls/src/components/ColumnOption.tsx\");reactHotLoader.register(ColumnOption, \"ColumnOption\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-chart-controls/src/components/ColumnOption.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-chart-controls/src/components/ColumnOption.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useState","useLayoutEffect","css","styled","Tooltip","ColumnTypeLabel","CertifiedIconWithTooltip","getColumnLabelText","getColumnTooltipNode","getColumnTypeTooltipNode","SQLPopover","jsx","___EmotionJSX","StyleOverrides","span","theme","gridUnit","ColumnOption","column","labelRef","showType","expression","column_name","type_generic","hasExpression","type","tooltipText","setTooltipText","columnTypeTooltipText","setcolumnTypeTooltipText","undefined","id","title","placement","align","offset","className","ref","sqlExpression","is_certified","metricName","metric_name","certifiedBy","certified_by","details","certification_details","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/packages/superset-ui-chart-controls/src/components/ColumnOption.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useState, ReactNode, useLayoutEffect } from 'react';\nimport { css, styled, SupersetTheme } from '@superset-ui/core';\nimport { Tooltip } from './Tooltip';\nimport { ColumnTypeLabel } from './ColumnTypeLabel/ColumnTypeLabel';\nimport CertifiedIconWithTooltip from './CertifiedIconWithTooltip';\nimport { ColumnMeta } from '../types';\nimport {\n  getColumnLabelText,\n  getColumnTooltipNode,\n  getColumnTypeTooltipNode,\n} from './labelUtils';\nimport { SQLPopover } from './SQLPopover';\n\nexport type ColumnOptionProps = {\n  column: ColumnMeta;\n  showType?: boolean;\n  labelRef?: React.RefObject<any>;\n};\n\nconst StyleOverrides = styled.span`\n  display: flex;\n  align-items: center;\n  svg {\n    margin-right: ${({ theme }) => theme.gridUnit}px;\n  }\n`;\n\nexport function ColumnOption({\n  column,\n  labelRef,\n  showType = false,\n}: ColumnOptionProps) {\n  const { expression, column_name, type_generic } = column;\n  const hasExpression = expression && expression !== column_name;\n  const type = hasExpression ? 'expression' : type_generic;\n  const [tooltipText, setTooltipText] = useState<ReactNode>(column.column_name);\n  const [columnTypeTooltipText, setcolumnTypeTooltipText] = useState<ReactNode>(\n    column.type,\n  );\n\n  useLayoutEffect(() => {\n    setTooltipText(getColumnTooltipNode(column, labelRef));\n    setcolumnTypeTooltipText(getColumnTypeTooltipNode(column));\n  }, [labelRef, column]);\n\n  return (\n    <StyleOverrides>\n      {showType && type !== undefined && (\n        <Tooltip\n          id=\"metric-type-tooltip\"\n          title={columnTypeTooltipText}\n          placement=\"bottomRight\"\n          align={{ offset: [8, -2] }}\n        >\n          <span>\n            <ColumnTypeLabel type={type} />\n          </span>\n        </Tooltip>\n      )}\n      <Tooltip id=\"metric-name-tooltip\" title={tooltipText}>\n        <span\n          className=\"option-label column-option-label\"\n          css={(theme: SupersetTheme) => css`\n            margin-right: ${theme.gridUnit}px;\n          `}\n          ref={labelRef}\n        >\n          {getColumnLabelText(column)}\n        </span>\n      </Tooltip>\n      {hasExpression && <SQLPopover sqlExpression={expression} />}\n      {column.is_certified && (\n        <CertifiedIconWithTooltip\n          metricName={column.metric_name}\n          certifiedBy={column.certified_by}\n          details={column.certification_details}\n        />\n      )}\n    </StyleOverrides>\n  );\n}\n\nexport default ColumnOption;\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,IAAIC,QAAQ,EAAaC,eAAe,QAAQ,OAAO;AACnE,SAASC,GAAG,EAAEC,MAAM,QAAuB,mBAAmB;AAC9D,SAASC,OAAO,QAAQ,WAAW;AACnC,SAASC,eAAe,QAAQ,mCAAmC;AACnE,OAAOC,wBAAwB,MAAM,4BAA4B;AAEjE,SACEC,kBAAkB,EAClBC,oBAAoB,EACpBC,wBAAwB,QACnB,cAAc;AACrB,SAASC,UAAU,QAAQ,cAAc,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAQ1C,MAAMC,cAAc,GAAGV,MAAM,CAACW,IAAI;;;;oBAId,CAAC,EAAEC,KAAK,EAAE,KAAKA,KAAK,CAACC,QAAQ;;CAEhD;AAED,OAAM,SAAUC,YAAYA,CAAC,EAC3BC,MAAM,EACNC,QAAQ,EACRC,QAAQ,GAAG,KAAK,EACE;EAClB,MAAM,EAAEC,UAAU,EAAEC,WAAW,EAAEC,YAAY,EAAE,GAAGL,MAAM;EACxD,MAAMM,aAAa,GAAGH,UAAU,IAAIA,UAAU,KAAKC,WAAW;EAC9D,MAAMG,IAAI,GAAGD,aAAa,GAAG,YAAY,GAAGD,YAAY;EACxD,MAAM,CAACG,WAAW,EAAEC,cAAc,CAAC,GAAG3B,QAAQ,CAAYkB,MAAM,CAACI,WAAW,CAAC;EAC7E,MAAM,CAACM,qBAAqB,EAAEC,wBAAwB,CAAC,GAAG7B,QAAQ,CAChEkB,MAAM,CAACO,IAAI,CACZ;EAEDxB,eAAe,CAAC,MAAK;IACnB0B,cAAc,CAACnB,oBAAoB,CAACU,MAAM,EAAEC,QAAQ,CAAC,CAAC;IACtDU,wBAAwB,CAACpB,wBAAwB,CAACS,MAAM,CAAC,CAAC;EAC5D,CAAC,EAAE,CAACC,QAAQ,EAAED,MAAM,CAAC,CAAC;EAEtB,OACEN,aAAA,CAACC,cAAc;EACZO,QAAQ,IAAIK,IAAI,KAAKK,SAAS,IAC7BlB,aAAA,CAACR,OAAO,IACN2B,EAAE,EAAC,qBAAqB,EACxBC,KAAK,EAAEJ,qBAAsB,EAC7BK,SAAS,EAAC,aAAa,EACvBC,KAAK,EAAE,EAAEC,MAAM,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAG;EAE3BvB,aAAA;EACEA,aAAA,CAACP,eAAe,IAACoB,IAAI,EAAEA,IAAK;EACxB;EACC,CACV;EACDb,aAAA,CAACR,OAAO,IAAC2B,EAAE,EAAC,qBAAqB,EAACC,KAAK,EAAEN,WAAY;EACnDd,aAAA,WACEwB,SAAS,EAAC,kCAAkC,EAC5ClC,GAAG,EAAEA,CAACa,KAAoB,KAAKb,GAAG;4BAChBa,KAAK,CAACC,QAAQ;WAC9B,EACFqB,GAAG,EAAElB,QAAS;EAEbZ,kBAAkB,CAACW,MAAM;EACtB;EACC,CACT;EAACM,aAAa,IAAIZ,aAAA,CAACF,UAAU,IAAC4B,aAAa,EAAEjB,UAAW,GAAG;EAC1DH,MAAM,CAACqB,YAAY,IAClB3B,aAAA,CAACN,wBAAwB,IACvBkC,UAAU,EAAEtB,MAAM,CAACuB,WAAY,EAC/BC,WAAW,EAAExB,MAAM,CAACyB,YAAa,EACjCC,OAAO,EAAE1B,MAAM,CAAC2B,qBAAsB;EAG5B,CAAC;AAErB,CAACC,aAAA,CArDe7B,YAAY,oKAAA8B,QAAA;AAuDb9B,YAAY,CAA3B,eAAA8B,QAAA,CAA4B,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAApB,SAAA,MAAAkB,cAAA,WAAAA,cAAA,CAAAG,QAAA,CA/DtBtC,cAAc,kJAAAmC,cAAA,CAAAG,QAAA,CAQJlC,YAAY,gJAAA+B,cAAA,CAAAG,QAAA,CAAAJ,QAAA,mKAAAK,WAAA,UAAAH,oBAAA,mBAAAA,oBAAA,CAAAG,WAAA,GAAAtB,SAAA,CAAAsB,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}