{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useParams, Link, useHistory } from 'react-router-dom';\nimport { css, t, styled, SupersetClient, getClientErrorObject } from '@superset-ui/core';\nimport moment from 'moment';\nimport rison from 'rison';\nimport ActionsBar from 'src/components/ListView/ActionsBar';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport DeleteModal from 'src/components/DeleteModal';\nimport ListView from 'src/components/ListView';\nimport SubMenu from 'src/features/home/SubMenu';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport { createErrorHandler } from 'src/views/CRUD/utils';\nimport AnnotationModal from 'src/features/annotations/AnnotationModal';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst PAGE_SIZE = 25;\nconst StyledHeader = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    flex-direction: row;\n\n    a,\n    Link {\n      margin-left: ${theme.gridUnit * 4}px;\n      font-size: ${theme.typography.sizes.s}px;\n      font-weight: ${theme.typography.weights.normal};\n      text-decoration: underline;\n    }\n  `}\n`;\nfunction AnnotationList({ addDangerToast, addSuccessToast }) {\n  const { annotationLayerId } = useParams();\n  const { state: { loading, resourceCount: annotationsCount, resourceCollection: annotations, bulkSelectEnabled }, fetchData, refreshData, toggleBulkSelect } = useListViewResource(`annotation_layer/${annotationLayerId}/annotation`, t('annotation'), addDangerToast, false);\n  const [annotationModalOpen, setAnnotationModalOpen] = useState(false);\n  const [annotationLayerName, setAnnotationLayerName] = useState('');\n  const [currentAnnotation, setCurrentAnnotation] = useState(null);\n  const [annotationCurrentlyDeleting, setAnnotationCurrentlyDeleting] = useState(null);\n  const handleAnnotationEdit = (annotation) => {\n    setCurrentAnnotation(annotation);\n    setAnnotationModalOpen(true);\n  };\n  const fetchAnnotationLayer = useCallback(async function fetchAnnotationLayer() {\n    try {\n      const response = await SupersetClient.get({\n        endpoint: `/api/v1/annotation_layer/${annotationLayerId}`\n      });\n      setAnnotationLayerName(response.json.result.name);\n    }\n    catch (response) {\n      await getClientErrorObject(response).then(({ error }) => {\n        addDangerToast(error.error || error.statusText || error);\n      });\n    }\n  }, [annotationLayerId]);\n  const handleAnnotationDelete = ({ id, short_descr }) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/${annotationLayerId}/annotation/${id}`\n    }).then(() => {\n      refreshData();\n      setAnnotationCurrentlyDeleting(null);\n      addSuccessToast(t('Deleted: %s', short_descr));\n    }, createErrorHandler((errMsg) => addDangerToast(t('There was an issue deleting %s: %s', short_descr, errMsg))));\n  };\n  const handleBulkAnnotationsDelete = (annotationsToDelete) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/${annotationLayerId}/annotation/?q=${rison.encode(annotationsToDelete.map(({ id }) => id))}`\n    }).then(({ json = {} }) => {\n      refreshData();\n      addSuccessToast(json.message);\n    }, createErrorHandler((errMsg) => addDangerToast(t('There was an issue deleting the selected annotations: %s', errMsg))));\n  };\n  // get the Annotation Layer\n  useEffect(() => {\n    fetchAnnotationLayer();\n  }, [fetchAnnotationLayer]);\n  const initialSort = [{ id: 'short_descr', desc: true }];\n  const columns = useMemo(() => [\n  {\n    accessor: 'short_descr',\n    Header: t('Name')\n  },\n  {\n    accessor: 'long_descr',\n    Header: t('Description')\n  },\n  {\n    Cell: ({ row: { original: { start_dttm: startDttm } } }) => moment(new Date(startDttm)).format('ll'),\n    Header: t('Start'),\n    accessor: 'start_dttm'\n  },\n  {\n    Cell: ({ row: { original: { end_dttm: endDttm } } }) => moment(new Date(endDttm)).format('ll'),\n    Header: t('End'),\n    accessor: 'end_dttm'\n  },\n  {\n    Cell: ({ row: { original } }) => {\n      const handleEdit = () => handleAnnotationEdit(original);\n      const handleDelete = () => setAnnotationCurrentlyDeleting(original);\n      const actions = [\n      {\n        label: 'edit-action',\n        tooltip: t('Edit annotation'),\n        placement: 'bottom',\n        icon: 'Edit',\n        onClick: handleEdit\n      },\n      {\n        label: 'delete-action',\n        tooltip: t('Delete annotation'),\n        placement: 'bottom',\n        icon: 'Trash',\n        onClick: handleDelete\n      }];\n\n      return ___EmotionJSX(ActionsBar, { actions: actions });\n    },\n    Header: t('Actions'),\n    id: 'actions',\n    disableSortBy: true\n  }],\n  [true, true]);\n  const subMenuButtons = [];\n  subMenuButtons.push({\n    name: ___EmotionJSX(React.Fragment, null,\n    ___EmotionJSX(\"i\", { className: \"fa fa-plus\" }), \" \", t('Annotation')\n    ),\n    buttonStyle: 'primary',\n    onClick: () => {\n      handleAnnotationEdit(null);\n    }\n  });\n  subMenuButtons.push({\n    name: t('Bulk select'),\n    onClick: toggleBulkSelect,\n    buttonStyle: 'secondary',\n    'data-test': 'annotation-bulk-select'\n  });\n  let hasHistory = true;\n  try {\n    useHistory();\n  }\n  catch (err) {\n    // If error is thrown, we know not to use <Link> in render\n    hasHistory = false;\n  }\n  const emptyState = {\n    title: t('No annotation yet'),\n    image: 'filter-results.svg',\n    buttonAction: () => {\n      handleAnnotationEdit(null);\n    },\n    buttonText: ___EmotionJSX(React.Fragment, null,\n    ___EmotionJSX(\"i\", { className: \"fa fa-plus\" }), \" \", t('Annotation')\n    )\n  };\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(SubMenu, { name: ___EmotionJSX(StyledHeader, null,\n    ___EmotionJSX(\"span\", null, t('Annotation Layer %s', annotationLayerName)),\n    ___EmotionJSX(\"span\", null,\n    hasHistory ? ___EmotionJSX(Link, { to: \"/annotationlayer/list/\" }, t('Back to all')) : ___EmotionJSX(\"a\", { href: \"/annotationlayer/list/\" }, t('Back to all'))\n    )\n    ), buttons: subMenuButtons }),\n  ___EmotionJSX(AnnotationModal, { addDangerToast: addDangerToast, addSuccessToast: addSuccessToast, annotation: currentAnnotation, show: annotationModalOpen, onAnnotationAdd: () => refreshData(), annotationLayerId: annotationLayerId, onHide: () => setAnnotationModalOpen(false) }),\n  annotationCurrentlyDeleting && ___EmotionJSX(DeleteModal, { description: t('Are you sure you want to delete %s?', annotationCurrentlyDeleting == null ? void 0 : annotationCurrentlyDeleting.short_descr), onConfirm: () => {\n      if (annotationCurrentlyDeleting) {\n        handleAnnotationDelete(annotationCurrentlyDeleting);\n      }\n    }, onHide: () => setAnnotationCurrentlyDeleting(null), open: true, title: t('Delete Annotation?') }),\n  ___EmotionJSX(ConfirmStatusChange, { title: t('Please confirm'), description: t('Are you sure you want to delete the selected annotations?'), onConfirm: handleBulkAnnotationsDelete },\n  (confirmDelete) => {\n    const bulkActions = [\n    {\n      key: 'delete',\n      name: t('Delete'),\n      onSelect: confirmDelete,\n      type: 'danger'\n    }];\n\n    return ___EmotionJSX(ListView, { className: \"annotations-list-view\", bulkActions: bulkActions, bulkSelectEnabled: bulkSelectEnabled, columns: columns, count: annotationsCount, data: annotations, disableBulkSelect: toggleBulkSelect, emptyState: emptyState, fetchData: fetchData, addDangerToast: addDangerToast, addSuccessToast: addSuccessToast, refreshData: refreshData, initialSort: initialSort, loading: loading, pageSize: PAGE_SIZE });\n  }\n  )\n  );\n}__signature__(AnnotationList, \"useParams{{ annotationLayerId }}\\nuseListViewResource{{ state: { loading, resourceCount: annotationsCount, resourceCollection: annotations, bulkSelectEnabled, }, fetchData, refreshData, toggleBulkSelect, }}\\nuseState{[annotationModalOpen, setAnnotationModalOpen](false)}\\nuseState{[annotationLayerName, setAnnotationLayerName]('')}\\nuseState{[currentAnnotation, setCurrentAnnotation](null)}\\nuseState{[annotationCurrentlyDeleting, setAnnotationCurrentlyDeleting](null)}\\nuseCallback{fetchAnnotationLayer}\\nuseEffect{}\\nuseMemo{columns}\\nuseHistory{}\", () => [useParams, useListViewResource, useHistory]);const _default =\nwithToasts(AnnotationList);export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(PAGE_SIZE, \"PAGE_SIZE\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/AnnotationList/index.tsx\");reactHotLoader.register(StyledHeader, \"StyledHeader\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/AnnotationList/index.tsx\");reactHotLoader.register(AnnotationList, \"AnnotationList\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/AnnotationList/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/AnnotationList/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useMemo","useState","useEffect","useCallback","useParams","Link","useHistory","css","t","styled","SupersetClient","getClientErrorObject","moment","rison","ActionsBar","ConfirmStatusChange","DeleteModal","ListView","SubMenu","withToasts","useListViewResource","createErrorHandler","AnnotationModal","jsx","___EmotionJSX","PAGE_SIZE","StyledHeader","div","theme","gridUnit","typography","sizes","s","weights","normal","AnnotationList","addDangerToast","addSuccessToast","annotationLayerId","state","loading","resourceCount","annotationsCount","resourceCollection","annotations","bulkSelectEnabled","fetchData","refreshData","toggleBulkSelect","annotationModalOpen","setAnnotationModalOpen","annotationLayerName","setAnnotationLayerName","currentAnnotation","setCurrentAnnotation","annotationCurrentlyDeleting","setAnnotationCurrentlyDeleting","handleAnnotationEdit","annotation","fetchAnnotationLayer","response","get","endpoint","json","result","name","then","error","statusText","handleAnnotationDelete","id","short_descr","delete","errMsg","handleBulkAnnotationsDelete","annotationsToDelete","encode","map","message","initialSort","desc","columns","accessor","Header","Cell","row","original","start_dttm","startDttm","Date","format","end_dttm","endDttm","handleEdit","handleDelete","actions","label","tooltip","placement","icon","onClick","disableSortBy","subMenuButtons","push","Fragment","className","buttonStyle","hasHistory","err","emptyState","title","image","buttonAction","buttonText","to","href","buttons","show","onAnnotationAdd","onHide","description","onConfirm","open","confirmDelete","bulkActions","key","onSelect","type","count","data","disableBulkSelect","pageSize","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/pages/AnnotationList/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useMemo, useState, useEffect, useCallback } from 'react';\nimport { useParams, Link, useHistory } from 'react-router-dom';\nimport {\n  css,\n  t,\n  styled,\n  SupersetClient,\n  getClientErrorObject,\n} from '@superset-ui/core';\nimport moment from 'moment';\nimport rison from 'rison';\n\nimport ActionsBar, { ActionProps } from 'src/components/ListView/ActionsBar';\nimport ConfirmStatusChange from 'src/components/ConfirmStatusChange';\nimport DeleteModal from 'src/components/DeleteModal';\nimport ListView, { ListViewProps } from 'src/components/ListView';\nimport SubMenu, { SubMenuProps } from 'src/features/home/SubMenu';\nimport withToasts from 'src/components/MessageToasts/withToasts';\nimport { useListViewResource } from 'src/views/CRUD/hooks';\nimport { createErrorHandler } from 'src/views/CRUD/utils';\n\nimport { AnnotationObject } from 'src/features/annotations/types';\nimport AnnotationModal from 'src/features/annotations/AnnotationModal';\n\nconst PAGE_SIZE = 25;\n\ninterface AnnotationListProps {\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n}\n\nconst StyledHeader = styled.div`\n  ${({ theme }) => css`\n    display: flex;\n    flex-direction: row;\n\n    a,\n    Link {\n      margin-left: ${theme.gridUnit * 4}px;\n      font-size: ${theme.typography.sizes.s}px;\n      font-weight: ${theme.typography.weights.normal};\n      text-decoration: underline;\n    }\n  `}\n`;\n\nfunction AnnotationList({\n  addDangerToast,\n  addSuccessToast,\n}: AnnotationListProps) {\n  const { annotationLayerId }: any = useParams();\n  const {\n    state: {\n      loading,\n      resourceCount: annotationsCount,\n      resourceCollection: annotations,\n      bulkSelectEnabled,\n    },\n    fetchData,\n    refreshData,\n    toggleBulkSelect,\n  } = useListViewResource<AnnotationObject>(\n    `annotation_layer/${annotationLayerId}/annotation`,\n    t('annotation'),\n    addDangerToast,\n    false,\n  );\n  const [annotationModalOpen, setAnnotationModalOpen] =\n    useState<boolean>(false);\n  const [annotationLayerName, setAnnotationLayerName] = useState<string>('');\n  const [currentAnnotation, setCurrentAnnotation] =\n    useState<AnnotationObject | null>(null);\n  const [annotationCurrentlyDeleting, setAnnotationCurrentlyDeleting] =\n    useState<AnnotationObject | null>(null);\n  const handleAnnotationEdit = (annotation: AnnotationObject | null) => {\n    setCurrentAnnotation(annotation);\n    setAnnotationModalOpen(true);\n  };\n\n  const fetchAnnotationLayer = useCallback(\n    async function fetchAnnotationLayer() {\n      try {\n        const response = await SupersetClient.get({\n          endpoint: `/api/v1/annotation_layer/${annotationLayerId}`,\n        });\n        setAnnotationLayerName(response.json.result.name);\n      } catch (response) {\n        await getClientErrorObject(response).then(({ error }: any) => {\n          addDangerToast(error.error || error.statusText || error);\n        });\n      }\n    },\n    [annotationLayerId],\n  );\n\n  const handleAnnotationDelete = ({ id, short_descr }: AnnotationObject) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/${annotationLayerId}/annotation/${id}`,\n    }).then(\n      () => {\n        refreshData();\n        setAnnotationCurrentlyDeleting(null);\n        addSuccessToast(t('Deleted: %s', short_descr));\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('There was an issue deleting %s: %s', short_descr, errMsg),\n        ),\n      ),\n    );\n  };\n\n  const handleBulkAnnotationsDelete = (\n    annotationsToDelete: AnnotationObject[],\n  ) => {\n    SupersetClient.delete({\n      endpoint: `/api/v1/annotation_layer/${annotationLayerId}/annotation/?q=${rison.encode(\n        annotationsToDelete.map(({ id }) => id),\n      )}`,\n    }).then(\n      ({ json = {} }) => {\n        refreshData();\n        addSuccessToast(json.message);\n      },\n      createErrorHandler(errMsg =>\n        addDangerToast(\n          t('There was an issue deleting the selected annotations: %s', errMsg),\n        ),\n      ),\n    );\n  };\n\n  // get the Annotation Layer\n  useEffect(() => {\n    fetchAnnotationLayer();\n  }, [fetchAnnotationLayer]);\n\n  const initialSort = [{ id: 'short_descr', desc: true }];\n  const columns = useMemo(\n    () => [\n      {\n        accessor: 'short_descr',\n        Header: t('Name'),\n      },\n      {\n        accessor: 'long_descr',\n        Header: t('Description'),\n      },\n      {\n        Cell: ({\n          row: {\n            original: { start_dttm: startDttm },\n          },\n        }: any) => moment(new Date(startDttm)).format('ll'),\n        Header: t('Start'),\n        accessor: 'start_dttm',\n      },\n      {\n        Cell: ({\n          row: {\n            original: { end_dttm: endDttm },\n          },\n        }: any) => moment(new Date(endDttm)).format('ll'),\n        Header: t('End'),\n        accessor: 'end_dttm',\n      },\n      {\n        Cell: ({ row: { original } }: any) => {\n          const handleEdit = () => handleAnnotationEdit(original);\n          const handleDelete = () => setAnnotationCurrentlyDeleting(original);\n          const actions = [\n            {\n              label: 'edit-action',\n              tooltip: t('Edit annotation'),\n              placement: 'bottom',\n              icon: 'Edit',\n              onClick: handleEdit,\n            },\n            {\n              label: 'delete-action',\n              tooltip: t('Delete annotation'),\n              placement: 'bottom',\n              icon: 'Trash',\n              onClick: handleDelete,\n            },\n          ];\n          return <ActionsBar actions={actions as ActionProps[]} />;\n        },\n        Header: t('Actions'),\n        id: 'actions',\n        disableSortBy: true,\n      },\n    ],\n    [true, true],\n  );\n\n  const subMenuButtons: SubMenuProps['buttons'] = [];\n\n  subMenuButtons.push({\n    name: (\n      <>\n        <i className=\"fa fa-plus\" /> {t('Annotation')}\n      </>\n    ),\n    buttonStyle: 'primary',\n    onClick: () => {\n      handleAnnotationEdit(null);\n    },\n  });\n\n  subMenuButtons.push({\n    name: t('Bulk select'),\n    onClick: toggleBulkSelect,\n    buttonStyle: 'secondary',\n    'data-test': 'annotation-bulk-select',\n  });\n\n  let hasHistory = true;\n\n  try {\n    useHistory();\n  } catch (err) {\n    // If error is thrown, we know not to use <Link> in render\n    hasHistory = false;\n  }\n\n  const emptyState = {\n    title: t('No annotation yet'),\n    image: 'filter-results.svg',\n    buttonAction: () => {\n      handleAnnotationEdit(null);\n    },\n    buttonText: (\n      <>\n        <i className=\"fa fa-plus\" /> {t('Annotation')}\n      </>\n    ),\n  };\n\n  return (\n    <>\n      <SubMenu\n        name={\n          <StyledHeader>\n            <span>{t('Annotation Layer %s', annotationLayerName)}</span>\n            <span>\n              {hasHistory ? (\n                <Link to=\"/annotationlayer/list/\">{t('Back to all')}</Link>\n              ) : (\n                <a href=\"/annotationlayer/list/\">{t('Back to all')}</a>\n              )}\n            </span>\n          </StyledHeader>\n        }\n        buttons={subMenuButtons}\n      />\n      <AnnotationModal\n        addDangerToast={addDangerToast}\n        addSuccessToast={addSuccessToast}\n        annotation={currentAnnotation}\n        show={annotationModalOpen}\n        onAnnotationAdd={() => refreshData()}\n        annotationLayerId={annotationLayerId}\n        onHide={() => setAnnotationModalOpen(false)}\n      />\n      {annotationCurrentlyDeleting && (\n        <DeleteModal\n          description={t(\n            'Are you sure you want to delete %s?',\n            annotationCurrentlyDeleting?.short_descr,\n          )}\n          onConfirm={() => {\n            if (annotationCurrentlyDeleting) {\n              handleAnnotationDelete(annotationCurrentlyDeleting);\n            }\n          }}\n          onHide={() => setAnnotationCurrentlyDeleting(null)}\n          open\n          title={t('Delete Annotation?')}\n        />\n      )}\n      <ConfirmStatusChange\n        title={t('Please confirm')}\n        description={t(\n          'Are you sure you want to delete the selected annotations?',\n        )}\n        onConfirm={handleBulkAnnotationsDelete}\n      >\n        {confirmDelete => {\n          const bulkActions: ListViewProps['bulkActions'] = [\n            {\n              key: 'delete',\n              name: t('Delete'),\n              onSelect: confirmDelete,\n              type: 'danger',\n            },\n          ];\n\n          return (\n            <ListView<AnnotationObject>\n              className=\"annotations-list-view\"\n              bulkActions={bulkActions}\n              bulkSelectEnabled={bulkSelectEnabled}\n              columns={columns}\n              count={annotationsCount}\n              data={annotations}\n              disableBulkSelect={toggleBulkSelect}\n              emptyState={emptyState}\n              fetchData={fetchData}\n              addDangerToast={addDangerToast}\n              addSuccessToast={addSuccessToast}\n              refreshData={refreshData}\n              initialSort={initialSort}\n              loading={loading}\n              pageSize={PAGE_SIZE}\n            />\n          );\n        }}\n      </ConfirmStatusChange>\n    </>\n  );\n}\n\nexport default withToasts(AnnotationList);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}