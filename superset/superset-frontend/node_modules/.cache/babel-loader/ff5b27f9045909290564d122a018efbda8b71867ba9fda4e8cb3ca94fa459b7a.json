{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useEffect, useState } from 'react';\nimport { styled, t } from '@superset-ui/core';\nimport Button from 'src/components/Button';\nimport Modal from 'src/components/Modal';\nimport { Upload } from 'src/components';\nimport { useImportResource } from 'src/views/CRUD/hooks';\nimport ErrorAlert from './ErrorAlert';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst HelperMessage = styled.div`\n  display: block;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n`;\nconst StyledInputContainer = styled.div`\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  padding-top: ${({ theme }) => theme.gridUnit * 2}px;\n\n  & > div {\n    margin: ${({ theme }) => theme.gridUnit}px 0;\n  }\n\n  &.extra-container {\n    padding-top: 8px;\n  }\n\n  .confirm-overwrite {\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  .input-container {\n    display: flex;\n    align-items: center;\n\n    label {\n      display: flex;\n      margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n\n    i {\n      margin: 0 ${({ theme }) => theme.gridUnit}px;\n    }\n  }\n\n  input,\n  textarea {\n    flex: 1 1 auto;\n  }\n\n  textarea {\n    height: 160px;\n    resize: none;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    color: ${({ theme }) => theme.colors.grayscale.light1};\n  }\n\n  textarea,\n  input[type='text'],\n  input[type='number'] {\n    padding: ${({ theme }) => theme.gridUnit * 1.5}px\n      ${({ theme }) => theme.gridUnit * 2}px;\n    border-style: none;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n\n    &[name='name'] {\n      flex: 0 1 auto;\n      width: 40%;\n    }\n\n    &[name='sqlalchemy_uri'] {\n      margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    }\n  }\n`;\nconst ImportModelsModal = ({ resourceName, resourceLabel, passwordsNeededMessage, confirmOverwriteMessage, onModelImport, show, onHide, passwordFields = [], setPasswordFields = () => {}, sshTunnelPasswordFields = [], setSSHTunnelPasswordFields = () => {}, sshTunnelPrivateKeyFields = [], setSSHTunnelPrivateKeyFields = () => {}, sshTunnelPrivateKeyPasswordFields = [], setSSHTunnelPrivateKeyPasswordFields = () => {} }) => {\n  const [isHidden, setIsHidden] = useState(true);\n  const [passwords, setPasswords] = useState({});\n  const [needsOverwriteConfirm, setNeedsOverwriteConfirm] = useState(false);\n  const [confirmedOverwrite, setConfirmedOverwrite] = useState(false);\n  const [fileList, setFileList] = useState([]);\n  const [importingModel, setImportingModel] = useState(false);\n  const [errorMessage, setErrorMessage] = useState();\n  const [sshTunnelPasswords, setSSHTunnelPasswords] = useState({});\n  const [sshTunnelPrivateKeys, setSSHTunnelPrivateKeys] = useState({});\n  const [sshTunnelPrivateKeyPasswords, setSSHTunnelPrivateKeyPasswords] = useState({});\n  const clearModal = () => {\n    setFileList([]);\n    setPasswordFields([]);\n    setPasswords({});\n    setNeedsOverwriteConfirm(false);\n    setConfirmedOverwrite(false);\n    setImportingModel(false);\n    setErrorMessage('');\n    setSSHTunnelPasswordFields([]);\n    setSSHTunnelPrivateKeyFields([]);\n    setSSHTunnelPrivateKeyPasswordFields([]);\n    setSSHTunnelPasswords({});\n    setSSHTunnelPrivateKeys({});\n    setSSHTunnelPrivateKeyPasswords({});\n  };\n  const handleErrorMsg = (msg) => {\n    setErrorMessage(msg);\n  };\n  const { state: { alreadyExists, passwordsNeeded, sshPasswordNeeded, sshPrivateKeyNeeded, sshPrivateKeyPasswordNeeded }, importResource } = useImportResource(resourceName, resourceLabel, handleErrorMsg);\n  useEffect(() => {\n    setPasswordFields(passwordsNeeded);\n    if (passwordsNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [passwordsNeeded, setPasswordFields]);\n  useEffect(() => {\n    setNeedsOverwriteConfirm(alreadyExists.length > 0);\n    if (alreadyExists.length > 0) {\n      setImportingModel(false);\n    }\n  }, [alreadyExists, setNeedsOverwriteConfirm]);\n  useEffect(() => {\n    setSSHTunnelPasswordFields(sshPasswordNeeded);\n    if (sshPasswordNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPasswordNeeded, setSSHTunnelPasswordFields]);\n  useEffect(() => {\n    setSSHTunnelPrivateKeyFields(sshPrivateKeyNeeded);\n    if (sshPrivateKeyNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPrivateKeyNeeded, setSSHTunnelPrivateKeyFields]);\n  useEffect(() => {\n    setSSHTunnelPrivateKeyPasswordFields(sshPrivateKeyPasswordNeeded);\n    if (sshPrivateKeyPasswordNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPrivateKeyPasswordNeeded, setSSHTunnelPrivateKeyPasswordFields]);\n  // Functions\n  const hide = () => {\n    setIsHidden(true);\n    onHide();\n    clearModal();\n  };\n  const onUpload = () => {var _fileList$;\n    if (!(((_fileList$ = fileList[0]) == null ? void 0 : _fileList$.originFileObj) instanceof File)) {\n      return;\n    }\n    setImportingModel(true);\n    importResource(fileList[0].originFileObj, passwords, sshTunnelPasswords, sshTunnelPrivateKeys, sshTunnelPrivateKeyPasswords, confirmedOverwrite).then((result) => {\n      if (result) {\n        clearModal();\n        onModelImport();\n      }\n    });\n  };\n  const changeFile = (info) => {\n    setFileList([\n    {\n      ...info.file,\n      status: 'done'\n    }]\n    );\n  };\n  const removeFile = (removedFile) => {\n    setFileList(fileList.filter((file) => file.uid !== removedFile.uid));\n    return false;\n  };\n  const confirmOverwrite = (event) => {var _event$currentTarget$, _event$currentTarget;\n    const targetValue = (_event$currentTarget$ = (_event$currentTarget = event.currentTarget) == null ? void 0 : _event$currentTarget.value) != null ? _event$currentTarget$ : '';\n    setConfirmedOverwrite(targetValue.toUpperCase() === t('OVERWRITE'));\n  };\n  const renderPasswordFields = () => {\n    if (passwordFields.length === 0 &&\n    sshTunnelPasswordFields.length === 0 &&\n    sshTunnelPrivateKeyFields.length === 0 &&\n    sshTunnelPrivateKeyPasswordFields.length === 0) {\n      return null;\n    }\n    const files = [\n    ...new Set([\n    ...passwordFields,\n    ...sshTunnelPasswordFields,\n    ...sshTunnelPrivateKeyFields,\n    ...sshTunnelPrivateKeyPasswordFields]\n    )];\n\n    return ___EmotionJSX(React.Fragment, null,\n    ___EmotionJSX(\"h5\", null, t('Database passwords')),\n    ___EmotionJSX(HelperMessage, null, passwordsNeededMessage),\n    files.map((fileName) => ___EmotionJSX(React.Fragment, null,\n    (passwordFields == null ? void 0 : passwordFields.indexOf(fileName)) >= 0 && ___EmotionJSX(StyledInputContainer, { key: `password-for-${fileName}` },\n    ___EmotionJSX(\"div\", { className: \"control-label\" },\n    t('%s PASSWORD', fileName.slice(10)),\n    ___EmotionJSX(\"span\", { className: \"required\" }, \"*\")\n    ),\n    ___EmotionJSX(\"input\", { name: `password-${fileName}`, autoComplete: `password-${fileName}`, type: \"password\", value: passwords[fileName], onChange: (event) => setPasswords({\n        ...passwords,\n        [fileName]: event.target.value\n      }) })\n    ),\n    (sshTunnelPasswordFields == null ? void 0 : sshTunnelPasswordFields.indexOf(fileName)) >= 0 && ___EmotionJSX(StyledInputContainer, { key: `ssh_tunnel_password-for-${fileName}` },\n    ___EmotionJSX(\"div\", { className: \"control-label\" },\n    t('%s SSH TUNNEL PASSWORD', fileName.slice(10)),\n    ___EmotionJSX(\"span\", { className: \"required\" }, \"*\")\n    ),\n    ___EmotionJSX(\"input\", { name: `ssh_tunnel_password-${fileName}`, autoComplete: `ssh_tunnel_password-${fileName}`, type: \"password\", value: sshTunnelPasswords[fileName], onChange: (event) => setSSHTunnelPasswords({\n        ...sshTunnelPasswords,\n        [fileName]: event.target.value\n      }), \"data-test\": \"ssh_tunnel_password\" })\n    ),\n    (sshTunnelPrivateKeyFields == null ? void 0 : sshTunnelPrivateKeyFields.indexOf(fileName)) >= 0 && ___EmotionJSX(StyledInputContainer, { key: `ssh_tunnel_private_key-for-${fileName}` },\n    ___EmotionJSX(\"div\", { className: \"control-label\" },\n    t('%s SSH TUNNEL PRIVATE KEY', fileName.slice(10)),\n    ___EmotionJSX(\"span\", { className: \"required\" }, \"*\")\n    ),\n    ___EmotionJSX(\"textarea\", { name: `ssh_tunnel_private_key-${fileName}`, autoComplete: `ssh_tunnel_private_key-${fileName}`, value: sshTunnelPrivateKeys[fileName], onChange: (event) => setSSHTunnelPrivateKeys({\n        ...sshTunnelPrivateKeys,\n        [fileName]: event.target.value\n      }), \"data-test\": \"ssh_tunnel_private_key\" })\n    ),\n    (sshTunnelPrivateKeyPasswordFields == null ? void 0 : sshTunnelPrivateKeyPasswordFields.indexOf(fileName)) >= 0 && ___EmotionJSX(StyledInputContainer, { key: `ssh_tunnel_private_key_password-for-${fileName}` },\n    ___EmotionJSX(\"div\", { className: \"control-label\" },\n    t('%s SSH TUNNEL PRIVATE KEY PASSWORD', fileName.slice(10)),\n    ___EmotionJSX(\"span\", { className: \"required\" }, \"*\")\n    ),\n    ___EmotionJSX(\"input\", { name: `ssh_tunnel_private_key_password-${fileName}`, autoComplete: `ssh_tunnel_private_key_password-${fileName}`, type: \"password\", value: sshTunnelPrivateKeyPasswords[fileName], onChange: (event) => setSSHTunnelPrivateKeyPasswords({\n        ...sshTunnelPrivateKeyPasswords,\n        [fileName]: event.target.value\n      }), \"data-test\": \"ssh_tunnel_private_key_password\" })\n    )\n    ))\n    );\n  };\n  const renderOverwriteConfirmation = () => {\n    if (!needsOverwriteConfirm) {\n      return null;\n    }\n    return ___EmotionJSX(React.Fragment, null,\n    ___EmotionJSX(StyledInputContainer, null,\n    ___EmotionJSX(\"div\", { className: \"confirm-overwrite\" }, confirmOverwriteMessage),\n    ___EmotionJSX(\"div\", { className: \"control-label\" },\n    t('Type \"%s\" to confirm', t('OVERWRITE'))\n    ),\n    ___EmotionJSX(\"input\", { \"data-test\": \"overwrite-modal-input\", id: \"overwrite\", type: \"text\", onChange: confirmOverwrite })\n    )\n    );\n  };\n  // Show/hide\n  if (isHidden && show) {\n    setIsHidden(false);\n  }\n  return ___EmotionJSX(Modal, { name: \"model\", className: \"import-model-modal\", disablePrimaryButton: fileList.length === 0 ||\n    needsOverwriteConfirm && !confirmedOverwrite ||\n    importingModel, onHandledPrimaryAction: onUpload, onHide: hide, primaryButtonName: needsOverwriteConfirm ? t('Overwrite') : t('Import'), primaryButtonType: needsOverwriteConfirm ? 'danger' : 'primary', width: \"750px\", show: show, title: ___EmotionJSX(\"h4\", null, t('Import %s', resourceLabel)) },\n  ___EmotionJSX(StyledInputContainer, null,\n  ___EmotionJSX(Upload, { name: \"modelFile\", id: \"modelFile\", \"data-test\": \"model-file-input\", accept: \".yaml,.json,.yml,.zip\", fileList: fileList, onChange: changeFile, onRemove: removeFile\n    // upload is handled by hook\n    , customRequest: () => {}, disabled: importingModel },\n  ___EmotionJSX(Button, { loading: importingModel }, t('Select file'))\n  )\n  ),\n  errorMessage && ___EmotionJSX(ErrorAlert, { errorMessage: errorMessage, showDbInstallInstructions: passwordFields.length > 0 ||\n    sshTunnelPasswordFields.length > 0 ||\n    sshTunnelPrivateKeyFields.length > 0 ||\n    sshTunnelPrivateKeyPasswordFields.length > 0 }),\n  renderPasswordFields(),\n  renderOverwriteConfirmation()\n  );\n};__signature__(ImportModelsModal, \"useState{[isHidden, setIsHidden](true)}\\nuseState{[passwords, setPasswords]({})}\\nuseState{[needsOverwriteConfirm, setNeedsOverwriteConfirm](false)}\\nuseState{[confirmedOverwrite, setConfirmedOverwrite](false)}\\nuseState{[fileList, setFileList]([])}\\nuseState{[importingModel, setImportingModel](false)}\\nuseState{[errorMessage, setErrorMessage]}\\nuseState{[sshTunnelPasswords, setSSHTunnelPasswords]({})}\\nuseState{[sshTunnelPrivateKeys, setSSHTunnelPrivateKeys]({})}\\nuseState{[sshTunnelPrivateKeyPasswords, setSSHTunnelPrivateKeyPasswords]({})}\\nuseImportResource{{ state: { alreadyExists, passwordsNeeded, sshPasswordNeeded, sshPrivateKeyNeeded, sshPrivateKeyPasswordNeeded, }, importResource, }}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\\nuseEffect{}\", () => [useImportResource]);const _default =\nImportModelsModal;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(HelperMessage, \"HelperMessage\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ImportModal/index.tsx\");reactHotLoader.register(StyledInputContainer, \"StyledInputContainer\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ImportModal/index.tsx\");reactHotLoader.register(ImportModelsModal, \"ImportModelsModal\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ImportModal/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ImportModal/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useEffect","useState","styled","t","Button","Modal","Upload","useImportResource","ErrorAlert","jsx","___EmotionJSX","HelperMessage","div","theme","colors","grayscale","base","typography","sizes","s","StyledInputContainer","gridUnit","light1","light2","ImportModelsModal","resourceName","resourceLabel","passwordsNeededMessage","confirmOverwriteMessage","onModelImport","show","onHide","passwordFields","setPasswordFields","sshTunnelPasswordFields","setSSHTunnelPasswordFields","sshTunnelPrivateKeyFields","setSSHTunnelPrivateKeyFields","sshTunnelPrivateKeyPasswordFields","setSSHTunnelPrivateKeyPasswordFields","isHidden","setIsHidden","passwords","setPasswords","needsOverwriteConfirm","setNeedsOverwriteConfirm","confirmedOverwrite","setConfirmedOverwrite","fileList","setFileList","importingModel","setImportingModel","errorMessage","setErrorMessage","sshTunnelPasswords","setSSHTunnelPasswords","sshTunnelPrivateKeys","setSSHTunnelPrivateKeys","sshTunnelPrivateKeyPasswords","setSSHTunnelPrivateKeyPasswords","clearModal","handleErrorMsg","msg","state","alreadyExists","passwordsNeeded","sshPasswordNeeded","sshPrivateKeyNeeded","sshPrivateKeyPasswordNeeded","importResource","length","hide","onUpload","_fileList$","originFileObj","File","then","result","changeFile","info","file","status","removeFile","removedFile","filter","uid","confirmOverwrite","event","_event$currentTarget$","_event$currentTarget","targetValue","currentTarget","value","toUpperCase","renderPasswordFields","files","Set","Fragment","map","fileName","indexOf","key","className","slice","name","autoComplete","type","onChange","target","renderOverwriteConfirmation","id","disablePrimaryButton","onHandledPrimaryAction","primaryButtonName","primaryButtonType","width","title","accept","onRemove","customRequest","disabled","loading","showDbInstallInstructions","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/components/ImportModal/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { FunctionComponent, useEffect, useState } from 'react';\nimport { UploadChangeParam, UploadFile } from 'antd/lib/upload/interface';\nimport { styled, t } from '@superset-ui/core';\n\nimport Button from 'src/components/Button';\nimport Modal from 'src/components/Modal';\nimport { Upload } from 'src/components';\nimport { useImportResource } from 'src/views/CRUD/hooks';\nimport { ImportResourceName } from 'src/views/CRUD/types';\nimport ErrorAlert from './ErrorAlert';\n\nconst HelperMessage = styled.div`\n  display: block;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n  font-size: ${({ theme }) => theme.typography.sizes.s}px;\n`;\n\nconst StyledInputContainer = styled.div`\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  padding-top: ${({ theme }) => theme.gridUnit * 2}px;\n\n  & > div {\n    margin: ${({ theme }) => theme.gridUnit}px 0;\n  }\n\n  &.extra-container {\n    padding-top: 8px;\n  }\n\n  .confirm-overwrite {\n    margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  }\n\n  .input-container {\n    display: flex;\n    align-items: center;\n\n    label {\n      display: flex;\n      margin-right: ${({ theme }) => theme.gridUnit * 2}px;\n    }\n\n    i {\n      margin: 0 ${({ theme }) => theme.gridUnit}px;\n    }\n  }\n\n  input,\n  textarea {\n    flex: 1 1 auto;\n  }\n\n  textarea {\n    height: 160px;\n    resize: none;\n  }\n\n  input::placeholder,\n  textarea::placeholder {\n    color: ${({ theme }) => theme.colors.grayscale.light1};\n  }\n\n  textarea,\n  input[type='text'],\n  input[type='number'] {\n    padding: ${({ theme }) => theme.gridUnit * 1.5}px\n      ${({ theme }) => theme.gridUnit * 2}px;\n    border-style: none;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n\n    &[name='name'] {\n      flex: 0 1 auto;\n      width: 40%;\n    }\n\n    &[name='sqlalchemy_uri'] {\n      margin-right: ${({ theme }) => theme.gridUnit * 3}px;\n    }\n  }\n`;\n\nexport interface ImportModelsModalProps {\n  resourceName: ImportResourceName;\n  resourceLabel: string;\n  passwordsNeededMessage: string;\n  confirmOverwriteMessage: string;\n  addDangerToast: (msg: string) => void;\n  addSuccessToast: (msg: string) => void;\n  onModelImport: () => void;\n  show: boolean;\n  onHide: () => void;\n  passwordFields?: string[];\n  setPasswordFields?: (passwordFields: string[]) => void;\n  sshTunnelPasswordFields?: string[];\n  setSSHTunnelPasswordFields?: (sshTunnelPasswordFields: string[]) => void;\n  sshTunnelPrivateKeyFields?: string[];\n  setSSHTunnelPrivateKeyFields?: (sshTunnelPrivateKeyFields: string[]) => void;\n  sshTunnelPrivateKeyPasswordFields?: string[];\n  setSSHTunnelPrivateKeyPasswordFields?: (\n    sshTunnelPrivateKeyPasswordFields: string[],\n  ) => void;\n}\n\nconst ImportModelsModal: FunctionComponent<ImportModelsModalProps> = ({\n  resourceName,\n  resourceLabel,\n  passwordsNeededMessage,\n  confirmOverwriteMessage,\n  onModelImport,\n  show,\n  onHide,\n  passwordFields = [],\n  setPasswordFields = () => {},\n  sshTunnelPasswordFields = [],\n  setSSHTunnelPasswordFields = () => {},\n  sshTunnelPrivateKeyFields = [],\n  setSSHTunnelPrivateKeyFields = () => {},\n  sshTunnelPrivateKeyPasswordFields = [],\n  setSSHTunnelPrivateKeyPasswordFields = () => {},\n}) => {\n  const [isHidden, setIsHidden] = useState<boolean>(true);\n  const [passwords, setPasswords] = useState<Record<string, string>>({});\n  const [needsOverwriteConfirm, setNeedsOverwriteConfirm] =\n    useState<boolean>(false);\n  const [confirmedOverwrite, setConfirmedOverwrite] = useState<boolean>(false);\n  const [fileList, setFileList] = useState<UploadFile[]>([]);\n  const [importingModel, setImportingModel] = useState<boolean>(false);\n  const [errorMessage, setErrorMessage] = useState<string>();\n  const [sshTunnelPasswords, setSSHTunnelPasswords] = useState<\n    Record<string, string>\n  >({});\n  const [sshTunnelPrivateKeys, setSSHTunnelPrivateKeys] = useState<\n    Record<string, string>\n  >({});\n  const [sshTunnelPrivateKeyPasswords, setSSHTunnelPrivateKeyPasswords] =\n    useState<Record<string, string>>({});\n\n  const clearModal = () => {\n    setFileList([]);\n    setPasswordFields([]);\n    setPasswords({});\n    setNeedsOverwriteConfirm(false);\n    setConfirmedOverwrite(false);\n    setImportingModel(false);\n    setErrorMessage('');\n    setSSHTunnelPasswordFields([]);\n    setSSHTunnelPrivateKeyFields([]);\n    setSSHTunnelPrivateKeyPasswordFields([]);\n    setSSHTunnelPasswords({});\n    setSSHTunnelPrivateKeys({});\n    setSSHTunnelPrivateKeyPasswords({});\n  };\n\n  const handleErrorMsg = (msg: string) => {\n    setErrorMessage(msg);\n  };\n\n  const {\n    state: {\n      alreadyExists,\n      passwordsNeeded,\n      sshPasswordNeeded,\n      sshPrivateKeyNeeded,\n      sshPrivateKeyPasswordNeeded,\n    },\n    importResource,\n  } = useImportResource(resourceName, resourceLabel, handleErrorMsg);\n\n  useEffect(() => {\n    setPasswordFields(passwordsNeeded);\n    if (passwordsNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [passwordsNeeded, setPasswordFields]);\n\n  useEffect(() => {\n    setNeedsOverwriteConfirm(alreadyExists.length > 0);\n    if (alreadyExists.length > 0) {\n      setImportingModel(false);\n    }\n  }, [alreadyExists, setNeedsOverwriteConfirm]);\n\n  useEffect(() => {\n    setSSHTunnelPasswordFields(sshPasswordNeeded);\n    if (sshPasswordNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPasswordNeeded, setSSHTunnelPasswordFields]);\n\n  useEffect(() => {\n    setSSHTunnelPrivateKeyFields(sshPrivateKeyNeeded);\n    if (sshPrivateKeyNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPrivateKeyNeeded, setSSHTunnelPrivateKeyFields]);\n\n  useEffect(() => {\n    setSSHTunnelPrivateKeyPasswordFields(sshPrivateKeyPasswordNeeded);\n    if (sshPrivateKeyPasswordNeeded.length > 0) {\n      setImportingModel(false);\n    }\n  }, [sshPrivateKeyPasswordNeeded, setSSHTunnelPrivateKeyPasswordFields]);\n\n  // Functions\n  const hide = () => {\n    setIsHidden(true);\n    onHide();\n    clearModal();\n  };\n\n  const onUpload = () => {\n    if (!(fileList[0]?.originFileObj instanceof File)) {\n      return;\n    }\n\n    setImportingModel(true);\n    importResource(\n      fileList[0].originFileObj,\n      passwords,\n      sshTunnelPasswords,\n      sshTunnelPrivateKeys,\n      sshTunnelPrivateKeyPasswords,\n      confirmedOverwrite,\n    ).then(result => {\n      if (result) {\n        clearModal();\n        onModelImport();\n      }\n    });\n  };\n\n  const changeFile = (info: UploadChangeParam) => {\n    setFileList([\n      {\n        ...info.file,\n        status: 'done',\n      },\n    ]);\n  };\n\n  const removeFile = (removedFile: UploadFile) => {\n    setFileList(fileList.filter(file => file.uid !== removedFile.uid));\n    return false;\n  };\n\n  const confirmOverwrite = (event: React.ChangeEvent<HTMLInputElement>) => {\n    const targetValue = (event.currentTarget?.value as string) ?? '';\n    setConfirmedOverwrite(targetValue.toUpperCase() === t('OVERWRITE'));\n  };\n\n  const renderPasswordFields = () => {\n    if (\n      passwordFields.length === 0 &&\n      sshTunnelPasswordFields.length === 0 &&\n      sshTunnelPrivateKeyFields.length === 0 &&\n      sshTunnelPrivateKeyPasswordFields.length === 0\n    ) {\n      return null;\n    }\n\n    const files = [\n      ...new Set([\n        ...passwordFields,\n        ...sshTunnelPasswordFields,\n        ...sshTunnelPrivateKeyFields,\n        ...sshTunnelPrivateKeyPasswordFields,\n      ]),\n    ];\n\n    return (\n      <>\n        <h5>{t('Database passwords')}</h5>\n        <HelperMessage>{passwordsNeededMessage}</HelperMessage>\n        {files.map(fileName => (\n          <>\n            {passwordFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer key={`password-for-${fileName}`}>\n                <div className=\"control-label\">\n                  {t('%s PASSWORD', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <input\n                  name={`password-${fileName}`}\n                  autoComplete={`password-${fileName}`}\n                  type=\"password\"\n                  value={passwords[fileName]}\n                  onChange={event =>\n                    setPasswords({\n                      ...passwords,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                />\n              </StyledInputContainer>\n            )}\n            {sshTunnelPasswordFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer key={`ssh_tunnel_password-for-${fileName}`}>\n                <div className=\"control-label\">\n                  {t('%s SSH TUNNEL PASSWORD', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <input\n                  name={`ssh_tunnel_password-${fileName}`}\n                  autoComplete={`ssh_tunnel_password-${fileName}`}\n                  type=\"password\"\n                  value={sshTunnelPasswords[fileName]}\n                  onChange={event =>\n                    setSSHTunnelPasswords({\n                      ...sshTunnelPasswords,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                  data-test=\"ssh_tunnel_password\"\n                />\n              </StyledInputContainer>\n            )}\n            {sshTunnelPrivateKeyFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer\n                key={`ssh_tunnel_private_key-for-${fileName}`}\n              >\n                <div className=\"control-label\">\n                  {t('%s SSH TUNNEL PRIVATE KEY', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <textarea\n                  name={`ssh_tunnel_private_key-${fileName}`}\n                  autoComplete={`ssh_tunnel_private_key-${fileName}`}\n                  value={sshTunnelPrivateKeys[fileName]}\n                  onChange={event =>\n                    setSSHTunnelPrivateKeys({\n                      ...sshTunnelPrivateKeys,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                  data-test=\"ssh_tunnel_private_key\"\n                />\n              </StyledInputContainer>\n            )}\n            {sshTunnelPrivateKeyPasswordFields?.indexOf(fileName) >= 0 && (\n              <StyledInputContainer\n                key={`ssh_tunnel_private_key_password-for-${fileName}`}\n              >\n                <div className=\"control-label\">\n                  {t('%s SSH TUNNEL PRIVATE KEY PASSWORD', fileName.slice(10))}\n                  <span className=\"required\">*</span>\n                </div>\n                <input\n                  name={`ssh_tunnel_private_key_password-${fileName}`}\n                  autoComplete={`ssh_tunnel_private_key_password-${fileName}`}\n                  type=\"password\"\n                  value={sshTunnelPrivateKeyPasswords[fileName]}\n                  onChange={event =>\n                    setSSHTunnelPrivateKeyPasswords({\n                      ...sshTunnelPrivateKeyPasswords,\n                      [fileName]: event.target.value,\n                    })\n                  }\n                  data-test=\"ssh_tunnel_private_key_password\"\n                />\n              </StyledInputContainer>\n            )}\n          </>\n        ))}\n      </>\n    );\n  };\n\n  const renderOverwriteConfirmation = () => {\n    if (!needsOverwriteConfirm) {\n      return null;\n    }\n\n    return (\n      <>\n        <StyledInputContainer>\n          <div className=\"confirm-overwrite\">{confirmOverwriteMessage}</div>\n          <div className=\"control-label\">\n            {t('Type \"%s\" to confirm', t('OVERWRITE'))}\n          </div>\n          <input\n            data-test=\"overwrite-modal-input\"\n            id=\"overwrite\"\n            type=\"text\"\n            onChange={confirmOverwrite}\n          />\n        </StyledInputContainer>\n      </>\n    );\n  };\n\n  // Show/hide\n  if (isHidden && show) {\n    setIsHidden(false);\n  }\n\n  return (\n    <Modal\n      name=\"model\"\n      className=\"import-model-modal\"\n      disablePrimaryButton={\n        fileList.length === 0 ||\n        (needsOverwriteConfirm && !confirmedOverwrite) ||\n        importingModel\n      }\n      onHandledPrimaryAction={onUpload}\n      onHide={hide}\n      primaryButtonName={needsOverwriteConfirm ? t('Overwrite') : t('Import')}\n      primaryButtonType={needsOverwriteConfirm ? 'danger' : 'primary'}\n      width=\"750px\"\n      show={show}\n      title={<h4>{t('Import %s', resourceLabel)}</h4>}\n    >\n      <StyledInputContainer>\n        <Upload\n          name=\"modelFile\"\n          id=\"modelFile\"\n          data-test=\"model-file-input\"\n          accept=\".yaml,.json,.yml,.zip\"\n          fileList={fileList}\n          onChange={changeFile}\n          onRemove={removeFile}\n          // upload is handled by hook\n          customRequest={() => {}}\n          disabled={importingModel}\n        >\n          <Button loading={importingModel}>{t('Select file')}</Button>\n        </Upload>\n      </StyledInputContainer>\n      {errorMessage && (\n        <ErrorAlert\n          errorMessage={errorMessage}\n          showDbInstallInstructions={\n            passwordFields.length > 0 ||\n            sshTunnelPasswordFields.length > 0 ||\n            sshTunnelPrivateKeyFields.length > 0 ||\n            sshTunnelPrivateKeyPasswordFields.length > 0\n          }\n        />\n      )}\n      {renderPasswordFields()}\n      {renderOverwriteConfirmation()}\n    </Modal>\n  );\n};\n\nexport default ImportModelsModal;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}