{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { forwardRef } from 'react';\nimport { css } from '@superset-ui/core';\nimport RowCountLabel from 'src/explore/components/RowCountLabel';\nimport CachedLabel from 'src/components/CachedLabel';\nimport Timer from 'src/components/Timer';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst CHART_STATUS_MAP = {\n  failed: 'danger',\n  loading: 'warning',\n  success: 'success'\n};\nexport const ChartPills = /*#__PURE__*/forwardRef(({ queriesResponse, chartStatus, chartUpdateStartTime, chartUpdateEndTime, refreshCachedQuery, rowLimit }, ref) => {\n  const isLoading = chartStatus === 'loading';\n  const firstQueryResponse = queriesResponse == null ? void 0 : queriesResponse[0];\n  return ___EmotionJSX(\"div\", { ref: ref },\n  ___EmotionJSX(\"div\", { css: (theme) => css`\n            display: flex;\n            justify-content: flex-end;\n            padding-bottom: ${theme.gridUnit * 4}px;\n            & .ant-tag:last-of-type {\n              margin: 0;\n            }\n          ` },\n  !isLoading && firstQueryResponse && ___EmotionJSX(RowCountLabel, { rowcount: Number(firstQueryResponse.sql_rowcount) || 0, limit: Number(rowLimit) || 0 }),\n  !isLoading && (firstQueryResponse == null ? void 0 : firstQueryResponse.is_cached) && ___EmotionJSX(CachedLabel, { onClick: refreshCachedQuery, cachedTimestamp: firstQueryResponse.cached_dttm }),\n  ___EmotionJSX(Timer, { startTime: chartUpdateStartTime, endTime: chartUpdateEndTime, isRunning: isLoading, status: CHART_STATUS_MAP[chartStatus] })\n  )\n  );\n});;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(CHART_STATUS_MAP, \"CHART_STATUS_MAP\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/ChartPills.tsx\");reactHotLoader.register(ChartPills, \"ChartPills\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/ChartPills.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","forwardRef","css","RowCountLabel","CachedLabel","Timer","jsx","___EmotionJSX","CHART_STATUS_MAP","failed","loading","success","ChartPills","queriesResponse","chartStatus","chartUpdateStartTime","chartUpdateEndTime","refreshCachedQuery","rowLimit","ref","isLoading","firstQueryResponse","theme","gridUnit","rowcount","Number","sql_rowcount","limit","is_cached","onClick","cachedTimestamp","cached_dttm","startTime","endTime","isRunning","status","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/ChartPills.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { forwardRef, RefObject } from 'react';\nimport { css, QueryData, SupersetTheme } from '@superset-ui/core';\nimport RowCountLabel from 'src/explore/components/RowCountLabel';\nimport CachedLabel from 'src/components/CachedLabel';\nimport Timer from 'src/components/Timer';\nimport { Type } from 'src/components/Label';\n\nconst CHART_STATUS_MAP = {\n  failed: 'danger' as Type,\n  loading: 'warning' as Type,\n  success: 'success' as Type,\n};\n\nexport type ChartPillsProps = {\n  queriesResponse: QueryData[];\n  chartStatus: keyof typeof CHART_STATUS_MAP;\n  chartUpdateStartTime: number;\n  chartUpdateEndTime: number;\n  refreshCachedQuery: () => void;\n  rowLimit: string | number;\n};\n\nexport const ChartPills = forwardRef(\n  (\n    {\n      queriesResponse,\n      chartStatus,\n      chartUpdateStartTime,\n      chartUpdateEndTime,\n      refreshCachedQuery,\n      rowLimit,\n    }: ChartPillsProps,\n    ref: RefObject<HTMLDivElement>,\n  ) => {\n    const isLoading = chartStatus === 'loading';\n    const firstQueryResponse = queriesResponse?.[0];\n    return (\n      <div ref={ref}>\n        <div\n          css={(theme: SupersetTheme) => css`\n            display: flex;\n            justify-content: flex-end;\n            padding-bottom: ${theme.gridUnit * 4}px;\n            & .ant-tag:last-of-type {\n              margin: 0;\n            }\n          `}\n        >\n          {!isLoading && firstQueryResponse && (\n            <RowCountLabel\n              rowcount={Number(firstQueryResponse.sql_rowcount) || 0}\n              limit={Number(rowLimit) || 0}\n            />\n          )}\n          {!isLoading && firstQueryResponse?.is_cached && (\n            <CachedLabel\n              onClick={refreshCachedQuery}\n              cachedTimestamp={firstQueryResponse.cached_dttm}\n            />\n          )}\n          <Timer\n            startTime={chartUpdateStartTime}\n            endTime={chartUpdateEndTime}\n            isRunning={isLoading}\n            status={CHART_STATUS_MAP[chartStatus]}\n          />\n        </div>\n      </div>\n    );\n  },\n);\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,IAAIC,UAAU,QAAmB,OAAO;AACpD,SAASC,GAAG,QAAkC,mBAAmB;AACjE,OAAOC,aAAa,MAAM,sCAAsC;AAChE,OAAOC,WAAW,MAAM,4BAA4B;AACpD,OAAOC,KAAK,MAAM,sBAAsB,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAGzC,MAAMC,gBAAgB,GAAG;EACvBC,MAAM,EAAE,QAAgB;EACxBC,OAAO,EAAE,SAAiB;EAC1BC,OAAO,EAAE;CACV;AAWD,OAAO,MAAMC,UAAU,gBAAGX,UAAU,CAClC,CACE,EACEY,eAAe,EACfC,WAAW,EACXC,oBAAoB,EACpBC,kBAAkB,EAClBC,kBAAkB,EAClBC,QAAQ,EACQ,EAClBC,GAA8B,KAC5B;EACF,MAAMC,SAAS,GAAGN,WAAW,KAAK,SAAS;EAC3C,MAAMO,kBAAkB,GAAGR,eAAe,oBAAfA,eAAe,CAAG,CAAC,CAAC;EAC/C,OACEN,aAAA,UAAKY,GAAG,EAAEA,GAAI;EACZZ,aAAA,UACEL,GAAG,EAAEA,CAACoB,KAAoB,KAAKpB,GAAG;;;8BAGdoB,KAAK,CAACC,QAAQ,GAAG,CAAC;;;;WAIpC;EAED,CAACH,SAAS,IAAIC,kBAAkB,IAC/Bd,aAAA,CAACJ,aAAa,IACZqB,QAAQ,EAAEC,MAAM,CAACJ,kBAAkB,CAACK,YAAY,CAAC,IAAI,CAAE,EACvDC,KAAK,EAAEF,MAAM,CAACP,QAAQ,CAAC,IAAI,CAAE,GAEhC;EACA,CAACE,SAAS,KAAIC,kBAAkB,oBAAlBA,kBAAkB,CAAEO,SAAS,KAC1CrB,aAAA,CAACH,WAAW,IACVyB,OAAO,EAAEZ,kBAAmB,EAC5Ba,eAAe,EAAET,kBAAkB,CAACU,WAAY,GAEnD;EACDxB,aAAA,CAACF,KAAK,IACJ2B,SAAS,EAAEjB,oBAAqB,EAChCkB,OAAO,EAAEjB,kBAAmB,EAC5BkB,SAAS,EAAEd,SAAU,EACrBe,MAAM,EAAE3B,gBAAgB,CAACM,WAAW,CAAE;EAErC;EACF,CAAC;AAEV,CAAC,CACF,CAAC,mBAAAsB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA/DIhC,gBAAgB,sHAAA4B,cAAA,CAAAI,QAAA,CAeT5B,UAAU,wIAAA6B,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}