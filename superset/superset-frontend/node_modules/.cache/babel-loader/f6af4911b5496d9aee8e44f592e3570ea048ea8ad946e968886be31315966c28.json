{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport AdhocFilterEditPopover from 'src/explore/components/controls/FilterControl/AdhocFilterEditPopover';\nimport { ExplorePopoverContent } from 'src/explore/components/ExploreContentPopover';\nimport ControlPopover from '../../ControlPopover/ControlPopover';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nclass AdhocFilterPopoverTrigger extends React.PureComponent {\n  constructor(props) {\n    super(props);\n    this.onPopoverResize = this.onPopoverResize.bind(this);\n    this.closePopover = this.closePopover.bind(this);\n    this.togglePopover = this.togglePopover.bind(this);\n    this.state = {\n      popoverVisible: false\n    };\n  }\n  onPopoverResize() {\n    this.forceUpdate();\n  }\n  closePopover() {\n    this.togglePopover(false);\n  }\n  togglePopover(visible) {\n    this.setState({\n      popoverVisible: visible\n    });\n  }\n  render() {\n    const { adhocFilter, isControlledComponent } = this.props;\n    const { visible, togglePopover, closePopover } = isControlledComponent ?\n    {\n      visible: this.props.visible,\n      togglePopover: this.props.togglePopover,\n      closePopover: this.props.closePopover\n    } :\n    {\n      visible: this.state.popoverVisible,\n      togglePopover: this.togglePopover,\n      closePopover: this.closePopover\n    };\n    const overlayContent = ___EmotionJSX(ExplorePopoverContent, null,\n    ___EmotionJSX(AdhocFilterEditPopover, { adhocFilter: adhocFilter, options: this.props.options, datasource: this.props.datasource, partitionColumn: this.props.partitionColumn, onResize: this.onPopoverResize, onClose: closePopover, sections: this.props.sections, operators: this.props.operators, onChange: this.props.onFilterEdit, requireSave: this.props.requireSave })\n    );\n    return ___EmotionJSX(ControlPopover, { trigger: \"click\", content: overlayContent, defaultVisible: visible, visible: visible, onVisibleChange: togglePopover, destroyTooltipOnHide: true },\n    this.props.children\n    );\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}const _default = AdhocFilterPopoverTrigger;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(AdhocFilterPopoverTrigger, \"AdhocFilterPopoverTrigger\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/FilterControl/AdhocFilterPopoverTrigger/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/FilterControl/AdhocFilterPopoverTrigger/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","AdhocFilterEditPopover","ExplorePopoverContent","ControlPopover","jsx","___EmotionJSX","AdhocFilterPopoverTrigger","PureComponent","constructor","props","onPopoverResize","bind","closePopover","togglePopover","state","popoverVisible","forceUpdate","visible","setState","render","adhocFilter","isControlledComponent","overlayContent","options","datasource","partitionColumn","onResize","onClose","sections","operators","onChange","onFilterEdit","requireSave","trigger","content","defaultVisible","onVisibleChange","destroyTooltipOnHide","children","__reactstandin__regenerateByEval","key","code","eval","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/FilterControl/AdhocFilterPopoverTrigger/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React from 'react';\nimport { OptionSortType } from 'src/explore/types';\nimport AdhocFilterEditPopover from 'src/explore/components/controls/FilterControl/AdhocFilterEditPopover';\nimport AdhocFilter from 'src/explore/components/controls/FilterControl/AdhocFilter';\nimport { ExplorePopoverContent } from 'src/explore/components/ExploreContentPopover';\nimport { Operators } from 'src/explore/constants';\nimport ControlPopover from '../../ControlPopover/ControlPopover';\n\ninterface AdhocFilterPopoverTriggerProps {\n  sections?: string[];\n  operators?: Operators[];\n  adhocFilter: AdhocFilter;\n  options: OptionSortType[];\n  datasource: Record<string, any>;\n  onFilterEdit: (editedFilter: AdhocFilter) => void;\n  partitionColumn?: string;\n  isControlledComponent?: boolean;\n  visible?: boolean;\n  togglePopover?: (visible: boolean) => void;\n  closePopover?: () => void;\n  requireSave?: boolean;\n}\n\ninterface AdhocFilterPopoverTriggerState {\n  popoverVisible: boolean;\n}\n\nclass AdhocFilterPopoverTrigger extends React.PureComponent<\n  AdhocFilterPopoverTriggerProps,\n  AdhocFilterPopoverTriggerState\n> {\n  constructor(props: AdhocFilterPopoverTriggerProps) {\n    super(props);\n    this.onPopoverResize = this.onPopoverResize.bind(this);\n    this.closePopover = this.closePopover.bind(this);\n    this.togglePopover = this.togglePopover.bind(this);\n    this.state = {\n      popoverVisible: false,\n    };\n  }\n\n  onPopoverResize() {\n    this.forceUpdate();\n  }\n\n  closePopover() {\n    this.togglePopover(false);\n  }\n\n  togglePopover(visible: boolean) {\n    this.setState({\n      popoverVisible: visible,\n    });\n  }\n\n  render() {\n    const { adhocFilter, isControlledComponent } = this.props;\n\n    const { visible, togglePopover, closePopover } = isControlledComponent\n      ? {\n          visible: this.props.visible,\n          togglePopover: this.props.togglePopover,\n          closePopover: this.props.closePopover,\n        }\n      : {\n          visible: this.state.popoverVisible,\n          togglePopover: this.togglePopover,\n          closePopover: this.closePopover,\n        };\n    const overlayContent = (\n      <ExplorePopoverContent>\n        <AdhocFilterEditPopover\n          adhocFilter={adhocFilter}\n          options={this.props.options}\n          datasource={this.props.datasource}\n          partitionColumn={this.props.partitionColumn}\n          onResize={this.onPopoverResize}\n          onClose={closePopover}\n          sections={this.props.sections}\n          operators={this.props.operators}\n          onChange={this.props.onFilterEdit}\n          requireSave={this.props.requireSave}\n        />\n      </ExplorePopoverContent>\n    );\n\n    return (\n      <ControlPopover\n        trigger=\"click\"\n        content={overlayContent}\n        defaultVisible={visible}\n        visible={visible}\n        onVisibleChange={togglePopover}\n        destroyTooltipOnHide\n      >\n        {this.props.children}\n      </ControlPopover>\n    );\n  }\n}\n\nexport default AdhocFilterPopoverTrigger;\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,OAAOA,KAAK,MAAM,OAAO;AAEzB,OAAOC,sBAAsB,MAAM,sEAAsE;AAEzG,SAASC,qBAAqB,QAAQ,8CAA8C;AAEpF,OAAOC,cAAc,MAAM,qCAAqC,CAAC,SAAAC,GAAA,IAAAC,aAAA;AAqBjE,MAAMC,yBAA0B,SAAQN,KAAK,CAACO,aAG7C;EACCC,YAAYC,KAAqC;IAC/C,KAAK,CAACA,KAAK,CAAC;IACZ,IAAI,CAACC,eAAe,GAAG,IAAI,CAACA,eAAe,CAACC,IAAI,CAAC,IAAI,CAAC;IACtD,IAAI,CAACC,YAAY,GAAG,IAAI,CAACA,YAAY,CAACD,IAAI,CAAC,IAAI,CAAC;IAChD,IAAI,CAACE,aAAa,GAAG,IAAI,CAACA,aAAa,CAACF,IAAI,CAAC,IAAI,CAAC;IAClD,IAAI,CAACG,KAAK,GAAG;MACXC,cAAc,EAAE;KACjB;EACH;EAEAL,eAAeA,CAAA;IACb,IAAI,CAACM,WAAW,EAAE;EACpB;EAEAJ,YAAYA,CAAA;IACV,IAAI,CAACC,aAAa,CAAC,KAAK,CAAC;EAC3B;EAEAA,aAAaA,CAACI,OAAgB;IAC5B,IAAI,CAACC,QAAQ,CAAC;MACZH,cAAc,EAAEE;KACjB,CAAC;EACJ;EAEAE,MAAMA,CAAA;IACJ,MAAM,EAAEC,WAAW,EAAEC,qBAAqB,EAAE,GAAG,IAAI,CAACZ,KAAK;IAEzD,MAAM,EAAEQ,OAAO,EAAEJ,aAAa,EAAED,YAAY,EAAE,GAAGS,qBAAqB;IAClE;MACEJ,OAAO,EAAE,IAAI,CAACR,KAAK,CAACQ,OAAO;MAC3BJ,aAAa,EAAE,IAAI,CAACJ,KAAK,CAACI,aAAa;MACvCD,YAAY,EAAE,IAAI,CAACH,KAAK,CAACG;KAC1B;IACD;MACEK,OAAO,EAAE,IAAI,CAACH,KAAK,CAACC,cAAc;MAClCF,aAAa,EAAE,IAAI,CAACA,aAAa;MACjCD,YAAY,EAAE,IAAI,CAACA;KACpB;IACL,MAAMU,cAAc,GAClBjB,aAAA,CAACH,qBAAqB;IACpBG,aAAA,CAACJ,sBAAsB,IACrBmB,WAAW,EAAEA,WAAY,EACzBG,OAAO,EAAE,IAAI,CAACd,KAAK,CAACc,OAAQ,EAC5BC,UAAU,EAAE,IAAI,CAACf,KAAK,CAACe,UAAW,EAClCC,eAAe,EAAE,IAAI,CAAChB,KAAK,CAACgB,eAAgB,EAC5CC,QAAQ,EAAE,IAAI,CAAChB,eAAgB,EAC/BiB,OAAO,EAAEf,YAAa,EACtBgB,QAAQ,EAAE,IAAI,CAACnB,KAAK,CAACmB,QAAS,EAC9BC,SAAS,EAAE,IAAI,CAACpB,KAAK,CAACoB,SAAU,EAChCC,QAAQ,EAAE,IAAI,CAACrB,KAAK,CAACsB,YAAa,EAClCC,WAAW,EAAE,IAAI,CAACvB,KAAK,CAACuB,WAAY;IAEjB,CACxB;IAED,OACE3B,aAAA,CAACF,cAAc,IACb8B,OAAO,EAAC,OAAO,EACfC,OAAO,EAAEZ,cAAe,EACxBa,cAAc,EAAElB,OAAQ,EACxBA,OAAO,EAAEA,OAAQ,EACjBmB,eAAe,EAAEvB,aAAc,EAC/BwB,oBAAoB;IAEnB,IAAI,CAAC5B,KAAK,CAAC6B;IACE,CAAC;EAErB,CAAC;EAAAC,iCAAAC,GAAA,EAAAC,IAAA;IAAA,KAAAD,GAAA,IAAAE,IAAA,CAAAD,IAAA,G,CACF,MAAAE,QAAA,GAEcrC,yBAAyB,CAAxC,eAAAqC,QAAA,CAAyC,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CA1EnC1C,yBAA0B,2KAAAsC,cAAA,CAAAI,QAAA,CAAAL,QAAA,iLAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}