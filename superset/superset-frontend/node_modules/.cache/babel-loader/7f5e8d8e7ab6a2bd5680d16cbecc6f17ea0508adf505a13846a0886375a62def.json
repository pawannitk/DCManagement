{"ast":null,"code":"import _extends from \"@babel/runtime-corejs3/helpers/extends\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport Fuse from 'fuse.js';\nimport cx from 'classnames';\nimport { t, styled, css, useTheme, chartLabelWeight, chartLabelExplanations } from '@superset-ui/core';\nimport { AntdCollapse } from 'src/components';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { Input } from 'src/components/Input';\nimport Label from 'src/components/Label';\nimport { usePluginContext } from 'src/components/DynamicPlugins';\nimport Icons from 'src/components/Icons';\nimport { nativeFilterGate } from 'src/dashboard/components/nativeFilters/utils';\nimport scrollIntoView from 'scroll-into-view-if-needed';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nvar Sections;\n(function (Sections) {\n  Sections[\"AllCharts\"] = \"ALL_CHARTS\";\n  Sections[\"Featured\"] = \"FEATURED\";\n  Sections[\"Category\"] = \"CATEGORY\";\n  Sections[\"Tags\"] = \"TAGS\";\n})(Sections || (Sections = {}));\nconst DEFAULT_ORDER = [\n'line',\n'big_number',\n'big_number_total',\n'table',\n'pivot_table_v2',\n'echarts_timeseries_line',\n'echarts_area',\n'echarts_timeseries_bar',\n'echarts_timeseries_scatter',\n'pie',\n'mixed_timeseries',\n'dist_bar',\n'area',\n'bar',\n'deck_polygon',\n'time_table',\n'histogram',\n'deck_scatter',\n'deck_hex',\n'time_pivot',\n'deck_arc',\n'heatmap',\n'heatmap_v2',\n'deck_grid',\n'deck_screengrid',\n'treemap_v2',\n'box_plot',\n'sankey',\n'word_cloud',\n'mapbox',\n'kepler',\n'cal_heatmap',\n'rose',\n'bubble',\n'bubble_v2',\n'deck_geojson',\n'horizon',\n'deck_multi',\n'compare',\n'partition',\n'event_flow',\n'deck_path',\n'graph_chart',\n'world_map',\n'paired_ttest',\n'para',\n'country_map'];\n\nconst typesWithDefaultOrder = new Set(DEFAULT_ORDER);\nconst THUMBNAIL_GRID_UNITS = 24;\nexport const MAX_ADVISABLE_VIZ_GALLERY_WIDTH = 1090;\nconst OTHER_CATEGORY = t('Other');\nconst ALL_CHARTS = t('All charts');\nconst FEATURED = t('Featured');\nconst RECOMMENDED_TAGS = [t('Popular'), t('ECharts'), t('Advanced-Analytics')];\nexport const VIZ_TYPE_CONTROL_TEST_ID = 'viz-type-control';\nconst VizPickerLayout = styled.div`\n  ${({ isSelectedVizMetadata }) => `\n    display: grid;\n    grid-template-rows: ${isSelectedVizMetadata ?\n`auto minmax(100px, 1fr) minmax(200px, 35%)` :\n'auto minmax(100px, 1fr)'};\n    // em is used here because the sidebar should be sized to fit the longest standard tag\n    grid-template-columns: minmax(14em, auto) 5fr;\n    grid-template-areas:\n      'sidebar search'\n      'sidebar main'\n      'details details';\n    height: 70vh;\n    overflow: auto;\n  `}\n`;\nconst SectionTitle = styled.h3`\n  margin-top: 0;\n  margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  font-size: ${({ theme }) => theme.typography.sizes.l}px;\n  font-weight: ${({ theme }) => theme.typography.weights.bold};\n  line-height: ${({ theme }) => theme.gridUnit * 6}px;\n`;\nconst LeftPane = styled.div`\n  grid-area: sidebar;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  overflow: auto;\n\n  .ant-collapse .ant-collapse-item {\n    .ant-collapse-header {\n      font-size: ${({ theme }) => theme.typography.sizes.s}px;\n      color: ${({ theme }) => theme.colors.grayscale.base};\n      padding-left: ${({ theme }) => theme.gridUnit * 2}px;\n      padding-bottom: ${({ theme }) => theme.gridUnit}px;\n    }\n    .ant-collapse-content .ant-collapse-content-box {\n      display: flex;\n      flex-direction: column;\n      padding: 0 ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n`;\nconst RightPane = styled.div`\n  grid-area: main;\n  overflow-y: auto;\n`;\nconst SearchWrapper = styled.div`\n  ${({ theme }) => `\n    grid-area: search;\n    margin-top: ${theme.gridUnit * 3}px;\n    margin-bottom: ${theme.gridUnit}px;\n    margin-left: ${theme.gridUnit * 3}px;\n    margin-right: ${theme.gridUnit * 3}px;\n    .ant-input-affix-wrapper {\n      padding-left: ${theme.gridUnit * 2}px;\n    }\n  `}\n`;\n/** Styles to line up prefix/suffix icons in the search input */\nconst InputIconAlignment = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n`;\nconst SelectorLabel = styled.button`\n  ${({ theme }) => `\n    all: unset; // remove default button styles\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    cursor: pointer;\n    margin: ${theme.gridUnit}px 0;\n    padding: 0 ${theme.gridUnit}px;\n    border-radius: ${theme.borderRadius}px;\n    line-height: 2em;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    position: relative;\n\n    &:focus {\n      outline: initial;\n    }\n\n    &.selected {\n      background-color: ${theme.colors.primary.base};\n      color: ${theme.colors.primary.light5};\n\n      svg {\n        color: ${theme.colors.primary.light5};\n      }\n\n      &:hover {\n        .cancel {\n          visibility: visible;\n        }\n      }\n    }\n\n    & > span[role=\"img\"] {\n      margin-right: ${theme.gridUnit * 2}px;\n    }\n\n    .cancel {\n      visibility: hidden;\n    }\n  `}\n`;\nconst IconsPane = styled.div`\n  overflow: auto;\n  display: grid;\n  grid-template-columns: repeat(\n    auto-fill,\n    ${({ theme }) => theme.gridUnit * THUMBNAIL_GRID_UNITS}px\n  );\n  grid-auto-rows: max-content;\n  justify-content: space-evenly;\n  grid-gap: ${({ theme }) => theme.gridUnit * 2}px;\n  justify-items: center;\n  // for some reason this padding doesn't seem to apply at the bottom of the container. Why is a mystery.\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nconst DetailsPane = (theme) => css`\n  grid-area: details;\n  border-top: 1px solid ${theme.colors.grayscale.light2};\n`;\nconst DetailsPopulated = (theme) => css`\n  padding: ${theme.gridUnit * 4}px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto auto 1fr;\n  grid-template-areas:\n    'viz-name examples-header'\n    'viz-tags examples'\n    'description examples';\n`;\n// overflow hidden on the details pane and overflow auto on the description\n// (plus grid layout) enables the description to scroll while the header stays in place.\nconst TagsWrapper = styled.div`\n  grid-area: viz-tags;\n  width: ${({ theme }) => theme.gridUnit * 120}px;\n  padding-right: ${({ theme }) => theme.gridUnit * 14}px;\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nconst Description = styled.p`\n  grid-area: description;\n  overflow: auto;\n  padding-right: ${({ theme }) => theme.gridUnit * 14}px;\n  margin: 0;\n`;\nconst Examples = styled.div`\n  grid-area: examples;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  overflow: auto;\n  gap: ${({ theme }) => theme.gridUnit * 4}px;\n\n  img {\n    height: 100%;\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  }\n`;\nconst thumbnailContainerCss = (theme) => css`\n  cursor: pointer;\n  width: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n  position: relative;\n\n  img {\n    min-width: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n    min-height: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n    border: 1px solid ${theme.colors.grayscale.light2};\n    border-radius: ${theme.gridUnit}px;\n    transition: border-color ${theme.transitionTiming};\n  }\n\n  &.selected img {\n    border: 2px solid ${theme.colors.primary.light2};\n  }\n\n  &:hover:not(.selected) img {\n    border: 1px solid ${theme.colors.grayscale.light1};\n  }\n\n  .viztype-label {\n    margin-top: ${theme.gridUnit * 2}px;\n    text-align: center;\n  }\n`;\nconst HighlightLabel = styled.div`\n  ${({ theme }) => `\n    border: 1px solid ${theme.colors.primary.dark1};\n    box-sizing: border-box;\n    border-radius: ${theme.gridUnit}px;\n    background: ${theme.colors.grayscale.light5};\n    line-height: ${theme.gridUnit * 2.5}px;\n    color: ${theme.colors.primary.dark1};\n    font-size: ${theme.typography.sizes.s}px;\n    font-weight: ${theme.typography.weights.bold};\n    text-align: center;\n    padding: ${theme.gridUnit * 0.5}px ${theme.gridUnit}px;\n    text-transform: uppercase;\n    cursor: pointer;\n\n    div {\n      transform: scale(0.83,0.83);\n    }\n  `}\n`;\nconst ThumbnailLabelWrapper = styled.div`\n  position: absolute;\n  right: ${({ theme }) => theme.gridUnit}px;\n  top: ${({ theme }) => theme.gridUnit * 19}px;\n`;\nconst TitleLabelWrapper = styled.div`\n  display: inline-block !important;\n  margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n`;\nfunction vizSortFactor(entry) {\n  if (typesWithDefaultOrder.has(entry.key)) {\n    return DEFAULT_ORDER.indexOf(entry.key);\n  }\n  return DEFAULT_ORDER.length;\n}\nconst Thumbnail = ({ entry, selectedViz, setSelectedViz, onDoubleClick }) => {\n  const theme = useTheme();\n  const { key, value: type } = entry;\n  const isSelected = selectedViz === entry.key;\n  return ___EmotionJSX(\"div\", { role: \"button\"\n    // using css instead of a styled component to preserve\n    // the data-test attribute\n    , css: thumbnailContainerCss(theme), tabIndex: 0, className: isSelected ? 'selected' : '', onClick: () => setSelectedViz(key), onDoubleClick: onDoubleClick, \"data-test\": \"viztype-selector-container\" },\n  ___EmotionJSX(\"img\", { alt: type.name, width: \"100%\", className: `viztype-selector ${isSelected ? 'selected' : ''}`, src: type.thumbnail }),\n  ___EmotionJSX(\"div\", { className: \"viztype-label\", \"data-test\": `${VIZ_TYPE_CONTROL_TEST_ID}__viztype-label` },\n  type.name\n  ),\n  type.label && ___EmotionJSX(ThumbnailLabelWrapper, null,\n  ___EmotionJSX(HighlightLabel, null,\n  ___EmotionJSX(\"div\", null, t(type.label))\n  )\n  )\n  );\n};\n/** A list of viz thumbnails, used within the viz picker modal */__signature__(Thumbnail, \"useTheme{theme}\", () => [useTheme]);\nconst ThumbnailGallery = ({ vizEntries, ...props }) => ___EmotionJSX(IconsPane, { \"data-test\": `${VIZ_TYPE_CONTROL_TEST_ID}__viz-row` },\nvizEntries.map((entry) => ___EmotionJSX(Thumbnail, _extends({ key: entry.key }, props, { entry: entry })))\n);\nconst Selector = ({ selector, sectionId, icon, isSelected, onClick, className }) => {\n  const btnRef = useRef(null);\n  // see Element.scrollIntoViewIfNeeded()\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoViewIfNeeded\n  useEffect(() => {\n    if (isSelected) {\n      // We need to wait for the modal to open and then scroll, so we put it in the microtask queue\n      queueMicrotask(() => scrollIntoView(btnRef.current, {\n        behavior: 'smooth',\n        scrollMode: 'if-needed'\n      }));\n    }\n  }, []);\n  return ___EmotionJSX(SelectorLabel, { ref: btnRef, key: selector, name: selector, className: cx(className, isSelected && 'selected'), onClick: () => onClick(selector, sectionId) },\n  icon,\n  selector\n  );\n};__signature__(Selector, \"useRef{btnRef}\\nuseEffect{}\");\nconst doesVizMatchSelector = (viz, selector) => selector === viz.category ||\nselector === OTHER_CATEGORY && viz.category == null ||\n(viz.tags || []).indexOf(selector) > -1;\nexport default function VizTypeGallery(props) {var _selectedVizMetadata$, _selectedVizMetadata$2;\n  const { selectedViz, onChange, onDoubleClick, className } = props;\n  const { mountedPluginMetadata } = usePluginContext();\n  const searchInputRef = useRef();\n  const [searchInputValue, setSearchInputValue] = useState('');\n  const [isSearchFocused, setIsSearchFocused] = useState(true);\n  const isActivelySearching = isSearchFocused && !!searchInputValue;\n  const selectedVizMetadata = selectedViz ?\n  mountedPluginMetadata[selectedViz] :\n  null;\n  const chartMetadata = useMemo(() => {\n    const result = Object.entries(mountedPluginMetadata).\n    map(([key, value]) => ({ key, value })).\n    filter(({ key }) => !props.denyList.includes(key)).\n    filter(({ value }) => nativeFilterGate(value.behaviors || []) && !value.deprecated);\n    result.sort((a, b) => vizSortFactor(a) - vizSortFactor(b));\n    return result;\n  }, [mountedPluginMetadata]);\n  const chartsByCategory = useMemo(() => {\n    const result = {};\n    chartMetadata.forEach((entry) => {\n      const category = entry.value.category || OTHER_CATEGORY;\n      if (!result[category]) {\n        result[category] = [];\n      }\n      result[category].push(entry);\n    });\n    return result;\n  }, [chartMetadata]);\n  const categories = useMemo(() => Object.keys(chartsByCategory).sort((a, b) => {\n    // make sure Other goes at the end\n    if (a === OTHER_CATEGORY)\n    return 1;\n    if (b === OTHER_CATEGORY)\n    return -1;\n    // sort alphabetically\n    return a.localeCompare(b);\n  }), [chartsByCategory]);\n  const chartsByTags = useMemo(() => {\n    const result = {};\n    chartMetadata.forEach((entry) => {\n      const tags = entry.value.tags || [];\n      tags.forEach((tag) => {\n        if (!result[tag]) {\n          result[tag] = [];\n        }\n        result[tag].push(entry);\n      });\n    });\n    return result;\n  }, [chartMetadata]);\n  const tags = useMemo(() => Object.keys(chartsByTags).\n  sort((a, b) =>\n  // sort alphabetically\n  a.localeCompare(b)).\n  filter((tag) => RECOMMENDED_TAGS.indexOf(tag) === -1), [chartsByTags]);\n  const sortedMetadata = useMemo(() => chartMetadata.sort((a, b) => a.key.localeCompare(b.key)), [chartMetadata]);\n  const [activeSelector, setActiveSelector] = useState(() => (selectedVizMetadata == null ? void 0 : selectedVizMetadata.category) || FEATURED);\n  const [activeSection, setActiveSection] = useState(() => selectedVizMetadata != null && selectedVizMetadata.category ? Sections.Category : Sections.Featured);\n  // get a fuse instance for fuzzy search\n  const fuse = useMemo(() => new Fuse(chartMetadata, {\n    ignoreLocation: true,\n    threshold: 0.3,\n    keys: [\n    {\n      name: 'value.name',\n      weight: 4\n    },\n    {\n      name: 'value.tags',\n      weight: 2\n    },\n    'value.description']\n\n  }), [chartMetadata]);\n  const searchResults = useMemo(() => {\n    if (searchInputValue.trim() === '') {\n      return [];\n    }\n    return fuse.\n    search(searchInputValue).\n    map((result) => result.item).\n    sort((a, b) => {var _a$value, _b$value;\n      const aLabel = (_a$value = a.value) == null ? void 0 : _a$value.label;\n      const bLabel = (_b$value = b.value) == null ? void 0 : _b$value.label;\n      const aOrder = aLabel && chartLabelWeight[aLabel] ?\n      chartLabelWeight[aLabel].weight :\n      0;\n      const bOrder = bLabel && chartLabelWeight[bLabel] ?\n      chartLabelWeight[bLabel].weight :\n      0;\n      return bOrder - aOrder;\n    });\n  }, [searchInputValue, fuse]);\n  const focusSearch = useCallback(() => {\n    // \"start searching\" is actually a two-stage process.\n    // When you first click on the search bar, the input is focused and nothing else happens.\n    // Once you begin typing, the selected category is cleared and the displayed viz entries change.\n    setIsSearchFocused(true);\n  }, []);\n  const changeSearch = useCallback((event) => setSearchInputValue(event.target.value), []);\n  const stopSearching = useCallback(() => {\n    // stopping a search takes you back to the category you were looking at before.\n    // Unlike focusSearch, this is a simple one-step process.\n    setIsSearchFocused(false);\n    setSearchInputValue('');\n    searchInputRef.current.blur();\n  }, []);\n  const clickSelector = useCallback((selector, sectionId) => {\n    if (isSearchFocused) {\n      stopSearching();\n    }\n    setActiveSelector(selector);\n    setActiveSection(sectionId);\n    // clear the selected viz if it is not present in the new category or tags\n    const isSelectedVizCompatible = selectedVizMetadata &&\n    doesVizMatchSelector(selectedVizMetadata, selector);\n    if (selector !== activeSelector && !isSelectedVizCompatible) {\n      onChange(null);\n    }\n  }, [\n  stopSearching,\n  isSearchFocused,\n  activeSelector,\n  selectedVizMetadata,\n  onChange]\n  );\n  const sectionMap = useMemo(() => ({\n    [Sections.Category]: {\n      title: t('Category'),\n      icon: ___EmotionJSX(Icons.Category, { iconSize: \"m\" }),\n      selectors: categories\n    },\n    [Sections.Tags]: {\n      title: t('Tags'),\n      icon: ___EmotionJSX(Icons.Tags, { iconSize: \"m\" }),\n      selectors: tags\n    }\n  }), [categories, tags]);\n  const getVizEntriesToDisplay = () => {\n    if (isActivelySearching) {\n      return searchResults;\n    }\n    if (activeSelector === ALL_CHARTS && activeSection === Sections.AllCharts) {\n      return sortedMetadata;\n    }\n    if (activeSelector === FEATURED &&\n    activeSection === Sections.Featured &&\n    chartsByTags[t('Popular')]) {\n      return chartsByTags[t('Popular')];\n    }\n    if (activeSection === Sections.Category &&\n    chartsByCategory[activeSelector]) {\n      return chartsByCategory[activeSelector];\n    }\n    if (activeSection === Sections.Tags && chartsByTags[activeSelector]) {\n      return chartsByTags[activeSelector];\n    }\n    return [];\n  };\n  return ___EmotionJSX(VizPickerLayout, { className: className, isSelectedVizMetadata: Boolean(selectedVizMetadata) },\n  ___EmotionJSX(LeftPane, null,\n  ___EmotionJSX(Selector, { css: ({ gridUnit }) =>\n    // adjust style for not being inside a collapse\n    css`\n              margin: ${gridUnit * 2}px;\n              margin-bottom: 0;\n            `, sectionId: Sections.AllCharts, selector: ALL_CHARTS, icon: ___EmotionJSX(Icons.Ballot, { iconSize: \"m\" }), isSelected: !isActivelySearching &&\n    ALL_CHARTS === activeSelector &&\n    Sections.AllCharts === activeSection, onClick: clickSelector }),\n  ___EmotionJSX(Selector, { css: ({ gridUnit }) =>\n    // adjust style for not being inside a collapse\n    css`\n              margin: ${gridUnit * 2}px;\n              margin-bottom: 0;\n            `, sectionId: Sections.Featured, selector: FEATURED, icon: ___EmotionJSX(Icons.FireOutlined, { iconSize: \"m\" }), isSelected: !isActivelySearching &&\n    FEATURED === activeSelector &&\n    Sections.Featured === activeSection, onClick: clickSelector }),\n  ___EmotionJSX(AntdCollapse, { expandIconPosition: \"right\", ghost: true, defaultActiveKey: Sections.Category },\n  Object.keys(sectionMap).map((sectionId) => {\n    const section = sectionMap[sectionId];\n    return ___EmotionJSX(AntdCollapse.Panel, { header: ___EmotionJSX(\"span\", { className: \"header\" }, section.title), key: sectionId },\n    section.selectors.map((selector) => ___EmotionJSX(Selector, { key: selector, selector: selector, sectionId: sectionId, icon: section.icon, isSelected: !isActivelySearching &&\n      selector === activeSelector &&\n      sectionId === activeSection, onClick: clickSelector }))\n    );\n  })\n  )\n  ),\n\n  ___EmotionJSX(SearchWrapper, null,\n  ___EmotionJSX(Input, { type: \"text\", ref: searchInputRef /* cast required because emotion */, value: searchInputValue, placeholder: t('Search all charts'), onChange: changeSearch, onFocus: focusSearch, \"data-test\": `${VIZ_TYPE_CONTROL_TEST_ID}__search-input`, prefix: ___EmotionJSX(InputIconAlignment, null,\n    ___EmotionJSX(Icons.Search, { iconSize: \"m\" })\n    ), suffix: ___EmotionJSX(InputIconAlignment, null,\n    searchInputValue && ___EmotionJSX(Icons.XLarge, { iconSize: \"m\", onClick: stopSearching })\n    ) })\n  ),\n\n  ___EmotionJSX(RightPane, null,\n  ___EmotionJSX(ThumbnailGallery, { vizEntries: getVizEntriesToDisplay(), selectedViz: selectedViz, setSelectedViz: onChange, onDoubleClick: onDoubleClick })\n  ),\n\n  selectedVizMetadata ? ___EmotionJSX(\"div\", { css: (theme) => [\n    DetailsPane(theme),\n    DetailsPopulated(theme)] },\n\n  ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(SectionTitle, { css: css`\n                grid-area: viz-name;\n                position: relative;\n              ` },\n  selectedVizMetadata == null ? void 0 : selectedVizMetadata.name,\n  (selectedVizMetadata == null ? void 0 : selectedVizMetadata.label) && ___EmotionJSX(Tooltip, { id: \"viz-badge-tooltip\", placement: \"top\", title: (_selectedVizMetadata$ = selectedVizMetadata.labelExplanation) != null ? _selectedVizMetadata$ :\n    chartLabelExplanations[selectedVizMetadata.label] },\n  ___EmotionJSX(TitleLabelWrapper, null,\n  ___EmotionJSX(HighlightLabel, null,\n  ___EmotionJSX(\"div\", null, t(selectedVizMetadata.label))\n  )\n  )\n  )\n  ),\n  ___EmotionJSX(TagsWrapper, null,\n  selectedVizMetadata == null ? void 0 : selectedVizMetadata.tags.map((tag) => ___EmotionJSX(Label, { key: tag }, tag))\n  ),\n  ___EmotionJSX(Description, null,\n  (selectedVizMetadata == null ? void 0 : selectedVizMetadata.description) ||\n  t('No description available.')\n  ),\n  ___EmotionJSX(SectionTitle, { css: css`\n                grid-area: examples-header;\n              ` },\n  t('Examples')\n  ),\n  ___EmotionJSX(Examples, null,\n  (selectedVizMetadata != null && (_selectedVizMetadata$2 = selectedVizMetadata.exampleGallery) != null && _selectedVizMetadata$2.length ?\n  selectedVizMetadata.exampleGallery :\n  [\n  {\n    url: selectedVizMetadata == null ? void 0 : selectedVizMetadata.thumbnail,\n    caption: selectedVizMetadata == null ? void 0 : selectedVizMetadata.name\n  }]).\n  map((example) => ___EmotionJSX(\"img\", { key: example.url, src: example.url, alt: example.caption, title: example.caption }))\n  )\n  )\n  ) : null\n  );\n}__signature__(VizTypeGallery, \"usePluginContext{{ mountedPluginMetadata }}\\nuseRef{searchInputRef}\\nuseState{[searchInputValue, setSearchInputValue]('')}\\nuseState{[isSearchFocused, setIsSearchFocused](true)}\\nuseMemo{chartMetadata}\\nuseMemo{chartsByCategory}\\nuseMemo{categories}\\nuseMemo{chartsByTags}\\nuseMemo{tags}\\nuseMemo{sortedMetadata}\\nuseState{[activeSelector, setActiveSelector](() => selectedVizMetadata?.category || FEATURED)}\\nuseState{[activeSection, setActiveSection](() => selectedVizMetadata?.category ? Sections.Category : Sections.Featured)}\\nuseMemo{fuse}\\nuseMemo{searchResults}\\nuseCallback{focusSearch}\\nuseCallback{changeSearch}\\nuseCallback{stopSearching}\\nuseCallback{clickSelector}\\nuseMemo{sectionMap}\", () => [usePluginContext]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(Sections, \"Sections\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(DEFAULT_ORDER, \"DEFAULT_ORDER\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(typesWithDefaultOrder, \"typesWithDefaultOrder\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(THUMBNAIL_GRID_UNITS, \"THUMBNAIL_GRID_UNITS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(MAX_ADVISABLE_VIZ_GALLERY_WIDTH, \"MAX_ADVISABLE_VIZ_GALLERY_WIDTH\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(OTHER_CATEGORY, \"OTHER_CATEGORY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(ALL_CHARTS, \"ALL_CHARTS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(FEATURED, \"FEATURED\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(RECOMMENDED_TAGS, \"RECOMMENDED_TAGS\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(VIZ_TYPE_CONTROL_TEST_ID, \"VIZ_TYPE_CONTROL_TEST_ID\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(VizPickerLayout, \"VizPickerLayout\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(SectionTitle, \"SectionTitle\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(LeftPane, \"LeftPane\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(RightPane, \"RightPane\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(SearchWrapper, \"SearchWrapper\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(InputIconAlignment, \"InputIconAlignment\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(SelectorLabel, \"SelectorLabel\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(IconsPane, \"IconsPane\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(DetailsPane, \"DetailsPane\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(DetailsPopulated, \"DetailsPopulated\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(TagsWrapper, \"TagsWrapper\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(Description, \"Description\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(Examples, \"Examples\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(thumbnailContainerCss, \"thumbnailContainerCss\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(HighlightLabel, \"HighlightLabel\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(ThumbnailLabelWrapper, \"ThumbnailLabelWrapper\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(TitleLabelWrapper, \"TitleLabelWrapper\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(vizSortFactor, \"vizSortFactor\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(Thumbnail, \"Thumbnail\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(ThumbnailGallery, \"ThumbnailGallery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(Selector, \"Selector\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(doesVizMatchSelector, \"doesVizMatchSelector\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");reactHotLoader.register(VizTypeGallery, \"VizTypeGallery\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useCallback","useEffect","useMemo","useRef","useState","Fuse","cx","t","styled","css","useTheme","chartLabelWeight","chartLabelExplanations","AntdCollapse","Tooltip","Input","Label","usePluginContext","Icons","nativeFilterGate","scrollIntoView","jsx","___EmotionJSX","Sections","DEFAULT_ORDER","typesWithDefaultOrder","Set","THUMBNAIL_GRID_UNITS","MAX_ADVISABLE_VIZ_GALLERY_WIDTH","OTHER_CATEGORY","ALL_CHARTS","FEATURED","RECOMMENDED_TAGS","VIZ_TYPE_CONTROL_TEST_ID","VizPickerLayout","div","isSelectedVizMetadata","SectionTitle","h3","theme","gridUnit","typography","sizes","l","weights","bold","LeftPane","colors","grayscale","light2","s","base","RightPane","SearchWrapper","InputIconAlignment","SelectorLabel","button","borderRadius","primary","light5","IconsPane","DetailsPane","DetailsPopulated","TagsWrapper","Description","p","Examples","thumbnailContainerCss","transitionTiming","light1","HighlightLabel","dark1","ThumbnailLabelWrapper","TitleLabelWrapper","vizSortFactor","entry","has","key","indexOf","length","Thumbnail","selectedViz","setSelectedViz","onDoubleClick","value","type","isSelected","role","tabIndex","className","onClick","alt","name","width","src","thumbnail","label","__signature__","ThumbnailGallery","vizEntries","props","map","_extends","Selector","selector","sectionId","icon","btnRef","queueMicrotask","current","behavior","scrollMode","ref","doesVizMatchSelector","viz","category","tags","VizTypeGallery","_selectedVizMetadata$","_selectedVizMetadata$2","onChange","mountedPluginMetadata","searchInputRef","searchInputValue","setSearchInputValue","isSearchFocused","setIsSearchFocused","isActivelySearching","selectedVizMetadata","chartMetadata","result","Object","entries","filter","denyList","includes","behaviors","deprecated","sort","a","b","chartsByCategory","forEach","push","categories","keys","localeCompare","chartsByTags","tag","sortedMetadata","activeSelector","setActiveSelector","activeSection","setActiveSection","Category","Featured","fuse","ignoreLocation","threshold","weight","searchResults","trim","search","item","_a$value","_b$value","aLabel","bLabel","aOrder","bOrder","focusSearch","changeSearch","event","target","stopSearching","blur","clickSelector","isSelectedVizCompatible","sectionMap","title","iconSize","selectors","Tags","getVizEntriesToDisplay","AllCharts","Boolean","Ballot","FireOutlined","expandIconPosition","ghost","defaultActiveKey","section","Panel","header","placeholder","onFocus","prefix","Search","suffix","XLarge","Fragment","id","placement","labelExplanation","description","exampleGallery","url","caption","example","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/VizTypeControl/VizTypeGallery.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, {\n  ChangeEventHandler,\n  ReactElement,\n  useCallback,\n  useEffect,\n  useMemo,\n  useRef,\n  useState,\n} from 'react';\nimport Fuse from 'fuse.js';\nimport cx from 'classnames';\nimport {\n  t,\n  styled,\n  css,\n  ChartMetadata,\n  SupersetTheme,\n  useTheme,\n  chartLabelWeight,\n  chartLabelExplanations,\n} from '@superset-ui/core';\nimport { AntdCollapse } from 'src/components';\nimport { Tooltip } from 'src/components/Tooltip';\nimport { Input } from 'src/components/Input';\nimport Label from 'src/components/Label';\nimport { usePluginContext } from 'src/components/DynamicPlugins';\nimport Icons from 'src/components/Icons';\nimport { nativeFilterGate } from 'src/dashboard/components/nativeFilters/utils';\nimport scrollIntoView from 'scroll-into-view-if-needed';\n\ninterface VizTypeGalleryProps {\n  onChange: (vizType: string | null) => void;\n  onDoubleClick: () => void;\n  selectedViz: string | null;\n  className?: string;\n  denyList: string[];\n}\n\ntype VizEntry = {\n  key: string;\n  value: ChartMetadata;\n};\n\nenum Sections {\n  AllCharts = 'ALL_CHARTS',\n  Featured = 'FEATURED',\n  Category = 'CATEGORY',\n  Tags = 'TAGS',\n}\n\nconst DEFAULT_ORDER = [\n  'line',\n  'big_number',\n  'big_number_total',\n  'table',\n  'pivot_table_v2',\n  'echarts_timeseries_line',\n  'echarts_area',\n  'echarts_timeseries_bar',\n  'echarts_timeseries_scatter',\n  'pie',\n  'mixed_timeseries',\n  'dist_bar',\n  'area',\n  'bar',\n  'deck_polygon',\n  'time_table',\n  'histogram',\n  'deck_scatter',\n  'deck_hex',\n  'time_pivot',\n  'deck_arc',\n  'heatmap',\n  'heatmap_v2',\n  'deck_grid',\n  'deck_screengrid',\n  'treemap_v2',\n  'box_plot',\n  'sankey',\n  'word_cloud',\n  'mapbox',\n  'kepler',\n  'cal_heatmap',\n  'rose',\n  'bubble',\n  'bubble_v2',\n  'deck_geojson',\n  'horizon',\n  'deck_multi',\n  'compare',\n  'partition',\n  'event_flow',\n  'deck_path',\n  'graph_chart',\n  'world_map',\n  'paired_ttest',\n  'para',\n  'country_map',\n];\n\nconst typesWithDefaultOrder = new Set(DEFAULT_ORDER);\n\nconst THUMBNAIL_GRID_UNITS = 24;\n\nexport const MAX_ADVISABLE_VIZ_GALLERY_WIDTH = 1090;\n\nconst OTHER_CATEGORY = t('Other');\n\nconst ALL_CHARTS = t('All charts');\n\nconst FEATURED = t('Featured');\n\nconst RECOMMENDED_TAGS = [t('Popular'), t('ECharts'), t('Advanced-Analytics')];\n\nexport const VIZ_TYPE_CONTROL_TEST_ID = 'viz-type-control';\n\nconst VizPickerLayout = styled.div<{ isSelectedVizMetadata: boolean }>`\n  ${({ isSelectedVizMetadata }) => `\n    display: grid;\n    grid-template-rows: ${\n      isSelectedVizMetadata\n        ? `auto minmax(100px, 1fr) minmax(200px, 35%)`\n        : 'auto minmax(100px, 1fr)'\n    };\n    // em is used here because the sidebar should be sized to fit the longest standard tag\n    grid-template-columns: minmax(14em, auto) 5fr;\n    grid-template-areas:\n      'sidebar search'\n      'sidebar main'\n      'details details';\n    height: 70vh;\n    overflow: auto;\n  `}\n`;\n\nconst SectionTitle = styled.h3`\n  margin-top: 0;\n  margin-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n  font-size: ${({ theme }) => theme.typography.sizes.l}px;\n  font-weight: ${({ theme }) => theme.typography.weights.bold};\n  line-height: ${({ theme }) => theme.gridUnit * 6}px;\n`;\n\nconst LeftPane = styled.div`\n  grid-area: sidebar;\n  display: flex;\n  flex-direction: column;\n  border-right: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  overflow: auto;\n\n  .ant-collapse .ant-collapse-item {\n    .ant-collapse-header {\n      font-size: ${({ theme }) => theme.typography.sizes.s}px;\n      color: ${({ theme }) => theme.colors.grayscale.base};\n      padding-left: ${({ theme }) => theme.gridUnit * 2}px;\n      padding-bottom: ${({ theme }) => theme.gridUnit}px;\n    }\n    .ant-collapse-content .ant-collapse-content-box {\n      display: flex;\n      flex-direction: column;\n      padding: 0 ${({ theme }) => theme.gridUnit * 2}px;\n    }\n  }\n`;\n\nconst RightPane = styled.div`\n  grid-area: main;\n  overflow-y: auto;\n`;\n\nconst SearchWrapper = styled.div`\n  ${({ theme }) => `\n    grid-area: search;\n    margin-top: ${theme.gridUnit * 3}px;\n    margin-bottom: ${theme.gridUnit}px;\n    margin-left: ${theme.gridUnit * 3}px;\n    margin-right: ${theme.gridUnit * 3}px;\n    .ant-input-affix-wrapper {\n      padding-left: ${theme.gridUnit * 2}px;\n    }\n  `}\n`;\n\n/** Styles to line up prefix/suffix icons in the search input */\nconst InputIconAlignment = styled.div`\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: ${({ theme }) => theme.colors.grayscale.base};\n`;\n\nconst SelectorLabel = styled.button`\n  ${({ theme }) => `\n    all: unset; // remove default button styles\n    display: flex;\n    flex-direction: row;\n    align-items: center;\n    cursor: pointer;\n    margin: ${theme.gridUnit}px 0;\n    padding: 0 ${theme.gridUnit}px;\n    border-radius: ${theme.borderRadius}px;\n    line-height: 2em;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    position: relative;\n\n    &:focus {\n      outline: initial;\n    }\n\n    &.selected {\n      background-color: ${theme.colors.primary.base};\n      color: ${theme.colors.primary.light5};\n\n      svg {\n        color: ${theme.colors.primary.light5};\n      }\n\n      &:hover {\n        .cancel {\n          visibility: visible;\n        }\n      }\n    }\n\n    & > span[role=\"img\"] {\n      margin-right: ${theme.gridUnit * 2}px;\n    }\n\n    .cancel {\n      visibility: hidden;\n    }\n  `}\n`;\n\nconst IconsPane = styled.div`\n  overflow: auto;\n  display: grid;\n  grid-template-columns: repeat(\n    auto-fill,\n    ${({ theme }) => theme.gridUnit * THUMBNAIL_GRID_UNITS}px\n  );\n  grid-auto-rows: max-content;\n  justify-content: space-evenly;\n  grid-gap: ${({ theme }) => theme.gridUnit * 2}px;\n  justify-items: center;\n  // for some reason this padding doesn't seem to apply at the bottom of the container. Why is a mystery.\n  padding: ${({ theme }) => theme.gridUnit * 2}px;\n`;\n\nconst DetailsPane = (theme: SupersetTheme) => css`\n  grid-area: details;\n  border-top: 1px solid ${theme.colors.grayscale.light2};\n`;\n\nconst DetailsPopulated = (theme: SupersetTheme) => css`\n  padding: ${theme.gridUnit * 4}px;\n  display: grid;\n  grid-template-columns: 1fr 1fr;\n  grid-template-rows: auto auto 1fr;\n  grid-template-areas:\n    'viz-name examples-header'\n    'viz-tags examples'\n    'description examples';\n`;\n\n// overflow hidden on the details pane and overflow auto on the description\n// (plus grid layout) enables the description to scroll while the header stays in place.\nconst TagsWrapper = styled.div`\n  grid-area: viz-tags;\n  width: ${({ theme }) => theme.gridUnit * 120}px;\n  padding-right: ${({ theme }) => theme.gridUnit * 14}px;\n  padding-bottom: ${({ theme }) => theme.gridUnit * 2}px;\n`;\n\nconst Description = styled.p`\n  grid-area: description;\n  overflow: auto;\n  padding-right: ${({ theme }) => theme.gridUnit * 14}px;\n  margin: 0;\n`;\n\nconst Examples = styled.div`\n  grid-area: examples;\n  display: flex;\n  flex-direction: row;\n  flex-wrap: nowrap;\n  overflow: auto;\n  gap: ${({ theme }) => theme.gridUnit * 4}px;\n\n  img {\n    height: 100%;\n    border-radius: ${({ theme }) => theme.gridUnit}px;\n    border: 1px solid ${({ theme }) => theme.colors.grayscale.light2};\n  }\n`;\n\nconst thumbnailContainerCss = (theme: SupersetTheme) => css`\n  cursor: pointer;\n  width: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n  position: relative;\n\n  img {\n    min-width: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n    min-height: ${theme.gridUnit * THUMBNAIL_GRID_UNITS}px;\n    border: 1px solid ${theme.colors.grayscale.light2};\n    border-radius: ${theme.gridUnit}px;\n    transition: border-color ${theme.transitionTiming};\n  }\n\n  &.selected img {\n    border: 2px solid ${theme.colors.primary.light2};\n  }\n\n  &:hover:not(.selected) img {\n    border: 1px solid ${theme.colors.grayscale.light1};\n  }\n\n  .viztype-label {\n    margin-top: ${theme.gridUnit * 2}px;\n    text-align: center;\n  }\n`;\n\nconst HighlightLabel = styled.div`\n  ${({ theme }) => `\n    border: 1px solid ${theme.colors.primary.dark1};\n    box-sizing: border-box;\n    border-radius: ${theme.gridUnit}px;\n    background: ${theme.colors.grayscale.light5};\n    line-height: ${theme.gridUnit * 2.5}px;\n    color: ${theme.colors.primary.dark1};\n    font-size: ${theme.typography.sizes.s}px;\n    font-weight: ${theme.typography.weights.bold};\n    text-align: center;\n    padding: ${theme.gridUnit * 0.5}px ${theme.gridUnit}px;\n    text-transform: uppercase;\n    cursor: pointer;\n\n    div {\n      transform: scale(0.83,0.83);\n    }\n  `}\n`;\n\nconst ThumbnailLabelWrapper = styled.div`\n  position: absolute;\n  right: ${({ theme }) => theme.gridUnit}px;\n  top: ${({ theme }) => theme.gridUnit * 19}px;\n`;\n\nconst TitleLabelWrapper = styled.div`\n  display: inline-block !important;\n  margin-left: ${({ theme }) => theme.gridUnit * 2}px;\n`;\n\nfunction vizSortFactor(entry: VizEntry) {\n  if (typesWithDefaultOrder.has(entry.key)) {\n    return DEFAULT_ORDER.indexOf(entry.key);\n  }\n  return DEFAULT_ORDER.length;\n}\n\ninterface ThumbnailProps {\n  entry: VizEntry;\n  selectedViz: string | null;\n  setSelectedViz: (viz: string) => void;\n  onDoubleClick: () => void;\n}\n\nconst Thumbnail: React.FC<ThumbnailProps> = ({\n  entry,\n  selectedViz,\n  setSelectedViz,\n  onDoubleClick,\n}) => {\n  const theme = useTheme();\n  const { key, value: type } = entry;\n  const isSelected = selectedViz === entry.key;\n\n  return (\n    <div\n      role=\"button\"\n      // using css instead of a styled component to preserve\n      // the data-test attribute\n      css={thumbnailContainerCss(theme)}\n      tabIndex={0}\n      className={isSelected ? 'selected' : ''}\n      onClick={() => setSelectedViz(key)}\n      onDoubleClick={onDoubleClick}\n      data-test=\"viztype-selector-container\"\n    >\n      <img\n        alt={type.name}\n        width=\"100%\"\n        className={`viztype-selector ${isSelected ? 'selected' : ''}`}\n        src={type.thumbnail}\n      />\n      <div\n        className=\"viztype-label\"\n        data-test={`${VIZ_TYPE_CONTROL_TEST_ID}__viztype-label`}\n      >\n        {type.name}\n      </div>\n      {type.label && (\n        <ThumbnailLabelWrapper>\n          <HighlightLabel>\n            <div>{t(type.label)}</div>\n          </HighlightLabel>\n        </ThumbnailLabelWrapper>\n      )}\n    </div>\n  );\n};\n\ninterface ThumbnailGalleryProps {\n  vizEntries: VizEntry[];\n  selectedViz: string | null;\n  setSelectedViz: (viz: string) => void;\n  onDoubleClick: () => void;\n}\n\n/** A list of viz thumbnails, used within the viz picker modal */\nconst ThumbnailGallery: React.FC<ThumbnailGalleryProps> = ({\n  vizEntries,\n  ...props\n}) => (\n  <IconsPane data-test={`${VIZ_TYPE_CONTROL_TEST_ID}__viz-row`}>\n    {vizEntries.map(entry => (\n      <Thumbnail key={entry.key} {...props} entry={entry} />\n    ))}\n  </IconsPane>\n);\n\nconst Selector: React.FC<{\n  selector: string;\n  sectionId: string;\n  icon: ReactElement;\n  isSelected: boolean;\n  onClick: (selector: string, sectionId: string) => void;\n  className?: string;\n}> = ({ selector, sectionId, icon, isSelected, onClick, className }) => {\n  const btnRef = useRef<HTMLButtonElement>(null);\n\n  // see Element.scrollIntoViewIfNeeded()\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoViewIfNeeded\n  useEffect(() => {\n    if (isSelected) {\n      // We need to wait for the modal to open and then scroll, so we put it in the microtask queue\n      queueMicrotask(() =>\n        scrollIntoView(btnRef.current as HTMLButtonElement, {\n          behavior: 'smooth',\n          scrollMode: 'if-needed',\n        }),\n      );\n    }\n  }, []);\n\n  return (\n    <SelectorLabel\n      ref={btnRef}\n      key={selector}\n      name={selector}\n      className={cx(className, isSelected && 'selected')}\n      onClick={() => onClick(selector, sectionId)}\n    >\n      {icon}\n      {selector}\n    </SelectorLabel>\n  );\n};\n\nconst doesVizMatchSelector = (viz: ChartMetadata, selector: string) =>\n  selector === viz.category ||\n  (selector === OTHER_CATEGORY && viz.category == null) ||\n  (viz.tags || []).indexOf(selector) > -1;\n\nexport default function VizTypeGallery(props: VizTypeGalleryProps) {\n  const { selectedViz, onChange, onDoubleClick, className } = props;\n  const { mountedPluginMetadata } = usePluginContext();\n  const searchInputRef = useRef<HTMLInputElement>();\n  const [searchInputValue, setSearchInputValue] = useState('');\n  const [isSearchFocused, setIsSearchFocused] = useState(true);\n  const isActivelySearching = isSearchFocused && !!searchInputValue;\n\n  const selectedVizMetadata: ChartMetadata | null = selectedViz\n    ? mountedPluginMetadata[selectedViz]\n    : null;\n\n  const chartMetadata: VizEntry[] = useMemo(() => {\n    const result = Object.entries(mountedPluginMetadata)\n      .map(([key, value]) => ({ key, value }))\n      .filter(({ key }) => !props.denyList.includes(key))\n      .filter(\n        ({ value }) =>\n          nativeFilterGate(value.behaviors || []) && !value.deprecated,\n      );\n    result.sort((a, b) => vizSortFactor(a) - vizSortFactor(b));\n    return result;\n  }, [mountedPluginMetadata]);\n\n  const chartsByCategory = useMemo(() => {\n    const result: Record<string, VizEntry[]> = {};\n    chartMetadata.forEach(entry => {\n      const category = entry.value.category || OTHER_CATEGORY;\n      if (!result[category]) {\n        result[category] = [];\n      }\n      result[category].push(entry);\n    });\n    return result;\n  }, [chartMetadata]);\n\n  const categories = useMemo(\n    () =>\n      Object.keys(chartsByCategory).sort((a, b) => {\n        // make sure Other goes at the end\n        if (a === OTHER_CATEGORY) return 1;\n        if (b === OTHER_CATEGORY) return -1;\n        // sort alphabetically\n        return a.localeCompare(b);\n      }),\n    [chartsByCategory],\n  );\n\n  const chartsByTags = useMemo(() => {\n    const result: Record<string, VizEntry[]> = {};\n    chartMetadata.forEach(entry => {\n      const tags = entry.value.tags || [];\n      tags.forEach(tag => {\n        if (!result[tag]) {\n          result[tag] = [];\n        }\n        result[tag].push(entry);\n      });\n    });\n    return result;\n  }, [chartMetadata]);\n\n  const tags = useMemo(\n    () =>\n      Object.keys(chartsByTags)\n        .sort((a, b) =>\n          // sort alphabetically\n          a.localeCompare(b),\n        )\n        .filter(tag => RECOMMENDED_TAGS.indexOf(tag) === -1),\n    [chartsByTags],\n  );\n\n  const sortedMetadata = useMemo(\n    () => chartMetadata.sort((a, b) => a.key.localeCompare(b.key)),\n    [chartMetadata],\n  );\n\n  const [activeSelector, setActiveSelector] = useState<string>(\n    () => selectedVizMetadata?.category || FEATURED,\n  );\n\n  const [activeSection, setActiveSection] = useState<string>(() =>\n    selectedVizMetadata?.category ? Sections.Category : Sections.Featured,\n  );\n\n  // get a fuse instance for fuzzy search\n  const fuse = useMemo(\n    () =>\n      new Fuse(chartMetadata, {\n        ignoreLocation: true,\n        threshold: 0.3,\n        keys: [\n          {\n            name: 'value.name',\n            weight: 4,\n          },\n          {\n            name: 'value.tags',\n            weight: 2,\n          },\n          'value.description',\n        ],\n      }),\n    [chartMetadata],\n  );\n\n  const searchResults = useMemo(() => {\n    if (searchInputValue.trim() === '') {\n      return [];\n    }\n    return fuse\n      .search(searchInputValue)\n      .map(result => result.item)\n      .sort((a, b) => {\n        const aLabel = a.value?.label;\n        const bLabel = b.value?.label;\n        const aOrder =\n          aLabel && chartLabelWeight[aLabel]\n            ? chartLabelWeight[aLabel].weight\n            : 0;\n        const bOrder =\n          bLabel && chartLabelWeight[bLabel]\n            ? chartLabelWeight[bLabel].weight\n            : 0;\n        return bOrder - aOrder;\n      });\n  }, [searchInputValue, fuse]);\n\n  const focusSearch = useCallback(() => {\n    // \"start searching\" is actually a two-stage process.\n    // When you first click on the search bar, the input is focused and nothing else happens.\n    // Once you begin typing, the selected category is cleared and the displayed viz entries change.\n    setIsSearchFocused(true);\n  }, []);\n\n  const changeSearch: ChangeEventHandler<HTMLInputElement> = useCallback(\n    event => setSearchInputValue(event.target.value),\n    [],\n  );\n\n  const stopSearching = useCallback(() => {\n    // stopping a search takes you back to the category you were looking at before.\n    // Unlike focusSearch, this is a simple one-step process.\n    setIsSearchFocused(false);\n    setSearchInputValue('');\n    searchInputRef.current!.blur();\n  }, []);\n\n  const clickSelector = useCallback(\n    (selector: string, sectionId: string) => {\n      if (isSearchFocused) {\n        stopSearching();\n      }\n      setActiveSelector(selector);\n      setActiveSection(sectionId);\n      // clear the selected viz if it is not present in the new category or tags\n      const isSelectedVizCompatible =\n        selectedVizMetadata &&\n        doesVizMatchSelector(selectedVizMetadata, selector);\n      if (selector !== activeSelector && !isSelectedVizCompatible) {\n        onChange(null);\n      }\n    },\n    [\n      stopSearching,\n      isSearchFocused,\n      activeSelector,\n      selectedVizMetadata,\n      onChange,\n    ],\n  );\n\n  const sectionMap = useMemo(\n    () => ({\n      [Sections.Category]: {\n        title: t('Category'),\n        icon: <Icons.Category iconSize=\"m\" />,\n        selectors: categories,\n      },\n      [Sections.Tags]: {\n        title: t('Tags'),\n        icon: <Icons.Tags iconSize=\"m\" />,\n        selectors: tags,\n      },\n    }),\n    [categories, tags],\n  );\n\n  const getVizEntriesToDisplay = () => {\n    if (isActivelySearching) {\n      return searchResults;\n    }\n    if (activeSelector === ALL_CHARTS && activeSection === Sections.AllCharts) {\n      return sortedMetadata;\n    }\n    if (\n      activeSelector === FEATURED &&\n      activeSection === Sections.Featured &&\n      chartsByTags[t('Popular')]\n    ) {\n      return chartsByTags[t('Popular')];\n    }\n    if (\n      activeSection === Sections.Category &&\n      chartsByCategory[activeSelector]\n    ) {\n      return chartsByCategory[activeSelector];\n    }\n    if (activeSection === Sections.Tags && chartsByTags[activeSelector]) {\n      return chartsByTags[activeSelector];\n    }\n    return [];\n  };\n\n  return (\n    <VizPickerLayout\n      className={className}\n      isSelectedVizMetadata={Boolean(selectedVizMetadata)}\n    >\n      <LeftPane>\n        <Selector\n          css={({ gridUnit }) =>\n            // adjust style for not being inside a collapse\n            css`\n              margin: ${gridUnit * 2}px;\n              margin-bottom: 0;\n            `\n          }\n          sectionId={Sections.AllCharts}\n          selector={ALL_CHARTS}\n          icon={<Icons.Ballot iconSize=\"m\" />}\n          isSelected={\n            !isActivelySearching &&\n            ALL_CHARTS === activeSelector &&\n            Sections.AllCharts === activeSection\n          }\n          onClick={clickSelector}\n        />\n        <Selector\n          css={({ gridUnit }) =>\n            // adjust style for not being inside a collapse\n            css`\n              margin: ${gridUnit * 2}px;\n              margin-bottom: 0;\n            `\n          }\n          sectionId={Sections.Featured}\n          selector={FEATURED}\n          icon={<Icons.FireOutlined iconSize=\"m\" />}\n          isSelected={\n            !isActivelySearching &&\n            FEATURED === activeSelector &&\n            Sections.Featured === activeSection\n          }\n          onClick={clickSelector}\n        />\n        <AntdCollapse\n          expandIconPosition=\"right\"\n          ghost\n          defaultActiveKey={Sections.Category}\n        >\n          {Object.keys(sectionMap).map(sectionId => {\n            const section = sectionMap[sectionId];\n\n            return (\n              <AntdCollapse.Panel\n                header={<span className=\"header\">{section.title}</span>}\n                key={sectionId}\n              >\n                {section.selectors.map((selector: string) => (\n                  <Selector\n                    key={selector}\n                    selector={selector}\n                    sectionId={sectionId}\n                    icon={section.icon}\n                    isSelected={\n                      !isActivelySearching &&\n                      selector === activeSelector &&\n                      sectionId === activeSection\n                    }\n                    onClick={clickSelector}\n                  />\n                ))}\n              </AntdCollapse.Panel>\n            );\n          })}\n        </AntdCollapse>\n      </LeftPane>\n\n      <SearchWrapper>\n        <Input\n          type=\"text\"\n          ref={searchInputRef as any /* cast required because emotion */}\n          value={searchInputValue}\n          placeholder={t('Search all charts')}\n          onChange={changeSearch}\n          onFocus={focusSearch}\n          data-test={`${VIZ_TYPE_CONTROL_TEST_ID}__search-input`}\n          prefix={\n            <InputIconAlignment>\n              <Icons.Search iconSize=\"m\" />\n            </InputIconAlignment>\n          }\n          suffix={\n            <InputIconAlignment>\n              {searchInputValue && (\n                <Icons.XLarge iconSize=\"m\" onClick={stopSearching} />\n              )}\n            </InputIconAlignment>\n          }\n        />\n      </SearchWrapper>\n\n      <RightPane>\n        <ThumbnailGallery\n          vizEntries={getVizEntriesToDisplay()}\n          selectedViz={selectedViz}\n          setSelectedViz={onChange}\n          onDoubleClick={onDoubleClick}\n        />\n      </RightPane>\n\n      {selectedVizMetadata ? (\n        <div\n          css={(theme: SupersetTheme) => [\n            DetailsPane(theme),\n            DetailsPopulated(theme),\n          ]}\n        >\n          <>\n            <SectionTitle\n              css={css`\n                grid-area: viz-name;\n                position: relative;\n              `}\n            >\n              {selectedVizMetadata?.name}\n              {selectedVizMetadata?.label && (\n                <Tooltip\n                  id=\"viz-badge-tooltip\"\n                  placement=\"top\"\n                  title={\n                    selectedVizMetadata.labelExplanation ??\n                    chartLabelExplanations[selectedVizMetadata.label]\n                  }\n                >\n                  <TitleLabelWrapper>\n                    <HighlightLabel>\n                      <div>{t(selectedVizMetadata.label)}</div>\n                    </HighlightLabel>\n                  </TitleLabelWrapper>\n                </Tooltip>\n              )}\n            </SectionTitle>\n            <TagsWrapper>\n              {selectedVizMetadata?.tags.map(tag => (\n                <Label key={tag}>{tag}</Label>\n              ))}\n            </TagsWrapper>\n            <Description>\n              {selectedVizMetadata?.description ||\n                t('No description available.')}\n            </Description>\n            <SectionTitle\n              css={css`\n                grid-area: examples-header;\n              `}\n            >\n              {t('Examples')}\n            </SectionTitle>\n            <Examples>\n              {(selectedVizMetadata?.exampleGallery?.length\n                ? selectedVizMetadata.exampleGallery\n                : [\n                    {\n                      url: selectedVizMetadata?.thumbnail,\n                      caption: selectedVizMetadata?.name,\n                    },\n                  ]\n              ).map(example => (\n                <img\n                  key={example.url}\n                  src={example.url}\n                  alt={example.caption}\n                  title={example.caption}\n                />\n              ))}\n            </Examples>\n          </>\n        </div>\n      ) : null}\n    </VizPickerLayout>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}