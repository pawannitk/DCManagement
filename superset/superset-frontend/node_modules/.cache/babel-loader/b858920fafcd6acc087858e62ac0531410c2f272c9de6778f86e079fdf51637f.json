{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;};export function getLabelFontSize(width) {\n  if (width > 550) {\n    return 0.8;\n  }\n  if (width > 400 && width <= 550) {\n    return 0.55;\n  }\n  return 0.45;\n}\nexport const isOverlapping = (rect1, rect2) => {\n  const { x: x1, y: y1, width: width1, height: height1 } = rect1;\n  const { x: x2, y: y2, width: width2, height: height2 } = rect2;\n  return !(x1 > x2 + width2 ||\n  x1 + width1 < x2 ||\n  y1 > y2 + height2 ||\n  y1 + height1 < y2);\n};\nexport const getRectangle = (element, offset = 0) => {\n  const { x, y, width, height } = element.getBoundingClientRect();\n  return {\n    x,\n    y: y + offset,\n    width,\n    height: height - offset * 2\n  };\n};\nexport const getOverlappingElements = (elements) => {\n  const overlappingElements = [];\n  elements.forEach((e1, index1) => {\n    const rect1 = getRectangle(e1, 1);\n    elements.forEach((e2, index2) => {\n      if (index2 <= index1)\n      return;\n      const rect2 = getRectangle(e2, 1);\n      if (isOverlapping(rect1, rect2)) {\n        overlappingElements.push(elements[index2]);\n        overlappingElements.push(elements[index1]);\n      }\n    });\n  });\n  return overlappingElements;\n};;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(getLabelFontSize, \"getLabelFontSize\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/utils.ts\");reactHotLoader.register(isOverlapping, \"isOverlapping\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/utils.ts\");reactHotLoader.register(getRectangle, \"getRectangle\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/utils.ts\");reactHotLoader.register(getOverlappingElements, \"getOverlappingElements\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/utils.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["getLabelFontSize","width","isOverlapping","rect1","rect2","x","x1","y","y1","width1","height","height1","x2","y2","width2","height2","getRectangle","element","offset","getBoundingClientRect","getOverlappingElements","elements","overlappingElements","forEach","e1","index1","e2","index2","push","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-sankey/src/utils.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\ntype Rect = {\n  x: number;\n  y: number;\n  width: number;\n  height: number;\n};\n\nexport function getLabelFontSize(width: number): number {\n  if (width > 550) {\n    return 0.8;\n  }\n\n  if (width > 400 && width <= 550) {\n    return 0.55;\n  }\n\n  return 0.45;\n}\n\nexport const isOverlapping = (rect1: Rect, rect2: Rect): boolean => {\n  const { x: x1, y: y1, width: width1, height: height1 } = rect1;\n  const { x: x2, y: y2, width: width2, height: height2 } = rect2;\n\n  return !(\n    x1 > x2 + width2 ||\n    x1 + width1 < x2 ||\n    y1 > y2 + height2 ||\n    y1 + height1 < y2\n  );\n};\n\nexport const getRectangle = (element: SVGElement, offset = 0): Rect => {\n  const { x, y, width, height } = element.getBoundingClientRect();\n\n  return {\n    x,\n    y: y + offset,\n    width,\n    height: height - offset * 2,\n  };\n};\n\nexport const getOverlappingElements = (\n  elements: SVGElement[],\n): SVGElement[] => {\n  const overlappingElements: SVGElement[] = [];\n\n  elements.forEach((e1, index1) => {\n    const rect1: Rect = getRectangle(e1, 1);\n\n    elements.forEach((e2, index2) => {\n      if (index2 <= index1) return;\n      const rect2: Rect = getRectangle(e2, 1);\n\n      if (isOverlapping(rect1, rect2)) {\n        overlappingElements.push(elements[index2]);\n        overlappingElements.push(elements[index1]);\n      }\n    });\n  });\n\n  return overlappingElements;\n};\n"],"mappings":"uSAyBA,OAAM,SAAUA,gBAAgBA,CAACC,KAAa;EAC5C,IAAIA,KAAK,GAAG,GAAG,EAAE;IACf,OAAO,GAAG;;EAGZ,IAAIA,KAAK,GAAG,GAAG,IAAIA,KAAK,IAAI,GAAG,EAAE;IAC/B,OAAO,IAAI;;EAGb,OAAO,IAAI;AACb;AAEA,OAAO,MAAMC,aAAa,GAAGA,CAACC,KAAW,EAAEC,KAAW,KAAa;EACjE,MAAM,EAAEC,CAAC,EAAEC,EAAE,EAAEC,CAAC,EAAEC,EAAE,EAAEP,KAAK,EAAEQ,MAAM,EAAEC,MAAM,EAAEC,OAAO,EAAE,GAAGR,KAAK;EAC9D,MAAM,EAAEE,CAAC,EAAEO,EAAE,EAAEL,CAAC,EAAEM,EAAE,EAAEZ,KAAK,EAAEa,MAAM,EAAEJ,MAAM,EAAEK,OAAO,EAAE,GAAGX,KAAK;EAE9D,OAAO,EACLE,EAAE,GAAGM,EAAE,GAAGE,MAAM;EAChBR,EAAE,GAAGG,MAAM,GAAGG,EAAE;EAChBJ,EAAE,GAAGK,EAAE,GAAGE,OAAO;EACjBP,EAAE,GAAGG,OAAO,GAAGE,EAAE,CAClB;AACH,CAAC;AAED,OAAO,MAAMG,YAAY,GAAGA,CAACC,OAAmB,EAAEC,MAAM,GAAG,CAAC,KAAU;EACpE,MAAM,EAAEb,CAAC,EAAEE,CAAC,EAAEN,KAAK,EAAES,MAAM,EAAE,GAAGO,OAAO,CAACE,qBAAqB,EAAE;EAE/D,OAAO;IACLd,CAAC;IACDE,CAAC,EAAEA,CAAC,GAAGW,MAAM;IACbjB,KAAK;IACLS,MAAM,EAAEA,MAAM,GAAGQ,MAAM,GAAG;GAC3B;AACH,CAAC;AAED,OAAO,MAAME,sBAAsB,GAAGA,CACpCC,QAAsB,KACN;EAChB,MAAMC,mBAAmB,GAAiB,EAAE;EAE5CD,QAAQ,CAACE,OAAO,CAAC,CAACC,EAAE,EAAEC,MAAM,KAAI;IAC9B,MAAMtB,KAAK,GAASa,YAAY,CAACQ,EAAE,EAAE,CAAC,CAAC;IAEvCH,QAAQ,CAACE,OAAO,CAAC,CAACG,EAAE,EAAEC,MAAM,KAAI;MAC9B,IAAIA,MAAM,IAAIF,MAAM;MAAE;MACtB,MAAMrB,KAAK,GAASY,YAAY,CAACU,EAAE,EAAE,CAAC,CAAC;MAEvC,IAAIxB,aAAa,CAACC,KAAK,EAAEC,KAAK,CAAC,EAAE;QAC/BkB,mBAAmB,CAACM,IAAI,CAACP,QAAQ,CAACM,MAAM,CAAC,CAAC;QAC1CL,mBAAmB,CAACM,IAAI,CAACP,QAAQ,CAACI,MAAM,CAAC,CAAC;;IAE9C,CAAC,CAAC;EACJ,CAAC,CAAC;EAEF,OAAOH,mBAAmB;AAC5B,CAAC,CAAC,mBAAAO,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAvDcjC,gBAAgB,gIAAA6B,cAAA,CAAAI,QAAA,CAYnB/B,aAAa,6HAAA2B,cAAA,CAAAI,QAAA,CAYbjB,YAAY,4HAAAa,cAAA,CAAAI,QAAA,CAWZb,sBAAsB,8JAAAc,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}