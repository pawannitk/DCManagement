{"ast":null,"code":"import { css as _css } from \"@emotion/react\";import _debounce from \"lodash/debounce\";(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useMemo } from 'react';\nimport { FAST_DEBOUNCE, useTheme } from '@superset-ui/core';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nexport * from './ControlFormItem';\nexport function ControlFormRow({ children }) {\n  const { gridUnit } = useTheme();\n  return ___EmotionJSX(\"div\", { css: /*#__PURE__*/_css({\n      display: 'flex',\n      flexWrap: 'nowrap',\n      marginBottom: gridUnit,\n      maxWidth: '100%'\n    }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:ControlFormRow;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Bhd2Fuay9Eb2N1bWVudHMvZGNpbS9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0NvbHVtbkNvbmZpZ0NvbnRyb2wvQ29udHJvbEZvcm0vaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQXdCaUIiLCJmaWxlIjoiL2hvbWUvcGF3YW5rL0RvY3VtZW50cy9kY2ltL3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvQ29sdW1uQ29uZmlnQ29udHJvbC9Db250cm9sRm9ybS9pbmRleC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZBU1RfREVCT1VOQ0UsIHVzZVRoZW1lLCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoJztcbmV4cG9ydCAqIGZyb20gJy4vQ29udHJvbEZvcm1JdGVtJztcbmV4cG9ydCBmdW5jdGlvbiBDb250cm9sRm9ybVJvdyh7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCB7IGdyaWRVbml0IH0gPSB1c2VUaGVtZSgpO1xuICAgIHJldHVybiAoPGRpdiBjc3M9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGZsZXhXcmFwOiAnbm93cmFwJyxcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogZ3JpZFVuaXQsXG4gICAgICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj4pO1xufVxuLyoqXG4gKiBMaWdodCB3ZWlnaHQgZm9ybSBmb3IgY29udHJvbCBwYW5lbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udHJvbEZvcm0oeyBvbkNoYW5nZSwgdmFsdWUsIGNoaWxkcmVuLCB9KSB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IGRlYm91bmNlZE9uQ2hhbmdlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICAwOiBvbkNoYW5nZSxcbiAgICAgICAgW0ZBU1RfREVCT1VOQ0VdOiBkZWJvdW5jZShvbkNoYW5nZSwgRkFTVF9ERUJPVU5DRSksXG4gICAgfSksIFtvbkNoYW5nZV0pO1xuICAgIGNvbnN0IHVwZGF0ZWRDaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgcm93ID0+IHtcbiAgICAgICAgaWYgKCdjaGlsZHJlbicgaW4gcm93LnByb3BzKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0V2lkdGggPSBBcnJheS5pc0FycmF5KHJvdy5wcm9wcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICA/IGAkezEwMCAvIHJvdy5wcm9wcy5jaGlsZHJlbi5sZW5ndGh9JWBcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQocm93LCB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFJlYWN0LkNoaWxkcmVuLm1hcChyb3cucHJvcHMuY2hpbGRyZW4sIGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIHdpZHRoLCBkZWJvdW5jZURlbGF5ID0gRkFTVF9ERUJPVU5DRSwgb25DaGFuZ2U6IG9uSXRlbVZhbHVlQ2hhbmdlLCB9ID0gaXRlbS5wcm9wcztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggfHwgZGVmYXVsdFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlPy5bbmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYGRlYm91bmNlRGVsYXlgIGZyb20gcmVuZGVyZWQgY29udHJvbCBpdGVtIHByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBSZWFjdCBEZXZUb29scyBkb24ndCB0aHJvdyBhIGBpbnZhbGlkIHByb3BgIHdhcm5pbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZURlbGF5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZShmaWVsZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBgb25DaGFuZ2VgIG9uIGVhY2ggRm9ybUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25JdGVtVmFsdWVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25JdGVtVmFsdWVDaGFuZ2UoZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0byB0aGUgZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRlYm91bmNlRGVsYXkgaW4gZGVib3VuY2VkT25DaGFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZE9uQ2hhbmdlW2RlYm91bmNlRGVsYXldID0gZGVib3VuY2Uob25DaGFuZ2UsIGRlYm91bmNlRGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZWRPbkNoYW5nZVtkZWJvdW5jZURlbGF5XSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmFtZV06IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfSk7XG4gICAgcmV0dXJuICg8ZGl2IGNzcz17e1xuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhlbWUuY29sb3JzLnRleHQubGFiZWwsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuc2l6ZXMucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH19PlxuICAgICAge3VwZGF0ZWRDaGlsZHJlbn1cbiAgICA8L2Rpdj4pO1xufVxuIl19 */\") },\n  children\n  );\n}\n/**\n * Light weight form for control panel.\n */__signature__(ControlFormRow, \"useTheme{{ gridUnit }}\", () => [useTheme]);\nexport default function ControlForm({ onChange, value, children }) {\n  const theme = useTheme();\n  const debouncedOnChange = useMemo(() => ({\n    0: onChange,\n    [FAST_DEBOUNCE]: _debounce(onChange, FAST_DEBOUNCE)\n  }), [onChange]);\n  const updatedChildren = React.Children.map(children, (row) => {\n    if ('children' in row.props) {\n      const defaultWidth = Array.isArray(row.props.children) ?\n      `${100 / row.props.children.length}%` :\n      undefined;\n      return /*#__PURE__*/React.cloneElement(row, {\n        children: React.Children.map(row.props.children, (item) => {\n          const { name, width, debounceDelay = FAST_DEBOUNCE, onChange: onItemValueChange } = item.props;\n          return /*#__PURE__*/React.cloneElement(item, {\n            width: width || defaultWidth,\n            value: value == null ? void 0 : value[name],\n            // remove `debounceDelay` from rendered control item props\n            // so React DevTools don't throw a `invalid prop` warning.\n            debounceDelay: undefined,\n            onChange(fieldValue) {\n              // call `onChange` on each FormItem\n              if (onItemValueChange) {\n                onItemValueChange(fieldValue);\n              }\n              // propagate to the form\n              if (!(debounceDelay in debouncedOnChange)) {\n                debouncedOnChange[debounceDelay] = _debounce(onChange, debounceDelay);\n              }\n              debouncedOnChange[debounceDelay]({\n                ...value,\n                [name]: fieldValue\n              });\n            }\n          });\n        })\n      });\n    }\n    return row;\n  });\n  return ___EmotionJSX(\"div\", { css: /*#__PURE__*/_css({\n      label: {\n        textTransform: 'uppercase',\n        color: theme.colors.text.label,\n        fontSize: theme.typography.sizes.s\n      }\n    }, process.env.NODE_ENV === \"production\" ? \"\" : \";label:ControlForm;\", process.env.NODE_ENV === \"production\" ? \"\" : \"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3Bhd2Fuay9Eb2N1bWVudHMvZGNpbS9zdXBlcnNldC9zdXBlcnNldC1mcm9udGVuZC9zcmMvZXhwbG9yZS9jb21wb25lbnRzL2NvbnRyb2xzL0NvbHVtbkNvbmZpZ0NvbnRyb2wvQ29udHJvbEZvcm0vaW5kZXgudHN4Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTRFaUIiLCJmaWxlIjoiL2hvbWUvcGF3YW5rL0RvY3VtZW50cy9kY2ltL3N1cGVyc2V0L3N1cGVyc2V0LWZyb250ZW5kL3NyYy9leHBsb3JlL2NvbXBvbmVudHMvY29udHJvbHMvQ29sdW1uQ29uZmlnQ29udHJvbC9Db250cm9sRm9ybS9pbmRleC50c3giLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiAqIExpY2Vuc2VkIHRvIHRoZSBBcGFjaGUgU29mdHdhcmUgRm91bmRhdGlvbiAoQVNGKSB1bmRlciBvbmVcbiAqIG9yIG1vcmUgY29udHJpYnV0b3IgbGljZW5zZSBhZ3JlZW1lbnRzLiAgU2VlIHRoZSBOT1RJQ0UgZmlsZVxuICogZGlzdHJpYnV0ZWQgd2l0aCB0aGlzIHdvcmsgZm9yIGFkZGl0aW9uYWwgaW5mb3JtYXRpb25cbiAqIHJlZ2FyZGluZyBjb3B5cmlnaHQgb3duZXJzaGlwLiAgVGhlIEFTRiBsaWNlbnNlcyB0aGlzIGZpbGVcbiAqIHRvIHlvdSB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGVcbiAqIFwiTGljZW5zZVwiKTsgeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZVxuICogd2l0aCB0aGUgTGljZW5zZS4gIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLFxuICogc29mdHdhcmUgZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW5cbiAqIFwiQVMgSVNcIiBCQVNJUywgV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZXG4gKiBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLiAgU2VlIHRoZSBMaWNlbnNlIGZvciB0aGVcbiAqIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQgbGltaXRhdGlvbnNcbiAqIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG5pbXBvcnQgUmVhY3QsIHsgdXNlTWVtbyB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IEZBU1RfREVCT1VOQ0UsIHVzZVRoZW1lLCB9IGZyb20gJ0BzdXBlcnNldC11aS9jb3JlJztcbmltcG9ydCB7IGRlYm91bmNlIH0gZnJvbSAnbG9kYXNoJztcbmV4cG9ydCAqIGZyb20gJy4vQ29udHJvbEZvcm1JdGVtJztcbmV4cG9ydCBmdW5jdGlvbiBDb250cm9sRm9ybVJvdyh7IGNoaWxkcmVuIH0pIHtcbiAgICBjb25zdCB7IGdyaWRVbml0IH0gPSB1c2VUaGVtZSgpO1xuICAgIHJldHVybiAoPGRpdiBjc3M9e3tcbiAgICAgICAgICAgIGRpc3BsYXk6ICdmbGV4JyxcbiAgICAgICAgICAgIGZsZXhXcmFwOiAnbm93cmFwJyxcbiAgICAgICAgICAgIG1hcmdpbkJvdHRvbTogZ3JpZFVuaXQsXG4gICAgICAgICAgICBtYXhXaWR0aDogJzEwMCUnLFxuICAgICAgICB9fT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L2Rpdj4pO1xufVxuLyoqXG4gKiBMaWdodCB3ZWlnaHQgZm9ybSBmb3IgY29udHJvbCBwYW5lbC5cbiAqL1xuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gQ29udHJvbEZvcm0oeyBvbkNoYW5nZSwgdmFsdWUsIGNoaWxkcmVuLCB9KSB7XG4gICAgY29uc3QgdGhlbWUgPSB1c2VUaGVtZSgpO1xuICAgIGNvbnN0IGRlYm91bmNlZE9uQ2hhbmdlID0gdXNlTWVtbygoKSA9PiAoe1xuICAgICAgICAwOiBvbkNoYW5nZSxcbiAgICAgICAgW0ZBU1RfREVCT1VOQ0VdOiBkZWJvdW5jZShvbkNoYW5nZSwgRkFTVF9ERUJPVU5DRSksXG4gICAgfSksIFtvbkNoYW5nZV0pO1xuICAgIGNvbnN0IHVwZGF0ZWRDaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLm1hcChjaGlsZHJlbiwgcm93ID0+IHtcbiAgICAgICAgaWYgKCdjaGlsZHJlbicgaW4gcm93LnByb3BzKSB7XG4gICAgICAgICAgICBjb25zdCBkZWZhdWx0V2lkdGggPSBBcnJheS5pc0FycmF5KHJvdy5wcm9wcy5jaGlsZHJlbilcbiAgICAgICAgICAgICAgICA/IGAkezEwMCAvIHJvdy5wcm9wcy5jaGlsZHJlbi5sZW5ndGh9JWBcbiAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHJldHVybiBSZWFjdC5jbG9uZUVsZW1lbnQocm93LCB7XG4gICAgICAgICAgICAgICAgY2hpbGRyZW46IFJlYWN0LkNoaWxkcmVuLm1hcChyb3cucHJvcHMuY2hpbGRyZW4sIGl0ZW0gPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IG5hbWUsIHdpZHRoLCBkZWJvdW5jZURlbGF5ID0gRkFTVF9ERUJPVU5DRSwgb25DaGFuZ2U6IG9uSXRlbVZhbHVlQ2hhbmdlLCB9ID0gaXRlbS5wcm9wcztcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFJlYWN0LmNsb25lRWxlbWVudChpdGVtLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aWR0aDogd2lkdGggfHwgZGVmYXVsdFdpZHRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlPy5bbmFtZV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyByZW1vdmUgYGRlYm91bmNlRGVsYXlgIGZyb20gcmVuZGVyZWQgY29udHJvbCBpdGVtIHByb3BzXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBzbyBSZWFjdCBEZXZUb29scyBkb24ndCB0aHJvdyBhIGBpbnZhbGlkIHByb3BgIHdhcm5pbmcuXG4gICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZURlbGF5OiB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZShmaWVsZFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FsbCBgb25DaGFuZ2VgIG9uIGVhY2ggRm9ybUl0ZW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob25JdGVtVmFsdWVDaGFuZ2UpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25JdGVtVmFsdWVDaGFuZ2UoZmllbGRWYWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByb3BhZ2F0ZSB0byB0aGUgZm9ybVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKGRlYm91bmNlRGVsYXkgaW4gZGVib3VuY2VkT25DaGFuZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlYm91bmNlZE9uQ2hhbmdlW2RlYm91bmNlRGVsYXldID0gZGVib3VuY2Uob25DaGFuZ2UsIGRlYm91bmNlRGVsYXkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWJvdW5jZWRPbkNoYW5nZVtkZWJvdW5jZURlbGF5XSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbbmFtZV06IGZpZWxkVmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByb3c7XG4gICAgfSk7XG4gICAgcmV0dXJuICg8ZGl2IGNzcz17e1xuICAgICAgICAgICAgbGFiZWw6IHtcbiAgICAgICAgICAgICAgICB0ZXh0VHJhbnNmb3JtOiAndXBwZXJjYXNlJyxcbiAgICAgICAgICAgICAgICBjb2xvcjogdGhlbWUuY29sb3JzLnRleHQubGFiZWwsXG4gICAgICAgICAgICAgICAgZm9udFNpemU6IHRoZW1lLnR5cG9ncmFwaHkuc2l6ZXMucyxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH19PlxuICAgICAge3VwZGF0ZWRDaGlsZHJlbn1cbiAgICA8L2Rpdj4pO1xufVxuIl19 */\") },\n  updatedChildren\n  );\n}__signature__(ControlForm, \"useTheme{theme}\\nuseMemo{debouncedOnChange}\", () => [useTheme]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(ControlFormRow, \"ControlFormRow\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ColumnConfigControl/ControlForm/index.tsx\");reactHotLoader.register(ControlForm, \"ControlForm\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ColumnConfigControl/ControlForm/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useMemo","FAST_DEBOUNCE","useTheme","jsx","___EmotionJSX","ControlFormRow","children","gridUnit","css","_css","display","flexWrap","marginBottom","maxWidth","process","env","NODE_ENV","__signature__","ControlForm","onChange","value","theme","debouncedOnChange","_debounce","updatedChildren","Children","map","row","props","defaultWidth","Array","isArray","length","undefined","cloneElement","item","name","width","debounceDelay","onItemValueChange","fieldValue","label","textTransform","color","colors","text","fontSize","typography","sizes","s","reactHotLoader","reactHotLoaderGlobal","default","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/explore/components/controls/ColumnConfigControl/ControlForm/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { FunctionComponentElement, useMemo } from 'react';\nimport {\n  FAST_DEBOUNCE,\n  JsonObject,\n  JsonValue,\n  useTheme,\n} from '@superset-ui/core';\nimport { debounce } from 'lodash';\nimport { ControlFormItemNode } from './ControlFormItem';\n\nexport * from './ControlFormItem';\n\nexport type ControlFormRowProps = {\n  children: ControlFormItemNode | ControlFormItemNode[];\n};\n\nexport function ControlFormRow({ children }: ControlFormRowProps) {\n  const { gridUnit } = useTheme();\n  return (\n    <div\n      css={{\n        display: 'flex',\n        flexWrap: 'nowrap',\n        marginBottom: gridUnit,\n        maxWidth: '100%',\n      }}\n    >\n      {children}\n    </div>\n  );\n}\n\ntype ControlFormRowNode = FunctionComponentElement<ControlFormRowProps>;\n\nexport type ControlFormProps = {\n  /**\n   * Form field values dict.\n   */\n  value?: JsonObject;\n  onChange: (value: JsonObject) => void;\n  children: ControlFormRowNode | ControlFormRowNode[];\n};\n\n/**\n * Light weight form for control panel.\n */\nexport default function ControlForm({\n  onChange,\n  value,\n  children,\n}: ControlFormProps) {\n  const theme = useTheme();\n  const debouncedOnChange = useMemo(\n    () =>\n      ({\n        0: onChange,\n        [FAST_DEBOUNCE]: debounce(onChange, FAST_DEBOUNCE),\n      }) as Record<number, typeof onChange>,\n    [onChange],\n  );\n\n  const updatedChildren = React.Children.map(children, row => {\n    if ('children' in row.props) {\n      const defaultWidth = Array.isArray(row.props.children)\n        ? `${100 / row.props.children.length}%`\n        : undefined;\n      return React.cloneElement(row, {\n        children: React.Children.map(row.props.children, item => {\n          const {\n            name,\n            width,\n            debounceDelay = FAST_DEBOUNCE,\n            onChange: onItemValueChange,\n          } = item.props;\n          return React.cloneElement(item, {\n            width: width || defaultWidth,\n            value: value?.[name],\n            // remove `debounceDelay` from rendered control item props\n            // so React DevTools don't throw a `invalid prop` warning.\n            debounceDelay: undefined,\n            onChange(fieldValue: JsonValue) {\n              // call `onChange` on each FormItem\n              if (onItemValueChange) {\n                onItemValueChange(fieldValue);\n              }\n              // propagate to the form\n              if (!(debounceDelay in debouncedOnChange)) {\n                debouncedOnChange[debounceDelay] = debounce(\n                  onChange,\n                  debounceDelay,\n                );\n              }\n              debouncedOnChange[debounceDelay]({\n                ...value,\n                [name]: fieldValue,\n              });\n            },\n          });\n        }),\n      });\n    }\n    return row;\n  });\n  return (\n    <div\n      css={{\n        label: {\n          textTransform: 'uppercase',\n          color: theme.colors.text.label,\n          fontSize: theme.typography.sizes.s,\n        },\n      }}\n    >\n      {updatedChildren}\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}