{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable react/sort-prop-types */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Histogram, BarSeries, XAxis, YAxis } from '@data-ui/histogram';\nimport { chartTheme } from '@data-ui/theme';\nimport { LegendOrdinal } from '@vx/legend';\nimport { scaleOrdinal } from '@vx/scale';\nimport { CategoricalColorNamespace, styled, t } from '@superset-ui/core';\nimport WithLegend from './WithLegend';import { jsx as ___EmotionJSX } from \"@emotion/react\";\n\nconst propTypes = {\n  className: PropTypes.string,\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      key: PropTypes.string,\n      values: PropTypes.arrayOf(PropTypes.number)\n    })\n  ).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  colorScheme: PropTypes.string,\n  normalized: PropTypes.bool,\n  cumulative: PropTypes.bool,\n  binCount: PropTypes.number,\n  opacity: PropTypes.number,\n  xAxisLabel: PropTypes.string,\n  yAxisLabel: PropTypes.string,\n  showLegend: PropTypes.bool\n};\nconst defaultProps = {\n  binCount: 15,\n  className: '',\n  colorScheme: '',\n  normalized: false,\n  cumulative: false,\n  opacity: 1,\n  xAxisLabel: '',\n  yAxisLabel: ''\n};\n\nclass CustomHistogram extends React.PureComponent {\n  render() {\n    const {\n      className,\n      data,\n      width,\n      height,\n      binCount,\n      colorScheme,\n      normalized,\n      cumulative,\n      opacity,\n      xAxisLabel,\n      yAxisLabel,\n      showLegend,\n      sliceId\n    } = this.props;\n\n    const colorFn = CategoricalColorNamespace.getScale(colorScheme);\n    const keys = data.map((d) => d.key);\n    const colorScale = scaleOrdinal({\n      domain: keys,\n      range: keys.map((x) => colorFn(x, sliceId))\n    });\n\n    return (\n      ___EmotionJSX(WithLegend, {\n        className: `superset-legacy-chart-histogram ${className}`,\n        width: width,\n        height: height,\n        position: \"top\",\n        renderLegend: ({ direction, style }) =>\n        showLegend &&\n        ___EmotionJSX(LegendOrdinal, {\n          style: style,\n          scale: colorScale,\n          direction: direction,\n          shape: \"rect\",\n          labelMargin: \"0 15px 0 0\" }\n        ),\n\n\n        renderChart: (parent) =>\n        ___EmotionJSX(Histogram, {\n          width: parent.width,\n          height: parent.height,\n          ariaLabel: \"Histogram\",\n          normalized: normalized,\n          cumulative: cumulative,\n          binCount: binCount,\n          binType: \"numeric\",\n          margin: { top: 20, right: 20 },\n          renderTooltip: ({ datum, color }) =>\n          ___EmotionJSX(\"div\", null,\n          ___EmotionJSX(\"strong\", { style: { color } },\n          datum.bin0, \" \", t('to'), \" \", datum.bin1\n          ),\n          ___EmotionJSX(\"div\", null,\n          ___EmotionJSX(\"strong\", null, t('count'), \" \"),\n          datum.count\n          ),\n          ___EmotionJSX(\"div\", null,\n          ___EmotionJSX(\"strong\", null, t('cumulative'), \" \"),\n          datum.cumulative\n          ),\n          ___EmotionJSX(\"div\", null,\n          ___EmotionJSX(\"strong\", null, t('percentile (exclusive)'), \" \"),\n          `${(\n          (datum.cumulativeDensity - datum.density) *\n          100).\n          toPrecision(4)}th`\n          )\n          ),\n\n          valueAccessor: (datum) => datum,\n          theme: chartTheme },\n\n        data.map((series) =>\n        ___EmotionJSX(BarSeries, {\n          key: series.key,\n          animated: true,\n          rawData: series.values,\n          fill: colorScale(series.key),\n          fillOpacity: opacity }\n        )\n        ),\n        ___EmotionJSX(XAxis, { label: xAxisLabel }),\n        ___EmotionJSX(YAxis, { label: yAxisLabel })\n        ) }\n\n      ));\n\n  } // @ts-ignore\n  __reactstandin__regenerateByEval(key, code) {// @ts-ignore\n    this[key] = eval(code);}}\nCustomHistogram.propTypes = propTypes;\nCustomHistogram.defaultProps = defaultProps;const _default =\n\nstyled(CustomHistogram)`\n  .superset-legacy-chart-histogram {\n    overflow: hidden;\n  }\n`;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(propTypes, \"propTypes\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-histogram/src/Histogram.jsx\");reactHotLoader.register(defaultProps, \"defaultProps\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-histogram/src/Histogram.jsx\");reactHotLoader.register(CustomHistogram, \"CustomHistogram\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-histogram/src/Histogram.jsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-histogram/src/Histogram.jsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["PropTypes","React","Histogram","BarSeries","XAxis","YAxis","chartTheme","LegendOrdinal","scaleOrdinal","CategoricalColorNamespace","styled","t","WithLegend","jsx","___EmotionJSX","propTypes","className","string","data","arrayOf","shape","key","values","number","isRequired","width","height","colorScheme","normalized","bool","cumulative","binCount","opacity","xAxisLabel","yAxisLabel","showLegend","defaultProps","CustomHistogram","PureComponent","render","sliceId","props","colorFn","getScale","keys","map","d","colorScale","domain","range","x","position","renderLegend","direction","style","scale","labelMargin","renderChart","parent","ariaLabel","binType","margin","top","right","renderTooltip","datum","color","bin0","bin1","count","cumulativeDensity","density","toPrecision","valueAccessor","theme","series","animated","rawData","fill","fillOpacity","label","__reactstandin__regenerateByEval","code","eval","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/plugins/legacy-plugin-chart-histogram/src/Histogram.jsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n/* eslint-disable react/sort-prop-types */\nimport PropTypes from 'prop-types';\nimport React from 'react';\nimport { Histogram, BarSeries, XAxis, YAxis } from '@data-ui/histogram';\nimport { chartTheme } from '@data-ui/theme';\nimport { LegendOrdinal } from '@vx/legend';\nimport { scaleOrdinal } from '@vx/scale';\nimport { CategoricalColorNamespace, styled, t } from '@superset-ui/core';\nimport WithLegend from './WithLegend';\n\nconst propTypes = {\n  className: PropTypes.string,\n  data: PropTypes.arrayOf(\n    PropTypes.shape({\n      key: PropTypes.string,\n      values: PropTypes.arrayOf(PropTypes.number),\n    }),\n  ).isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  colorScheme: PropTypes.string,\n  normalized: PropTypes.bool,\n  cumulative: PropTypes.bool,\n  binCount: PropTypes.number,\n  opacity: PropTypes.number,\n  xAxisLabel: PropTypes.string,\n  yAxisLabel: PropTypes.string,\n  showLegend: PropTypes.bool,\n};\nconst defaultProps = {\n  binCount: 15,\n  className: '',\n  colorScheme: '',\n  normalized: false,\n  cumulative: false,\n  opacity: 1,\n  xAxisLabel: '',\n  yAxisLabel: '',\n};\n\nclass CustomHistogram extends React.PureComponent {\n  render() {\n    const {\n      className,\n      data,\n      width,\n      height,\n      binCount,\n      colorScheme,\n      normalized,\n      cumulative,\n      opacity,\n      xAxisLabel,\n      yAxisLabel,\n      showLegend,\n      sliceId,\n    } = this.props;\n\n    const colorFn = CategoricalColorNamespace.getScale(colorScheme);\n    const keys = data.map(d => d.key);\n    const colorScale = scaleOrdinal({\n      domain: keys,\n      range: keys.map(x => colorFn(x, sliceId)),\n    });\n\n    return (\n      <WithLegend\n        className={`superset-legacy-chart-histogram ${className}`}\n        width={width}\n        height={height}\n        position=\"top\"\n        renderLegend={({ direction, style }) =>\n          showLegend && (\n            <LegendOrdinal\n              style={style}\n              scale={colorScale}\n              direction={direction}\n              shape=\"rect\"\n              labelMargin=\"0 15px 0 0\"\n            />\n          )\n        }\n        renderChart={parent => (\n          <Histogram\n            width={parent.width}\n            height={parent.height}\n            ariaLabel=\"Histogram\"\n            normalized={normalized}\n            cumulative={cumulative}\n            binCount={binCount}\n            binType=\"numeric\"\n            margin={{ top: 20, right: 20 }}\n            renderTooltip={({ datum, color }) => (\n              <div>\n                <strong style={{ color }}>\n                  {datum.bin0} {t('to')} {datum.bin1}\n                </strong>\n                <div>\n                  <strong>{t('count')} </strong>\n                  {datum.count}\n                </div>\n                <div>\n                  <strong>{t('cumulative')} </strong>\n                  {datum.cumulative}\n                </div>\n                <div>\n                  <strong>{t('percentile (exclusive)')} </strong>\n                  {`${(\n                    (datum.cumulativeDensity - datum.density) *\n                    100\n                  ).toPrecision(4)}th`}\n                </div>\n              </div>\n            )}\n            valueAccessor={datum => datum}\n            theme={chartTheme}\n          >\n            {data.map(series => (\n              <BarSeries\n                key={series.key}\n                animated\n                rawData={series.values}\n                fill={colorScale(series.key)}\n                fillOpacity={opacity}\n              />\n            ))}\n            <XAxis label={xAxisLabel} />\n            <YAxis label={yAxisLabel} />\n          </Histogram>\n        )}\n      />\n    );\n  }\n}\n\nCustomHistogram.propTypes = propTypes;\nCustomHistogram.defaultProps = defaultProps;\n\nexport default styled(CustomHistogram)`\n  .superset-legacy-chart-histogram {\n    overflow: hidden;\n  }\n`;\n"],"mappings":"wSAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAOA,SAAS,MAAM,YAAY;AAClC,OAAOC,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,SAAS,EAAEC,KAAK,EAAEC,KAAK,QAAQ,oBAAoB;AACvE,SAASC,UAAU,QAAQ,gBAAgB;AAC3C,SAASC,aAAa,QAAQ,YAAY;AAC1C,SAASC,YAAY,QAAQ,WAAW;AACxC,SAASC,yBAAyB,EAAEC,MAAM,EAAEC,CAAC,QAAQ,mBAAmB;AACxE,OAAOC,UAAU,MAAM,cAAc,CAAC,SAAAC,GAAA,IAAAC,aAAA;;AAEtC,MAAMC,SAAS,GAAG;EAChBC,SAAS,EAAEhB,SAAS,CAACiB,MAAM;EAC3BC,IAAI,EAAElB,SAAS,CAACmB,OAAO;IACrBnB,SAAS,CAACoB,KAAK,CAAC;MACdC,GAAG,EAAErB,SAAS,CAACiB,MAAM;MACrBK,MAAM,EAAEtB,SAAS,CAACmB,OAAO,CAACnB,SAAS,CAACuB,MAAM;IAC5C,CAAC;EACH,CAAC,CAACC,UAAU;EACZC,KAAK,EAAEzB,SAAS,CAACuB,MAAM,CAACC,UAAU;EAClCE,MAAM,EAAE1B,SAAS,CAACuB,MAAM,CAACC,UAAU;EACnCG,WAAW,EAAE3B,SAAS,CAACiB,MAAM;EAC7BW,UAAU,EAAE5B,SAAS,CAAC6B,IAAI;EAC1BC,UAAU,EAAE9B,SAAS,CAAC6B,IAAI;EAC1BE,QAAQ,EAAE/B,SAAS,CAACuB,MAAM;EAC1BS,OAAO,EAAEhC,SAAS,CAACuB,MAAM;EACzBU,UAAU,EAAEjC,SAAS,CAACiB,MAAM;EAC5BiB,UAAU,EAAElC,SAAS,CAACiB,MAAM;EAC5BkB,UAAU,EAAEnC,SAAS,CAAC6B;AACxB,CAAC;AACD,MAAMO,YAAY,GAAG;EACnBL,QAAQ,EAAE,EAAE;EACZf,SAAS,EAAE,EAAE;EACbW,WAAW,EAAE,EAAE;EACfC,UAAU,EAAE,KAAK;EACjBE,UAAU,EAAE,KAAK;EACjBE,OAAO,EAAE,CAAC;EACVC,UAAU,EAAE,EAAE;EACdC,UAAU,EAAE;AACd,CAAC;;AAED,MAAMG,eAAe,SAASpC,KAAK,CAACqC,aAAa,CAAC;EAChDC,MAAMA,CAAA,EAAG;IACP,MAAM;MACJvB,SAAS;MACTE,IAAI;MACJO,KAAK;MACLC,MAAM;MACNK,QAAQ;MACRJ,WAAW;MACXC,UAAU;MACVE,UAAU;MACVE,OAAO;MACPC,UAAU;MACVC,UAAU;MACVC,UAAU;MACVK;IACF,CAAC,GAAG,IAAI,CAACC,KAAK;;IAEd,MAAMC,OAAO,GAAGjC,yBAAyB,CAACkC,QAAQ,CAAChB,WAAW,CAAC;IAC/D,MAAMiB,IAAI,GAAG1B,IAAI,CAAC2B,GAAG,CAAC,CAAAC,CAAC,KAAIA,CAAC,CAACzB,GAAG,CAAC;IACjC,MAAM0B,UAAU,GAAGvC,YAAY,CAAC;MAC9BwC,MAAM,EAAEJ,IAAI;MACZK,KAAK,EAAEL,IAAI,CAACC,GAAG,CAAC,CAAAK,CAAC,KAAIR,OAAO,CAACQ,CAAC,EAAEV,OAAO,CAAC;IAC1C,CAAC,CAAC;;IAEF;MACE1B,aAAA,CAACF,UAAU;QACTI,SAAS,EAAG,mCAAkCA,SAAU,EAAE;QAC1DS,KAAK,EAAEA,KAAM;QACbC,MAAM,EAAEA,MAAO;QACfyB,QAAQ,EAAC,KAAK;QACdC,YAAY,EAAEA,CAAC,EAAEC,SAAS,EAAEC,KAAK,CAAC,CAAC;QACjCnB,UAAU;QACRrB,aAAA,CAACP,aAAa;UACZ+C,KAAK,EAAEA,KAAM;UACbC,KAAK,EAAER,UAAW;UAClBM,SAAS,EAAEA,SAAU;UACrBjC,KAAK,EAAC,MAAM;UACZoC,WAAW,EAAC,YAAY;QACzB,CAEJ;;;QACDC,WAAW,EAAEA,CAAAC,MAAM;QACjB5C,aAAA,CAACZ,SAAS;UACRuB,KAAK,EAAEiC,MAAM,CAACjC,KAAM;UACpBC,MAAM,EAAEgC,MAAM,CAAChC,MAAO;UACtBiC,SAAS,EAAC,WAAW;UACrB/B,UAAU,EAAEA,UAAW;UACvBE,UAAU,EAAEA,UAAW;UACvBC,QAAQ,EAAEA,QAAS;UACnB6B,OAAO,EAAC,SAAS;UACjBC,MAAM,EAAE,EAAEC,GAAG,EAAE,EAAE,EAAEC,KAAK,EAAE,EAAE,CAAC,CAAE;UAC/BC,aAAa,EAAEA,CAAC,EAAEC,KAAK,EAAEC,KAAK,CAAC,CAAC;UAC9BpD,aAAA;UACEA,aAAA,aAAQwC,KAAK,EAAE,EAAEY,KAAK,CAAC,CAAE;UACtBD,KAAK,CAACE,IAAI,EAAC,GAAC,EAACxD,CAAC,CAAC,IAAI,CAAC,EAAC,GAAC,EAACsD,KAAK,CAACG;UACxB,CAAC;UACTtD,aAAA;UACEA,aAAA,iBAASH,CAAC,CAAC,OAAO,CAAC,EAAC,GAAS,CAAC;UAC7BsD,KAAK,CAACI;UACJ,CAAC;UACNvD,aAAA;UACEA,aAAA,iBAASH,CAAC,CAAC,YAAY,CAAC,EAAC,GAAS,CAAC;UAClCsD,KAAK,CAACnC;UACJ,CAAC;UACNhB,aAAA;UACEA,aAAA,iBAASH,CAAC,CAAC,wBAAwB,CAAC,EAAC,GAAS,CAAC;UAC7C,GAAE;UACF,CAACsD,KAAK,CAACK,iBAAiB,GAAGL,KAAK,CAACM,OAAO;UACxC,GAAG;UACHC,WAAW,CAAC,CAAC,CAAE;UACd;UACF,CACL;;UACFC,aAAa,EAAEA,CAAAR,KAAK,KAAIA,KAAM;UAC9BS,KAAK,EAAEpE,UAAW;;QAEjBY,IAAI,CAAC2B,GAAG,CAAC,CAAA8B,MAAM;QACd7D,aAAA,CAACX,SAAS;UACRkB,GAAG,EAAEsD,MAAM,CAACtD,GAAI;UAChBuD,QAAQ;UACRC,OAAO,EAAEF,MAAM,CAACrD,MAAO;UACvBwD,IAAI,EAAE/B,UAAU,CAAC4B,MAAM,CAACtD,GAAG,CAAE;UAC7B0D,WAAW,EAAE/C,OAAQ;QACtB;QACF,CAAC;QACFlB,aAAA,CAACV,KAAK,IAAC4E,KAAK,EAAE/C,UAAW,EAAE,CAAC;QAC5BnB,aAAA,CAACT,KAAK,IAAC2E,KAAK,EAAE9C,UAAW,EAAE;QAClB,CACX;;MACH,CAAC;;EAEN,CAAC;EAAA+C,iCAAA5D,GAAA,EAAA6D,IAAA;IAAA,KAAA7D,GAAA,IAAA8D,IAAA,CAAAD,IAAA,GACH;AAEA7C,eAAe,CAACtB,SAAS,GAAGA,SAAS;AACrCsB,eAAe,CAACD,YAAY,GAAGA,YAAY,CAAC,MAAAgD,QAAA;;AAE7B1E,MAAM,CAAC2B,eAAe,CAAE;AACvC;AACA;AACA;AACA,CAAC,CAJD,eAAA+C,QAAA,CAIE,mBAAAC,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CApII1E,SAAS,iIAAAsE,cAAA,CAAAI,QAAA,CAmBTrD,YAAY,oIAAAiD,cAAA,CAAAI,QAAA,CAWZpD,eAAe,uIAAAgD,cAAA,CAAAI,QAAA,CAAAL,QAAA,uJAAAM,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}