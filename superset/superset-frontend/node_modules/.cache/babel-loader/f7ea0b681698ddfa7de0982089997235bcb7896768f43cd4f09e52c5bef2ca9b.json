{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo } from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport { ensureIsArray } from '@superset-ui/core';\nimport { mergeExtraFormData } from '../../utils';\n// eslint-disable-next-line import/prefer-default-export\nexport function useFilterDependencies(id, dataMaskSelected) {\n  const dependencyIds = useSelector((state) => {var _state$nativeFilters$;return (_state$nativeFilters$ = state.nativeFilters.filters[id]) == null ? void 0 : _state$nativeFilters$.cascadeParentIds;}, shallowEqual);\n  return useMemo(() => {\n    let dependencies = {};\n    ensureIsArray(dependencyIds).forEach((parentId) => {\n      const parentState = dataMaskSelected == null ? void 0 : dataMaskSelected[parentId];\n      dependencies = mergeExtraFormData(dependencies, parentState == null ? void 0 : parentState.extraFormData);\n    });\n    return dependencies;\n  }, [dataMaskSelected, dependencyIds]);\n}__signature__(useFilterDependencies, \"useSelector{dependencyIds}\\nuseMemo{}\", () => [useSelector]);;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(useFilterDependencies, \"useFilterDependencies\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/state.ts\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["useMemo","shallowEqual","useSelector","ensureIsArray","mergeExtraFormData","useFilterDependencies","id","dataMaskSelected","dependencyIds","state","_state$nativeFilters$","nativeFilters","filters","cascadeParentIds","dependencies","forEach","parentId","parentState","extraFormData","__signature__","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterControls/state.ts"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport { useMemo } from 'react';\nimport { shallowEqual, useSelector } from 'react-redux';\nimport {\n  DataMaskStateWithId,\n  ensureIsArray,\n  ExtraFormData,\n} from '@superset-ui/core';\nimport { mergeExtraFormData } from '../../utils';\n\n// eslint-disable-next-line import/prefer-default-export\nexport function useFilterDependencies(\n  id: string,\n  dataMaskSelected?: DataMaskStateWithId,\n): ExtraFormData {\n  const dependencyIds = useSelector<any, string[] | undefined>(\n    state => state.nativeFilters.filters[id]?.cascadeParentIds,\n    shallowEqual,\n  );\n  return useMemo(() => {\n    let dependencies = {};\n    ensureIsArray(dependencyIds).forEach(parentId => {\n      const parentState = dataMaskSelected?.[parentId];\n      dependencies = mergeExtraFormData(\n        dependencies,\n        parentState?.extraFormData,\n      );\n    });\n    return dependencies;\n  }, [dataMaskSelected, dependencyIds]);\n}\n"],"mappings":"wSAAA;;;;;;;;;;;;;;;;;;AAkBA,SAASA,OAAO,QAAQ,OAAO;AAC/B,SAASC,YAAY,EAAEC,WAAW,QAAQ,aAAa;AACvD,SAEEC,aAAa,QAER,mBAAmB;AAC1B,SAASC,kBAAkB,QAAQ,aAAa;AAEhD;AACA,OAAM,SAAUC,qBAAqBA,CACnCC,EAAU,EACVC,gBAAsC;EAEtC,MAAMC,aAAa,GAAGN,WAAW,CAC/B,CAAAO,KAAK,UAAAC,qBAAA,SAAAA,qBAAA,GAAID,KAAK,CAACE,aAAa,CAACC,OAAO,CAACN,EAAE,CAAC,qBAA/BI,qBAAA,CAAiCG,gBAAgB,IAC1DZ,YAAY,CACb;EACD,OAAOD,OAAO,CAAC,MAAK;IAClB,IAAIc,YAAY,GAAG,EAAE;IACrBX,aAAa,CAACK,aAAa,CAAC,CAACO,OAAO,CAAC,CAAAC,QAAQ,KAAG;MAC9C,MAAMC,WAAW,GAAGV,gBAAgB,oBAAhBA,gBAAgB,CAAGS,QAAQ,CAAC;MAChDF,YAAY,GAAGV,kBAAkB,CAC/BU,YAAY,EACZG,WAAW,oBAAXA,WAAW,CAAEC,aAAa,CAC3B;IACH,CAAC,CAAC;IACF,OAAOJ,YAAY;EACrB,CAAC,EAAE,CAACP,gBAAgB,EAAEC,aAAa,CAAC,CAAC;AACvC,CAACW,aAAA,CAnBed,qBAAqB,kDAIbH,WAAW,sBAAAkB,cAAA,UAAAC,oBAAA,mBAAAA,oBAAA,CAAAC,OAAA,GAAAC,SAAA,MAAAH,cAAA,WAAAA,cAAA,CAAAI,QAAA,CAJnBnB,qBAAqB,sLAAAoB,WAAA,UAAAJ,oBAAA,mBAAAA,oBAAA,CAAAI,WAAA,GAAAF,SAAA,CAAAE,WAAA,IAAAA,WAAA,CAAAC,MAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}