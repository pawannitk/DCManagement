{"ast":null,"code":"(function () {var enterModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.enterModule : undefined;enterModule && enterModule(module);})();var __signature__ = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default.signature : function (a) {return a;}; /**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FeatureFlag, isFeatureEnabled, styled, t, useTheme } from '@superset-ui/core';\nimport { FilterBarOrientation } from 'src/dashboard/types';\nimport { saveFilterBarOrientation, saveCrossFiltersSetting } from 'src/dashboard/actions/dashboardInfo';\nimport Icons from 'src/components/Icons';\nimport DropdownSelectableIcon from 'src/components/DropdownSelectableIcon';\nimport Checkbox from 'src/components/Checkbox';\nimport { clearDataMaskState } from 'src/dataMask/actions';\nimport { useCrossFiltersScopingModal } from '../CrossFilters/ScopingModal/useCrossFiltersScopingModal';import { jsx as ___EmotionJSX } from \"@emotion/react\";\nconst StyledMenuLabel = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  .enable-cross-filters-text {\n    padding-left: ${({ theme }) => `${theme.gridUnit * 2}px`};\n  }\n`;\nconst StyledCheckbox = styled(Checkbox)`\n  ${({ theme }) => `\n  &,\n  svg {\n    display: inline-block;\n    width: ${theme.gridUnit * 4}px;\n    height: ${theme.gridUnit * 4}px;\n  }\n`}\n`;\nconst CROSS_FILTERS_MENU_KEY = 'cross-filters-menu-key';\nconst CROSS_FILTERS_SCOPING_MENU_KEY = 'cross-filters-scoping-menu-key';\nconst isOrientation = (o) => o === FilterBarOrientation.Vertical || o === FilterBarOrientation.Horizontal;\nconst FilterBarSettings = () => {\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const isCrossFiltersEnabled = useSelector(({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled);\n  const filterBarOrientation = useSelector(({ dashboardInfo }) => dashboardInfo.filterBarOrientation);\n  const [selectedFilterBarOrientation, setSelectedFilterBarOrientation] = useState(filterBarOrientation);\n  const isCrossFiltersFeatureEnabled = isFeatureEnabled(FeatureFlag.DashboardCrossFilters);\n  const shouldEnableCrossFilters = isCrossFiltersEnabled && isCrossFiltersFeatureEnabled;\n  const [crossFiltersEnabled, setCrossFiltersEnabled] = useState(shouldEnableCrossFilters);\n  const canEdit = useSelector(({ dashboardInfo }) => dashboardInfo.dash_edit_perm);\n  const canSetHorizontalFilterBar = canEdit && isFeatureEnabled(FeatureFlag.HorizontalFilterBar);\n  const [openScopingModal, scopingModal] = useCrossFiltersScopingModal();\n  const updateCrossFiltersSetting = useCallback(async (isEnabled) => {\n    if (!isEnabled) {\n      dispatch(clearDataMaskState());\n    }\n    await dispatch(saveCrossFiltersSetting(isEnabled));\n  }, [dispatch]);\n  const toggleCrossFiltering = useCallback(() => {\n    setCrossFiltersEnabled(!crossFiltersEnabled);\n    updateCrossFiltersSetting(!crossFiltersEnabled);\n  }, [crossFiltersEnabled, updateCrossFiltersSetting]);\n  const toggleFilterBarOrientation = useCallback(async (orientation) => {\n    if (orientation === filterBarOrientation) {\n      return;\n    }\n    // set displayed selection in local state for immediate visual response after clicking\n    setSelectedFilterBarOrientation(orientation);\n    try {\n      // save selection in Redux and backend\n      await dispatch(saveFilterBarOrientation(orientation));\n    }\n    catch {\n      // revert local state in case of error when saving\n      setSelectedFilterBarOrientation(filterBarOrientation);\n    }\n  }, [dispatch, filterBarOrientation]);\n  const handleSelect = useCallback((selection) => {\n    const selectedKey = selection.key;\n    if (selectedKey === CROSS_FILTERS_MENU_KEY) {\n      toggleCrossFiltering();\n    } else\n    if (isOrientation(selectedKey)) {\n      toggleFilterBarOrientation(selectedKey);\n    } else\n    if (selectedKey === CROSS_FILTERS_SCOPING_MENU_KEY) {\n      openScopingModal();\n    }\n  }, [openScopingModal, toggleCrossFiltering, toggleFilterBarOrientation]);\n  const crossFiltersMenuItem = useMemo(() => ___EmotionJSX(StyledMenuLabel, null,\n  ___EmotionJSX(StyledCheckbox, { className: \"enable-cross-filters\", checked: crossFiltersEnabled, onChange: (checked) => setCrossFiltersEnabled(checked || false) }), ' ',\n  ___EmotionJSX(\"span\", { className: \"enable-cross-filters-text\" },\n  t('Enable cross-filtering')\n  )\n  ), [crossFiltersEnabled]);\n  const menuItems = useMemo(() => {\n    const items = [];\n    if (isCrossFiltersFeatureEnabled && canEdit) {\n      items.push({\n        key: CROSS_FILTERS_MENU_KEY,\n        label: crossFiltersMenuItem\n      });\n      items.push({\n        key: CROSS_FILTERS_SCOPING_MENU_KEY,\n        label: t('Cross-filtering scoping'),\n        divider: canSetHorizontalFilterBar\n      });\n    }\n    if (canSetHorizontalFilterBar) {\n      items.push({\n        key: 'placement',\n        label: t('Orientation of filter bar'),\n        children: [\n        {\n          key: FilterBarOrientation.Vertical,\n          label: t('Vertical (Left)')\n        },\n        {\n          key: FilterBarOrientation.Horizontal,\n          label: t('Horizontal (Top)')\n        }]\n\n      });\n    }\n    return items;\n  }, [\n  canEdit,\n  canSetHorizontalFilterBar,\n  crossFiltersMenuItem,\n  isCrossFiltersFeatureEnabled]\n  );\n  if (!menuItems.length) {\n    return null;\n  }\n  return ___EmotionJSX(React.Fragment, null,\n  ___EmotionJSX(DropdownSelectableIcon, { onSelect: handleSelect, icon: ___EmotionJSX(Icons.Gear, { name: \"gear\", iconColor: theme.colors.grayscale.base, \"data-test\": \"filterbar-orientation-icon\" }), menuItems: menuItems, selectedKeys: [selectedFilterBarOrientation] }),\n  scopingModal\n  );\n};__signature__(FilterBarSettings, \"useDispatch{dispatch}\\nuseTheme{theme}\\nuseSelector{isCrossFiltersEnabled}\\nuseSelector{filterBarOrientation}\\nuseState{[selectedFilterBarOrientation, setSelectedFilterBarOrientation](filterBarOrientation)}\\nuseState{[crossFiltersEnabled, setCrossFiltersEnabled](shouldEnableCrossFilters)}\\nuseSelector{canEdit}\\nuseCrossFiltersScopingModal{[openScopingModal, scopingModal]}\\nuseCallback{updateCrossFiltersSetting}\\nuseCallback{toggleCrossFiltering}\\nuseCallback{toggleFilterBarOrientation}\\nuseCallback{handleSelect}\\nuseMemo{crossFiltersMenuItem}\\nuseMemo{menuItems}\", () => [useDispatch, useTheme, useSelector, useSelector, useSelector, useCrossFiltersScopingModal]);const _default =\nFilterBarSettings;export default _default;;(function () {var reactHotLoader = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.default : undefined;if (!reactHotLoader) {return;}reactHotLoader.register(StyledMenuLabel, \"StyledMenuLabel\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(StyledCheckbox, \"StyledCheckbox\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(CROSS_FILTERS_MENU_KEY, \"CROSS_FILTERS_MENU_KEY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(CROSS_FILTERS_SCOPING_MENU_KEY, \"CROSS_FILTERS_SCOPING_MENU_KEY\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(isOrientation, \"isOrientation\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(FilterBarSettings, \"FilterBarSettings\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");reactHotLoader.register(_default, \"default\", \"/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx\");})();;(function () {var leaveModule = typeof reactHotLoaderGlobal !== 'undefined' ? reactHotLoaderGlobal.leaveModule : undefined;leaveModule && leaveModule(module);})();","map":{"version":3,"names":["React","useCallback","useMemo","useState","useDispatch","useSelector","FeatureFlag","isFeatureEnabled","styled","t","useTheme","FilterBarOrientation","saveFilterBarOrientation","saveCrossFiltersSetting","Icons","DropdownSelectableIcon","Checkbox","clearDataMaskState","useCrossFiltersScopingModal","jsx","___EmotionJSX","StyledMenuLabel","span","theme","gridUnit","StyledCheckbox","CROSS_FILTERS_MENU_KEY","CROSS_FILTERS_SCOPING_MENU_KEY","isOrientation","o","Vertical","Horizontal","FilterBarSettings","dispatch","isCrossFiltersEnabled","dashboardInfo","crossFiltersEnabled","filterBarOrientation","selectedFilterBarOrientation","setSelectedFilterBarOrientation","isCrossFiltersFeatureEnabled","DashboardCrossFilters","shouldEnableCrossFilters","setCrossFiltersEnabled","canEdit","dash_edit_perm","canSetHorizontalFilterBar","HorizontalFilterBar","openScopingModal","scopingModal","updateCrossFiltersSetting","isEnabled","toggleCrossFiltering","toggleFilterBarOrientation","orientation","handleSelect","selection","selectedKey","key","crossFiltersMenuItem","className","checked","onChange","menuItems","items","push","label","divider","children","length","Fragment","onSelect","icon","Gear","name","iconColor","colors","grayscale","base","selectedKeys","__signature__","_default","reactHotLoader","reactHotLoaderGlobal","default","undefined","register","leaveModule","module"],"sources":["/home/pawank/Documents/dcim/superset/superset-frontend/src/dashboard/components/nativeFilters/FilterBar/FilterBarSettings/index.tsx"],"sourcesContent":["/**\n * Licensed to the Apache Software Foundation (ASF) under one\n * or more contributor license agreements.  See the NOTICE file\n * distributed with this work for additional information\n * regarding copyright ownership.  The ASF licenses this file\n * to you under the Apache License, Version 2.0 (the\n * \"License\"); you may not use this file except in compliance\n * with the License.  You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing,\n * software distributed under the License is distributed on an\n * \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n * KIND, either express or implied.  See the License for the\n * specific language governing permissions and limitations\n * under the License.\n */\n\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  FeatureFlag,\n  isFeatureEnabled,\n  styled,\n  t,\n  useTheme,\n} from '@superset-ui/core';\nimport { MenuProps } from 'src/components/Menu';\nimport { FilterBarOrientation, RootState } from 'src/dashboard/types';\nimport {\n  saveFilterBarOrientation,\n  saveCrossFiltersSetting,\n} from 'src/dashboard/actions/dashboardInfo';\nimport Icons from 'src/components/Icons';\nimport DropdownSelectableIcon, {\n  DropDownSelectableProps,\n} from 'src/components/DropdownSelectableIcon';\nimport Checkbox from 'src/components/Checkbox';\nimport { clearDataMaskState } from 'src/dataMask/actions';\nimport { useCrossFiltersScopingModal } from '../CrossFilters/ScopingModal/useCrossFiltersScopingModal';\n\ntype SelectedKey = FilterBarOrientation | string | number;\n\nconst StyledMenuLabel = styled.span`\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n\n  .enable-cross-filters-text {\n    padding-left: ${({ theme }) => `${theme.gridUnit * 2}px`};\n  }\n`;\n\nconst StyledCheckbox = styled(Checkbox)`\n  ${({ theme }) => `\n  &,\n  svg {\n    display: inline-block;\n    width: ${theme.gridUnit * 4}px;\n    height: ${theme.gridUnit * 4}px;\n  }\n`}\n`;\n\nconst CROSS_FILTERS_MENU_KEY = 'cross-filters-menu-key';\nconst CROSS_FILTERS_SCOPING_MENU_KEY = 'cross-filters-scoping-menu-key';\n\nconst isOrientation = (o: SelectedKey): o is FilterBarOrientation =>\n  o === FilterBarOrientation.Vertical || o === FilterBarOrientation.Horizontal;\n\nconst FilterBarSettings = () => {\n  const dispatch = useDispatch();\n  const theme = useTheme();\n  const isCrossFiltersEnabled = useSelector<RootState, boolean>(\n    ({ dashboardInfo }) => dashboardInfo.crossFiltersEnabled,\n  );\n  const filterBarOrientation = useSelector<RootState, FilterBarOrientation>(\n    ({ dashboardInfo }) => dashboardInfo.filterBarOrientation,\n  );\n  const [selectedFilterBarOrientation, setSelectedFilterBarOrientation] =\n    useState(filterBarOrientation);\n  const isCrossFiltersFeatureEnabled = isFeatureEnabled(\n    FeatureFlag.DashboardCrossFilters,\n  );\n  const shouldEnableCrossFilters =\n    isCrossFiltersEnabled && isCrossFiltersFeatureEnabled;\n  const [crossFiltersEnabled, setCrossFiltersEnabled] = useState<boolean>(\n    shouldEnableCrossFilters,\n  );\n  const canEdit = useSelector<RootState, boolean>(\n    ({ dashboardInfo }) => dashboardInfo.dash_edit_perm,\n  );\n  const canSetHorizontalFilterBar =\n    canEdit && isFeatureEnabled(FeatureFlag.HorizontalFilterBar);\n\n  const [openScopingModal, scopingModal] = useCrossFiltersScopingModal();\n\n  const updateCrossFiltersSetting = useCallback(\n    async isEnabled => {\n      if (!isEnabled) {\n        dispatch(clearDataMaskState());\n      }\n      await dispatch(saveCrossFiltersSetting(isEnabled));\n    },\n    [dispatch],\n  );\n\n  const toggleCrossFiltering = useCallback(() => {\n    setCrossFiltersEnabled(!crossFiltersEnabled);\n    updateCrossFiltersSetting(!crossFiltersEnabled);\n  }, [crossFiltersEnabled, updateCrossFiltersSetting]);\n\n  const toggleFilterBarOrientation = useCallback(\n    async (orientation: FilterBarOrientation) => {\n      if (orientation === filterBarOrientation) {\n        return;\n      }\n      // set displayed selection in local state for immediate visual response after clicking\n      setSelectedFilterBarOrientation(orientation);\n      try {\n        // save selection in Redux and backend\n        await dispatch(saveFilterBarOrientation(orientation));\n      } catch {\n        // revert local state in case of error when saving\n        setSelectedFilterBarOrientation(filterBarOrientation);\n      }\n    },\n    [dispatch, filterBarOrientation],\n  );\n\n  const handleSelect = useCallback(\n    (\n      selection: Parameters<\n        Required<Pick<MenuProps, 'onSelect'>>['onSelect']\n      >[0],\n    ) => {\n      const selectedKey: SelectedKey = selection.key;\n      if (selectedKey === CROSS_FILTERS_MENU_KEY) {\n        toggleCrossFiltering();\n      } else if (isOrientation(selectedKey)) {\n        toggleFilterBarOrientation(selectedKey);\n      } else if (selectedKey === CROSS_FILTERS_SCOPING_MENU_KEY) {\n        openScopingModal();\n      }\n    },\n    [openScopingModal, toggleCrossFiltering, toggleFilterBarOrientation],\n  );\n\n  const crossFiltersMenuItem = useMemo(\n    () => (\n      <StyledMenuLabel>\n        <StyledCheckbox\n          className=\"enable-cross-filters\"\n          checked={crossFiltersEnabled}\n          onChange={checked => setCrossFiltersEnabled(checked || false)}\n        />{' '}\n        <span className=\"enable-cross-filters-text\">\n          {t('Enable cross-filtering')}\n        </span>\n      </StyledMenuLabel>\n    ),\n    [crossFiltersEnabled],\n  );\n\n  const menuItems = useMemo(() => {\n    const items: DropDownSelectableProps['menuItems'] = [];\n\n    if (isCrossFiltersFeatureEnabled && canEdit) {\n      items.push({\n        key: CROSS_FILTERS_MENU_KEY,\n        label: crossFiltersMenuItem,\n      });\n      items.push({\n        key: CROSS_FILTERS_SCOPING_MENU_KEY,\n        label: t('Cross-filtering scoping'),\n        divider: canSetHorizontalFilterBar,\n      });\n    }\n\n    if (canSetHorizontalFilterBar) {\n      items.push({\n        key: 'placement',\n        label: t('Orientation of filter bar'),\n        children: [\n          {\n            key: FilterBarOrientation.Vertical,\n            label: t('Vertical (Left)'),\n          },\n          {\n            key: FilterBarOrientation.Horizontal,\n            label: t('Horizontal (Top)'),\n          },\n        ],\n      });\n    }\n    return items;\n  }, [\n    canEdit,\n    canSetHorizontalFilterBar,\n    crossFiltersMenuItem,\n    isCrossFiltersFeatureEnabled,\n  ]);\n\n  if (!menuItems.length) {\n    return null;\n  }\n\n  return (\n    <>\n      <DropdownSelectableIcon\n        onSelect={handleSelect}\n        icon={\n          <Icons.Gear\n            name=\"gear\"\n            iconColor={theme.colors.grayscale.base}\n            data-test=\"filterbar-orientation-icon\"\n          />\n        }\n        menuItems={menuItems}\n        selectedKeys={[selectedFilterBarOrientation]}\n      />\n      {scopingModal}\n    </>\n  );\n};\n\nexport default FilterBarSettings;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}